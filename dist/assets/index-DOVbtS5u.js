function O_(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function L_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Eh={exports:{}},ua={},wh={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function M_(){if(Zp)return Se;Zp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,q={};function U(O,G,fe){this.props=O,this.context=G,this.refs=q,this.updater=fe||F}U.prototype.isReactComponent={},U.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function le(){}le.prototype=U.prototype;function te(O,G,fe){this.props=O,this.context=G,this.refs=q,this.updater=fe||F}var ne=te.prototype=new le;ne.constructor=te,$(ne,U.prototype),ne.isPureReactComponent=!0;var de=Array.isArray,Le=Object.prototype.hasOwnProperty,Ae={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function S(O,G,fe){var Te,Ie={},Pe=null,Me=null;if(G!=null)for(Te in G.ref!==void 0&&(Me=G.ref),G.key!==void 0&&(Pe=""+G.key),G)Le.call(G,Te)&&!V.hasOwnProperty(Te)&&(Ie[Te]=G[Te]);var be=arguments.length-2;if(be===1)Ie.children=fe;else if(1<be){for(var ze=Array(be),vt=0;vt<be;vt++)ze[vt]=arguments[vt+2];Ie.children=ze}if(O&&O.defaultProps)for(Te in be=O.defaultProps,be)Ie[Te]===void 0&&(Ie[Te]=be[Te]);return{$$typeof:i,type:O,key:Pe,ref:Me,props:Ie,_owner:Ae.current}}function R(O,G){return{$$typeof:i,type:O.type,key:G,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function D(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return G[fe]})}var L=/\/+/g;function x(O,G){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):G.toString(36)}function nt(O,G,fe,Te,Ie){var Pe=typeof O;(Pe==="undefined"||Pe==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Pe){case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case i:case e:Me=!0}}if(Me)return Me=O,Ie=Ie(Me),O=Te===""?"."+x(Me,0):Te,de(Ie)?(fe="",O!=null&&(fe=O.replace(L,"$&/")+"/"),nt(Ie,G,fe,"",function(vt){return vt})):Ie!=null&&(k(Ie)&&(Ie=R(Ie,fe+(!Ie.key||Me&&Me.key===Ie.key?"":(""+Ie.key).replace(L,"$&/")+"/")+O)),G.push(Ie)),1;if(Me=0,Te=Te===""?".":Te+":",de(O))for(var be=0;be<O.length;be++){Pe=O[be];var ze=Te+x(Pe,be);Me+=nt(Pe,G,fe,ze,Ie)}else if(ze=A(O),typeof ze=="function")for(O=ze.call(O),be=0;!(Pe=O.next()).done;)Pe=Pe.value,ze=Te+x(Pe,be++),Me+=nt(Pe,G,fe,ze,Ie);else if(Pe==="object")throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Me}function Nt(O,G,fe){if(O==null)return O;var Te=[],Ie=0;return nt(O,Te,"","",function(Pe){return G.call(fe,Pe,Ie++)}),Te}function Vt(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Ue={current:null},ee={transition:null},me={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ae};function se(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Nt,forEach:function(O,G,fe){Nt(O,function(){G.apply(this,arguments)},fe)},count:function(O){var G=0;return Nt(O,function(){G++}),G},toArray:function(O){return Nt(O,function(G){return G})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Se.Component=U,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=te,Se.StrictMode=s,Se.Suspense=y,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Se.act=se,Se.cloneElement=function(O,G,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Te=$({},O.props),Ie=O.key,Pe=O.ref,Me=O._owner;if(G!=null){if(G.ref!==void 0&&(Pe=G.ref,Me=Ae.current),G.key!==void 0&&(Ie=""+G.key),O.type&&O.type.defaultProps)var be=O.type.defaultProps;for(ze in G)Le.call(G,ze)&&!V.hasOwnProperty(ze)&&(Te[ze]=G[ze]===void 0&&be!==void 0?be[ze]:G[ze])}var ze=arguments.length-2;if(ze===1)Te.children=fe;else if(1<ze){be=Array(ze);for(var vt=0;vt<ze;vt++)be[vt]=arguments[vt+2];Te.children=be}return{$$typeof:i,type:O.type,key:Ie,ref:Pe,props:Te,_owner:Me}},Se.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},Se.createElement=S,Se.createFactory=function(O){var G=S.bind(null,O);return G.type=O,G},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:m,render:O}},Se.isValidElement=k,Se.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:Vt}},Se.memo=function(O,G){return{$$typeof:v,type:O,compare:G===void 0?null:G}},Se.startTransition=function(O){var G=ee.transition;ee.transition={};try{O()}finally{ee.transition=G}},Se.unstable_act=se,Se.useCallback=function(O,G){return Ue.current.useCallback(O,G)},Se.useContext=function(O){return Ue.current.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O){return Ue.current.useDeferredValue(O)},Se.useEffect=function(O,G){return Ue.current.useEffect(O,G)},Se.useId=function(){return Ue.current.useId()},Se.useImperativeHandle=function(O,G,fe){return Ue.current.useImperativeHandle(O,G,fe)},Se.useInsertionEffect=function(O,G){return Ue.current.useInsertionEffect(O,G)},Se.useLayoutEffect=function(O,G){return Ue.current.useLayoutEffect(O,G)},Se.useMemo=function(O,G){return Ue.current.useMemo(O,G)},Se.useReducer=function(O,G,fe){return Ue.current.useReducer(O,G,fe)},Se.useRef=function(O){return Ue.current.useRef(O)},Se.useState=function(O){return Ue.current.useState(O)},Se.useSyncExternalStore=function(O,G,fe){return Ue.current.useSyncExternalStore(O,G,fe)},Se.useTransition=function(){return Ue.current.useTransition()},Se.version="18.3.1",Se}var em;function ud(){return em||(em=1,wh.exports=M_()),wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function b_(){if(tm)return ua;tm=1;var i=ud(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,v){var w,T={},A=null,F=null;v!==void 0&&(A=""+v),y.key!==void 0&&(A=""+y.key),y.ref!==void 0&&(F=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(T[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)T[w]===void 0&&(T[w]=y[w]);return{$$typeof:e,type:m,key:A,ref:F,props:T,_owner:a.current}}return ua.Fragment=n,ua.jsx=h,ua.jsxs=h,ua}var nm;function j_(){return nm||(nm=1,Eh.exports=b_()),Eh.exports}var C=j_(),J=ud();const F_=L_(J),U_=O_({__proto__:null,default:F_},[J]);var Xl={},Th={exports:{}},Xt={},Ih={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function B_(){return rm||(rm=1,(function(i){function e(ee,me){var se=ee.length;ee.push(me);e:for(;0<se;){var O=se-1>>>1,G=ee[O];if(0<a(G,me))ee[O]=me,ee[se]=G,se=O;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var me=ee[0],se=ee.pop();if(se!==me){ee[0]=se;e:for(var O=0,G=ee.length,fe=G>>>1;O<fe;){var Te=2*(O+1)-1,Ie=ee[Te],Pe=Te+1,Me=ee[Pe];if(0>a(Ie,se))Pe<G&&0>a(Me,Ie)?(ee[O]=Me,ee[Pe]=se,O=Pe):(ee[O]=Ie,ee[Te]=se,O=Te);else if(Pe<G&&0>a(Me,se))ee[O]=Me,ee[Pe]=se,O=Pe;else break e}}return me}function a(ee,me){var se=ee.sortIndex-me.sortIndex;return se!==0?se:ee.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],v=[],w=1,T=null,A=3,F=!1,$=!1,q=!1,U=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(ee){for(var me=n(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=ee)s(v),me.sortIndex=me.expirationTime,e(y,me);else break;me=n(v)}}function de(ee){if(q=!1,ne(ee),!$)if(n(y)!==null)$=!0,Vt(Le);else{var me=n(v);me!==null&&Ue(de,me.startTime-ee)}}function Le(ee,me){$=!1,q&&(q=!1,le(S),S=-1),F=!0;var se=A;try{for(ne(me),T=n(y);T!==null&&(!(T.expirationTime>me)||ee&&!D());){var O=T.callback;if(typeof O=="function"){T.callback=null,A=T.priorityLevel;var G=O(T.expirationTime<=me);me=i.unstable_now(),typeof G=="function"?T.callback=G:T===n(y)&&s(y),ne(me)}else s(y);T=n(y)}if(T!==null)var fe=!0;else{var Te=n(v);Te!==null&&Ue(de,Te.startTime-me),fe=!1}return fe}finally{T=null,A=se,F=!1}}var Ae=!1,V=null,S=-1,R=5,k=-1;function D(){return!(i.unstable_now()-k<R)}function L(){if(V!==null){var ee=i.unstable_now();k=ee;var me=!0;try{me=V(!0,ee)}finally{me?x():(Ae=!1,V=null)}}else Ae=!1}var x;if(typeof te=="function")x=function(){te(L)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,Nt=nt.port2;nt.port1.onmessage=L,x=function(){Nt.postMessage(null)}}else x=function(){U(L,0)};function Vt(ee){V=ee,Ae||(Ae=!0,x())}function Ue(ee,me){S=U(function(){ee(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){$||F||($=!0,Vt(Le))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var se=A;A=me;try{return ee()}finally{A=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var se=A;A=ee;try{return me()}finally{A=se}},i.unstable_scheduleCallback=function(ee,me,se){var O=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?O+se:O):se=O,ee){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,ee={id:w++,callback:me,priorityLevel:ee,startTime:se,expirationTime:G,sortIndex:-1},se>O?(ee.sortIndex=se,e(v,ee),n(y)===null&&ee===n(v)&&(q?(le(S),S=-1):q=!0,Ue(de,se-O))):(ee.sortIndex=G,e(y,ee),$||F||($=!0,Vt(Le))),ee},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ee){var me=A;return function(){var se=A;A=me;try{return ee.apply(this,arguments)}finally{A=se}}}})(Sh)),Sh}var im;function z_(){return im||(im=1,Ih.exports=B_()),Ih.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function $_(){if(sm)return Xt;sm=1;var i=ud(),e=z_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function A(t){return y.call(T,t)?!0:y.call(w,t)?!1:v.test(t)?T[t]=!0:(w[t]=!0,!1)}function F(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $(t,r,o,u){if(r===null||typeof r>"u"||F(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,u,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var le=/[\-:]([a-z])/g;function te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(le,te);U[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(le,te);U[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(le,te);U[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,u){var d=U.hasOwnProperty(r)?U[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&($(r,o,d,u)&&(o=null),u||d===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Le=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ee=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,O;function G(t){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var fe=!1;function Te(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),p=u.stack.split(`
`),_=d.length-1,I=p.length-1;1<=_&&0<=I&&d[_]!==p[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==p[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==p[I]){var P=`
`+d[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=I);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?G(t):""}function Ie(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ae:return"Portal";case R:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case nt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nt:return r=t.displayName||null,r!==null?r:Pe(t.type)||"Memo";case Vt:r=t._payload,t=t._init;try{return Pe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ze(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vt(t){var r=ze(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function nr(t){t._valueTracker||(t._valueTracker=vt(t))}function Xi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=ze(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mi(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ji(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=be(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function mo(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function go(t,r){mo(t,r);var o=be(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Zi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Zi(t,r.type,be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ma(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Zi(t,r,o){(r!=="number"||Sr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var rr=Array.isArray;function ir(t,r,o,u){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+be(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function yo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function es(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(rr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:be(o)}}function ts(t,r){var o=be(r.value),u=be(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function vo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sr,_o=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(sr=sr||document.createElement("div"),sr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=sr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ar(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){yi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),gi[r]=gi[t]})});function Eo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||gi.hasOwnProperty(t)&&gi[t]?(""+r).trim():r+"px"}function wo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Eo(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var To=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(t,r){if(r){if(To[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function So(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function ns(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rs=null,un=null,bn=null;function is(t){if(t=Qo(t)){if(typeof rs!="function")throw Error(n(280));var r=t.stateNode;r&&(r=dl(r),rs(t.stateNode,t.type,r))}}function jn(t){un?bn?bn.push(t):bn=[t]:un=t}function Ao(){if(un){var t=un,r=bn;if(bn=un=null,is(t),r)for(t=0;t<r.length;t++)is(r[t])}}function _i(t,r){return t(r)}function Co(){}var or=!1;function xo(t,r,o){if(or)return t(r,o);or=!0;try{return _i(t,r,o)}finally{or=!1,(un!==null||bn!==null)&&(Co(),Ao())}}function rt(t,r){var o=t.stateNode;if(o===null)return null;var u=dl(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ss=!1;if(m)try{var En={};Object.defineProperty(En,"passive",{get:function(){ss=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{ss=!1}function Ei(t,r,o,u,d,p,_,I,P){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(K){this.onError(K)}}var wi=!1,os=null,wn=!1,Ro=null,Qu={onError:function(t){wi=!0,os=t}};function as(t,r,o,u,d,p,_,I,P){wi=!1,os=null,Ei.apply(Qu,arguments)}function ba(t,r,o,u,d,p,_,I,P){if(as.apply(this,arguments),wi){if(wi){var B=os;wi=!1,os=null}else throw Error(n(198));wn||(wn=!0,Ro=B)}}function Tn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Ti(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function In(t){if(Tn(t)!==t)throw Error(n(188))}function ja(t){var r=t.alternate;if(!r){if(r=Tn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return In(d),t;if(p===u)return In(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=d,u=p;else{for(var _=!1,I=d.child;I;){if(I===o){_=!0,o=d,u=p;break}if(I===u){_=!0,u=d,o=p;break}I=I.sibling}if(!_){for(I=p.child;I;){if(I===o){_=!0,o=p,u=d;break}if(I===u){_=!0,u=p,o=d;break}I=I.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Po(t){return t=ja(t),t!==null?ls(t):null}function ls(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ls(t);if(r!==null)return r;t=t.sibling}return null}var us=e.unstable_scheduleCallback,ko=e.unstable_cancelCallback,Fa=e.unstable_shouldYield,Ku=e.unstable_requestPaint,$e=e.unstable_now,Ua=e.unstable_getCurrentPriorityLevel,Ii=e.unstable_ImmediatePriority,Cr=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,No=e.unstable_LowPriority,Ba=e.unstable_IdlePriority,Si=null,en=null;function za(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Si,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:qa,Vo=Math.log,$a=Math.LN2;function qa(t){return t>>>=0,t===0?32:31-(Vo(t)/$a|0)|0}var cs=64,hs=4194304;function xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ai(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var I=_&~d;I!==0?u=xr(I):(p&=_,p!==0&&(u=xr(p)))}else _=o&~d,_!==0?u=xr(_):p!==0&&(u=xr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),d=1<<o,u|=t[o],r&=~d;return u}function Yu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ut(p),I=1<<_,P=d[_];P===-1?((I&o)===0||(I&u)!==0)&&(d[_]=Yu(I,r)):P<=r&&(t.expiredLanes|=I),p&=~I}}function tn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ci(){var t=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),t}function Rr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Pr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Ut(o),p=1<<d;r[d]=0,u[d]=-1,t[d]=-1,o&=~p}}function kr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),d=1<<u;d&r|t[u]&r&&(t[u]|=r),o&=~d}}var Re=0;function Nr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ha,ds,Wa,Ga,Qa,Do=!1,Fn=[],St=null,Sn=null,An=null,Vr=new Map,hn=new Map,Un=[],Xu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(t,r){switch(t){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Vr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(r.pointerId)}}function qt(t,r,o,u,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Qo(r),r!==null&&ds(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Ju(t,r,o,u,d){switch(r){case"focusin":return St=qt(St,t,r,o,u,d),!0;case"dragenter":return Sn=qt(Sn,t,r,o,u,d),!0;case"mouseover":return An=qt(An,t,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return Vr.set(p,qt(Vr.get(p)||null,t,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,hn.set(p,qt(hn.get(p)||null,t,r,o,u,d)),!0}return!1}function Ya(t){var r=Ni(t.target);if(r!==null){var o=Tn(r);if(o!==null){if(r=o.tag,r===13){if(r=Ti(o),r!==null){t.blockedOn=r,Qa(t.priority,function(){Wa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=fs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);vi=u,o.target.dispatchEvent(u),vi=null}else return r=Qo(o),r!==null&&ds(r),t.blockedOn=o,!1;r.shift()}return!0}function xi(t,r,o){lr(t)&&o.delete(r)}function Xa(){Do=!1,St!==null&&lr(St)&&(St=null),Sn!==null&&lr(Sn)&&(Sn=null),An!==null&&lr(An)&&(An=null),Vr.forEach(xi),hn.forEach(xi)}function Cn(t,r){t.blockedOn===r&&(t.blockedOn=null,Do||(Do=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xa)))}function xn(t){function r(d){return Cn(d,t)}if(0<Fn.length){Cn(Fn[0],t);for(var o=1;o<Fn.length;o++){var u=Fn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(St!==null&&Cn(St,t),Sn!==null&&Cn(Sn,t),An!==null&&Cn(An,t),Vr.forEach(r),hn.forEach(r),o=0;o<Un.length;o++)u=Un[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Un.length&&(o=Un[0],o.blockedOn===null);)Ya(o),o.blockedOn===null&&Un.shift()}var ur=de.ReactCurrentBatchConfig,Dr=!0;function Ke(t,r,o,u){var d=Re,p=ur.transition;ur.transition=null;try{Re=1,Oo(t,r,o,u)}finally{Re=d,ur.transition=p}}function Zu(t,r,o,u){var d=Re,p=ur.transition;ur.transition=null;try{Re=4,Oo(t,r,o,u)}finally{Re=d,ur.transition=p}}function Oo(t,r,o,u){if(Dr){var d=fs(t,r,o,u);if(d===null)cc(t,r,u,Ri,o),Ka(t,u);else if(Ju(d,t,r,o,u))u.stopPropagation();else if(Ka(t,u),r&4&&-1<Xu.indexOf(t)){for(;d!==null;){var p=Qo(d);if(p!==null&&Ha(p),p=fs(t,r,o,u),p===null&&cc(t,r,u,Ri,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else cc(t,r,u,null,o)}}var Ri=null;function fs(t,r,o,u){if(Ri=null,t=ns(u),t=Ni(t),t!==null)if(r=Tn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Ti(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ri=t,null}function Lo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ua()){case Ii:return 1;case Cr:return 4;case cn:case No:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var nn=null,ps=null,Ht=null;function Mo(){if(Ht)return Ht;var t,r=ps,o=r.length,u,d="value"in nn?nn.value:nn.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===d[p-u];u++);return Ht=d.slice(t,1<u?1-u:void 0)}function ms(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Bn(){return!0}function bo(){return!1}function At(t){function r(o,u,d,p,_){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bn:bo,this.isPropagationStopped=bo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=At(Rn),zn=se({},Rn,{view:0,detail:0}),ec=At(zn),ys,cr,Or,Pi=se({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(ys=t.screenX-Or.screenX,cr=t.screenY-Or.screenY):cr=ys=0,Or=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:cr}}),vs=At(Pi),jo=se({},Pi,{dataTransfer:0}),Ja=At(jo),_s=se({},zn,{relatedTarget:0}),Es=At(_s),Za=se({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),hr=At(Za),el=se({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tl=At(el),nl=se({},Rn,{data:0}),Fo=At(nl),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=rl[t])?!!r[t]:!1}function $n(){return il}var l=se({},zn,{key:function(t){if(t.key){var r=ws[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(t){return t.type==="keypress"?ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=At(l),g=se({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=At(g),M=se({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n}),z=At(M),Z=se({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=At(Z),ft=se({},Pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=At(ft),_t=[9,13,27,32],ot=m&&"CompositionEvent"in window,dn=null;m&&"documentMode"in document&&(dn=document.documentMode);var rn=m&&"TextEvent"in window&&!dn,ki=m&&(!ot||dn&&8<dn&&11>=dn),Ts=" ",Wd=!1;function Gd(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function Nv(t,r){switch(t){case"compositionend":return Qd(r);case"keypress":return r.which!==32?null:(Wd=!0,Ts);case"textInput":return t=r.data,t===Ts&&Wd?null:t;default:return null}}function Vv(t,r){if(Is)return t==="compositionend"||!ot&&Gd(t,r)?(t=Mo(),Ht=ps=nn=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ki&&r.locale!=="ko"?null:r.data;default:return null}}var Dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dv[t.type]:r==="textarea"}function Yd(t,r,o,u){jn(u),r=ul(r,"onChange"),0<r.length&&(o=new gs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Uo=null,Bo=null;function Ov(t){mf(t,0)}function sl(t){var r=Rs(t);if(Xi(r))return t}function Lv(t,r){if(t==="change")return r}var Xd=!1;if(m){var tc;if(m){var nc="oninput"in document;if(!nc){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),nc=typeof Jd.oninput=="function"}tc=nc}else tc=!1;Xd=tc&&(!document.documentMode||9<document.documentMode)}function Zd(){Uo&&(Uo.detachEvent("onpropertychange",ef),Bo=Uo=null)}function ef(t){if(t.propertyName==="value"&&sl(Bo)){var r=[];Yd(r,Bo,t,ns(t)),xo(Ov,r)}}function Mv(t,r,o){t==="focusin"?(Zd(),Uo=r,Bo=o,Uo.attachEvent("onpropertychange",ef)):t==="focusout"&&Zd()}function bv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sl(Bo)}function jv(t,r){if(t==="click")return sl(r)}function Fv(t,r){if(t==="input"||t==="change")return sl(r)}function Uv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Uv;function zo(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!y.call(r,d)||!Pn(t[d],r[d]))return!1}return!0}function tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nf(t,r){var o=tf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=tf(o)}}function rf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?rf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sf(){for(var t=window,r=Sr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Sr(t.document)}return r}function rc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Bv(t){var r=sf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&rf(o.ownerDocument.documentElement,o)){if(u!==null&&rc(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!t.extend&&p>u&&(d=u,u=p,p=d),d=nf(o,p);var _=nf(o,u);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zv=m&&"documentMode"in document&&11>=document.documentMode,Ss=null,ic=null,$o=null,sc=!1;function of(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sc||Ss==null||Ss!==Sr(u)||(u=Ss,"selectionStart"in u&&rc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$o&&zo($o,u)||($o=u,u=ul(ic,"onSelect"),0<u.length&&(r=new gs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Ss)))}function ol(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var As={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},oc={},af={};m&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function al(t){if(oc[t])return oc[t];if(!As[t])return t;var r=As[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in af)return oc[t]=r[o];return t}var lf=al("animationend"),uf=al("animationiteration"),cf=al("animationstart"),hf=al("transitionend"),df=new Map,ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,r){df.set(t,r),c(r,[t])}for(var ac=0;ac<ff.length;ac++){var lc=ff[ac],$v=lc.toLowerCase(),qv=lc[0].toUpperCase()+lc.slice(1);Lr($v,"on"+qv)}Lr(lf,"onAnimationEnd"),Lr(uf,"onAnimationIteration"),Lr(cf,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(hf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function pf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ba(u,r,void 0,t),t.currentTarget=null}function mf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var I=u[_],P=I.instance,B=I.currentTarget;if(I=I.listener,P!==p&&d.isPropagationStopped())break e;pf(d,I,B),p=P}else for(_=0;_<u.length;_++){if(I=u[_],P=I.instance,B=I.currentTarget,I=I.listener,P!==p&&d.isPropagationStopped())break e;pf(d,I,B),p=P}}}if(wn)throw t=Ro,wn=!1,Ro=null,t}function We(t,r){var o=r[gc];o===void 0&&(o=r[gc]=new Set);var u=t+"__bubble";o.has(u)||(gf(r,t,2,!1),o.add(u))}function uc(t,r,o){var u=0;r&&(u|=4),gf(o,t,u,r)}var ll="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[ll]){t[ll]=!0,s.forEach(function(o){o!=="selectionchange"&&(Hv.has(o)||uc(o,!1,t),uc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ll]||(r[ll]=!0,uc("selectionchange",!1,r))}}function gf(t,r,o,u){switch(Lo(r)){case 1:var d=Ke;break;case 4:d=Zu;break;default:d=Oo}o=d.bind(null,r,o,t),d=void 0,!ss||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function cc(t,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var I=u.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Ni(I),_===null)return;if(P=_.tag,P===5||P===6){u=p=_;continue e}I=I.parentNode}}u=u.return}xo(function(){var B=p,K=ns(o),Y=[];e:{var Q=df.get(t);if(Q!==void 0){var ie=gs,ue=t;switch(t){case"keypress":if(ms(o)===0)break e;case"keydown":case"keyup":ie=f;break;case"focusin":ue="focus",ie=Es;break;case"focusout":ue="blur",ie=Es;break;case"beforeblur":case"afterblur":ie=Es;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ja;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=z;break;case lf:case uf:case cf:ie=hr;break;case hf:ie=Fe;break;case"scroll":ie=ec;break;case"wheel":ie=ke;break;case"copy":case"cut":case"paste":ie=tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var ce=(r&4)!==0,it=!ce&&t==="scroll",b=ce?Q!==null?Q+"Capture":null:Q;ce=[];for(var N=B,j;N!==null;){j=N;var X=j.stateNode;if(j.tag===5&&X!==null&&(j=X,b!==null&&(X=rt(N,b),X!=null&&ce.push(Wo(N,X,j)))),it)break;N=N.return}0<ce.length&&(Q=new ie(Q,ue,null,o,K),Y.push({event:Q,listeners:ce}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",Q&&o!==vi&&(ue=o.relatedTarget||o.fromElement)&&(Ni(ue)||ue[dr]))break e;if((ie||Q)&&(Q=K.window===K?K:(Q=K.ownerDocument)?Q.defaultView||Q.parentWindow:window,ie?(ue=o.relatedTarget||o.toElement,ie=B,ue=ue?Ni(ue):null,ue!==null&&(it=Tn(ue),ue!==it||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=B),ie!==ue)){if(ce=vs,X="onMouseLeave",b="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ce=E,X="onPointerLeave",b="onPointerEnter",N="pointer"),it=ie==null?Q:Rs(ie),j=ue==null?Q:Rs(ue),Q=new ce(X,N+"leave",ie,o,K),Q.target=it,Q.relatedTarget=j,X=null,Ni(K)===B&&(ce=new ce(b,N+"enter",ue,o,K),ce.target=j,ce.relatedTarget=it,X=ce),it=X,ie&&ue)t:{for(ce=ie,b=ue,N=0,j=ce;j;j=Cs(j))N++;for(j=0,X=b;X;X=Cs(X))j++;for(;0<N-j;)ce=Cs(ce),N--;for(;0<j-N;)b=Cs(b),j--;for(;N--;){if(ce===b||b!==null&&ce===b.alternate)break t;ce=Cs(ce),b=Cs(b)}ce=null}else ce=null;ie!==null&&yf(Y,Q,ie,ce,!1),ue!==null&&it!==null&&yf(Y,it,ue,ce,!0)}}e:{if(Q=B?Rs(B):window,ie=Q.nodeName&&Q.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Q.type==="file")var he=Lv;else if(Kd(Q))if(Xd)he=Fv;else{he=bv;var ge=Mv}else(ie=Q.nodeName)&&ie.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(he=jv);if(he&&(he=he(t,B))){Yd(Y,he,o,K);break e}ge&&ge(t,Q,B),t==="focusout"&&(ge=Q._wrapperState)&&ge.controlled&&Q.type==="number"&&Zi(Q,"number",Q.value)}switch(ge=B?Rs(B):window,t){case"focusin":(Kd(ge)||ge.contentEditable==="true")&&(Ss=ge,ic=B,$o=null);break;case"focusout":$o=ic=Ss=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,of(Y,o,K);break;case"selectionchange":if(zv)break;case"keydown":case"keyup":of(Y,o,K)}var ye;if(ot)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Is?Gd(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(ki&&o.locale!=="ko"&&(Is||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Is&&(ye=Mo()):(nn=K,ps="value"in nn?nn.value:nn.textContent,Is=!0)),ge=ul(B,_e),0<ge.length&&(_e=new Fo(_e,t,null,o,K),Y.push({event:_e,listeners:ge}),ye?_e.data=ye:(ye=Qd(o),ye!==null&&(_e.data=ye)))),(ye=rn?Nv(t,o):Vv(t,o))&&(B=ul(B,"onBeforeInput"),0<B.length&&(K=new Fo("onBeforeInput","beforeinput",null,o,K),Y.push({event:K,listeners:B}),K.data=ye))}mf(Y,r)})}function Wo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function ul(t,r){for(var o=r+"Capture",u=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=rt(t,o),p!=null&&u.unshift(Wo(t,p,d)),p=rt(t,r),p!=null&&u.push(Wo(t,p,d))),t=t.return}return u}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yf(t,r,o,u,d){for(var p=r._reactName,_=[];o!==null&&o!==u;){var I=o,P=I.alternate,B=I.stateNode;if(P!==null&&P===u)break;I.tag===5&&B!==null&&(I=B,d?(P=rt(o,p),P!=null&&_.unshift(Wo(o,P,I))):d||(P=rt(o,p),P!=null&&_.push(Wo(o,P,I)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Wv=/\r\n?/g,Gv=/\u0000|\uFFFD/g;function vf(t){return(typeof t=="string"?t:""+t).replace(Wv,`
`).replace(Gv,"")}function cl(t,r,o){if(r=vf(r),vf(t)!==r&&o)throw Error(n(425))}function hl(){}var hc=null,dc=null;function fc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,Kv=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(t){return _f.resolve(null).then(t).catch(Yv)}:pc;function Yv(t){setTimeout(function(){throw t})}function mc(t,r){var o=r,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),xn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);xn(r)}function Mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ef(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var xs=Math.random().toString(36).slice(2),qn="__reactFiber$"+xs,Go="__reactProps$"+xs,dr="__reactContainer$"+xs,gc="__reactEvents$"+xs,Xv="__reactListeners$"+xs,Jv="__reactHandles$"+xs;function Ni(t){var r=t[qn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[dr]||o[qn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ef(t);t!==null;){if(o=t[qn])return o;t=Ef(t)}return r}t=o,o=t.parentNode}return null}function Qo(t){return t=t[qn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function dl(t){return t[Go]||null}var yc=[],Ps=-1;function br(t){return{current:t}}function Ge(t){0>Ps||(t.current=yc[Ps],yc[Ps]=null,Ps--)}function qe(t,r){Ps++,yc[Ps]=t.current,t.current=r}var jr={},Dt=br(jr),Wt=br(!1),Vi=jr;function ks(t,r){var o=t.type.contextTypes;if(!o)return jr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Gt(t){return t=t.childContextTypes,t!=null}function fl(){Ge(Wt),Ge(Dt)}function wf(t,r,o){if(Dt.current!==jr)throw Error(n(168));qe(Dt,r),qe(Wt,o)}function Tf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,Me(t)||"Unknown",d));return se({},o,u)}function pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jr,Vi=Dt.current,qe(Dt,t),qe(Wt,Wt.current),!0}function If(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Tf(t,r,Vi),u.__reactInternalMemoizedMergedChildContext=t,Ge(Wt),Ge(Dt),qe(Dt,t)):Ge(Wt),qe(Wt,o)}var fr=null,ml=!1,vc=!1;function Sf(t){fr===null?fr=[t]:fr.push(t)}function Zv(t){ml=!0,Sf(t)}function Fr(){if(!vc&&fr!==null){vc=!0;var t=0,r=Re;try{var o=fr;for(Re=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}fr=null,ml=!1}catch(d){throw fr!==null&&(fr=fr.slice(t+1)),us(Ii,Fr),d}finally{Re=r,vc=!1}}return null}var Ns=[],Vs=0,gl=null,yl=0,fn=[],pn=0,Di=null,pr=1,mr="";function Oi(t,r){Ns[Vs++]=yl,Ns[Vs++]=gl,gl=t,yl=r}function Af(t,r,o){fn[pn++]=pr,fn[pn++]=mr,fn[pn++]=Di,Di=t;var u=pr;t=mr;var d=32-Ut(u)-1;u&=~(1<<d),o+=1;var p=32-Ut(r)+d;if(30<p){var _=d-d%5;p=(u&(1<<_)-1).toString(32),u>>=_,d-=_,pr=1<<32-Ut(r)+d|o<<d|u,mr=p+t}else pr=1<<p|o<<d|u,mr=t}function _c(t){t.return!==null&&(Oi(t,1),Af(t,1,0))}function Ec(t){for(;t===gl;)gl=Ns[--Vs],Ns[Vs]=null,yl=Ns[--Vs],Ns[Vs]=null;for(;t===Di;)Di=fn[--pn],fn[pn]=null,mr=fn[--pn],fn[pn]=null,pr=fn[--pn],fn[pn]=null}var sn=null,on=null,Ye=!1,kn=null;function Cf(t,r){var o=vn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function xf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,sn=t,on=Mr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,sn=t,on=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Di!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=vn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,sn=t,on=null,!0):!1;default:return!1}}function wc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tc(t){if(Ye){var r=on;if(r){var o=r;if(!xf(t,r)){if(wc(t))throw Error(n(418));r=Mr(o.nextSibling);var u=sn;r&&xf(t,r)?Cf(u,o):(t.flags=t.flags&-4097|2,Ye=!1,sn=t)}}else{if(wc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,sn=t}}}function Rf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function vl(t){if(t!==sn)return!1;if(!Ye)return Rf(t),Ye=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!fc(t.type,t.memoizedProps)),r&&(r=on)){if(wc(t))throw Pf(),Error(n(418));for(;r;)Cf(t,r),r=Mr(r.nextSibling)}if(Rf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){on=Mr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}on=null}}else on=sn?Mr(t.stateNode.nextSibling):null;return!0}function Pf(){for(var t=on;t;)t=Mr(t.nextSibling)}function Ds(){on=sn=null,Ye=!1}function Ic(t){kn===null?kn=[t]:kn.push(t)}var e_=de.ReactCurrentBatchConfig;function Ko(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var d=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var I=d.refs;_===null?delete I[p]:I[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function _l(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function kf(t){var r=t._init;return r(t._payload)}function Nf(t){function r(b,N){if(t){var j=b.deletions;j===null?(b.deletions=[N],b.flags|=16):j.push(N)}}function o(b,N){if(!t)return null;for(;N!==null;)r(b,N),N=N.sibling;return null}function u(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function d(b,N){return b=Gr(b,N),b.index=0,b.sibling=null,b}function p(b,N,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<N?(b.flags|=2,N):j):(b.flags|=2,N)):(b.flags|=1048576,N)}function _(b){return t&&b.alternate===null&&(b.flags|=2),b}function I(b,N,j,X){return N===null||N.tag!==6?(N=ph(j,b.mode,X),N.return=b,N):(N=d(N,j),N.return=b,N)}function P(b,N,j,X){var he=j.type;return he===V?K(b,N,j.props.children,X,j.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Vt&&kf(he)===N.type)?(X=d(N,j.props),X.ref=Ko(b,N,j),X.return=b,X):(X=$l(j.type,j.key,j.props,null,b.mode,X),X.ref=Ko(b,N,j),X.return=b,X)}function B(b,N,j,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=mh(j,b.mode,X),N.return=b,N):(N=d(N,j.children||[]),N.return=b,N)}function K(b,N,j,X,he){return N===null||N.tag!==7?(N=zi(j,b.mode,X,he),N.return=b,N):(N=d(N,j),N.return=b,N)}function Y(b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ph(""+N,b.mode,j),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Le:return j=$l(N.type,N.key,N.props,null,b.mode,j),j.ref=Ko(b,null,N),j.return=b,j;case Ae:return N=mh(N,b.mode,j),N.return=b,N;case Vt:var X=N._init;return Y(b,X(N._payload),j)}if(rr(N)||me(N))return N=zi(N,b.mode,j,null),N.return=b,N;_l(b,N)}return null}function Q(b,N,j,X){var he=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:I(b,N,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Le:return j.key===he?P(b,N,j,X):null;case Ae:return j.key===he?B(b,N,j,X):null;case Vt:return he=j._init,Q(b,N,he(j._payload),X)}if(rr(j)||me(j))return he!==null?null:K(b,N,j,X,null);_l(b,j)}return null}function ie(b,N,j,X,he){if(typeof X=="string"&&X!==""||typeof X=="number")return b=b.get(j)||null,I(N,b,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Le:return b=b.get(X.key===null?j:X.key)||null,P(N,b,X,he);case Ae:return b=b.get(X.key===null?j:X.key)||null,B(N,b,X,he);case Vt:var ge=X._init;return ie(b,N,j,ge(X._payload),he)}if(rr(X)||me(X))return b=b.get(j)||null,K(N,b,X,he,null);_l(N,X)}return null}function ue(b,N,j,X){for(var he=null,ge=null,ye=N,_e=N=0,Tt=null;ye!==null&&_e<j.length;_e++){ye.index>_e?(Tt=ye,ye=null):Tt=ye.sibling;var Oe=Q(b,ye,j[_e],X);if(Oe===null){ye===null&&(ye=Tt);break}t&&ye&&Oe.alternate===null&&r(b,ye),N=p(Oe,N,_e),ge===null?he=Oe:ge.sibling=Oe,ge=Oe,ye=Tt}if(_e===j.length)return o(b,ye),Ye&&Oi(b,_e),he;if(ye===null){for(;_e<j.length;_e++)ye=Y(b,j[_e],X),ye!==null&&(N=p(ye,N,_e),ge===null?he=ye:ge.sibling=ye,ge=ye);return Ye&&Oi(b,_e),he}for(ye=u(b,ye);_e<j.length;_e++)Tt=ie(ye,b,_e,j[_e],X),Tt!==null&&(t&&Tt.alternate!==null&&ye.delete(Tt.key===null?_e:Tt.key),N=p(Tt,N,_e),ge===null?he=Tt:ge.sibling=Tt,ge=Tt);return t&&ye.forEach(function(Qr){return r(b,Qr)}),Ye&&Oi(b,_e),he}function ce(b,N,j,X){var he=me(j);if(typeof he!="function")throw Error(n(150));if(j=he.call(j),j==null)throw Error(n(151));for(var ge=he=null,ye=N,_e=N=0,Tt=null,Oe=j.next();ye!==null&&!Oe.done;_e++,Oe=j.next()){ye.index>_e?(Tt=ye,ye=null):Tt=ye.sibling;var Qr=Q(b,ye,Oe.value,X);if(Qr===null){ye===null&&(ye=Tt);break}t&&ye&&Qr.alternate===null&&r(b,ye),N=p(Qr,N,_e),ge===null?he=Qr:ge.sibling=Qr,ge=Qr,ye=Tt}if(Oe.done)return o(b,ye),Ye&&Oi(b,_e),he;if(ye===null){for(;!Oe.done;_e++,Oe=j.next())Oe=Y(b,Oe.value,X),Oe!==null&&(N=p(Oe,N,_e),ge===null?he=Oe:ge.sibling=Oe,ge=Oe);return Ye&&Oi(b,_e),he}for(ye=u(b,ye);!Oe.done;_e++,Oe=j.next())Oe=ie(ye,b,_e,Oe.value,X),Oe!==null&&(t&&Oe.alternate!==null&&ye.delete(Oe.key===null?_e:Oe.key),N=p(Oe,N,_e),ge===null?he=Oe:ge.sibling=Oe,ge=Oe);return t&&ye.forEach(function(D_){return r(b,D_)}),Ye&&Oi(b,_e),he}function it(b,N,j,X){if(typeof j=="object"&&j!==null&&j.type===V&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Le:e:{for(var he=j.key,ge=N;ge!==null;){if(ge.key===he){if(he=j.type,he===V){if(ge.tag===7){o(b,ge.sibling),N=d(ge,j.props.children),N.return=b,b=N;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Vt&&kf(he)===ge.type){o(b,ge.sibling),N=d(ge,j.props),N.ref=Ko(b,ge,j),N.return=b,b=N;break e}o(b,ge);break}else r(b,ge);ge=ge.sibling}j.type===V?(N=zi(j.props.children,b.mode,X,j.key),N.return=b,b=N):(X=$l(j.type,j.key,j.props,null,b.mode,X),X.ref=Ko(b,N,j),X.return=b,b=X)}return _(b);case Ae:e:{for(ge=j.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){o(b,N.sibling),N=d(N,j.children||[]),N.return=b,b=N;break e}else{o(b,N);break}else r(b,N);N=N.sibling}N=mh(j,b.mode,X),N.return=b,b=N}return _(b);case Vt:return ge=j._init,it(b,N,ge(j._payload),X)}if(rr(j))return ue(b,N,j,X);if(me(j))return ce(b,N,j,X);_l(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(o(b,N.sibling),N=d(N,j),N.return=b,b=N):(o(b,N),N=ph(j,b.mode,X),N.return=b,b=N),_(b)):o(b,N)}return it}var Os=Nf(!0),Vf=Nf(!1),El=br(null),wl=null,Ls=null,Sc=null;function Ac(){Sc=Ls=wl=null}function Cc(t){var r=El.current;Ge(El),t._currentValue=r}function xc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ms(t,r){wl=t,Sc=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Qt=!0),t.firstContext=null)}function mn(t){var r=t._currentValue;if(Sc!==t)if(t={context:t,memoizedValue:r,next:null},Ls===null){if(wl===null)throw Error(n(308));Ls=t,wl.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return r}var Li=null;function Rc(t){Li===null?Li=[t]:Li.push(t)}function Df(t,r,o,u){var d=r.interleaved;return d===null?(o.next=o,Rc(r)):(o.next=d.next,d.next=o),r.interleaved=o,gr(t,u)}function gr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ur=!1;function Pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Of(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Br(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,gr(t,o)}return d=u.interleaved,d===null?(r.next=r,Rc(u)):(r.next=d.next,d.next=r),u.interleaved=r,gr(t,o)}function Tl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,kr(t,o)}}function Lf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Il(t,r,o,u){var d=t.updateQueue;Ur=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var P=I,B=P.next;P.next=null,_===null?p=B:_.next=B,_=P;var K=t.alternate;K!==null&&(K=K.updateQueue,I=K.lastBaseUpdate,I!==_&&(I===null?K.firstBaseUpdate=B:I.next=B,K.lastBaseUpdate=P))}if(p!==null){var Y=d.baseState;_=0,K=B=P=null,I=p;do{var Q=I.lane,ie=I.eventTime;if((u&Q)===Q){K!==null&&(K=K.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=t,ce=I;switch(Q=r,ie=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Y=ue.call(ie,Y,Q);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Q=typeof ue=="function"?ue.call(ie,Y,Q):ue,Q==null)break e;Y=se({},Y,Q);break e;case 2:Ur=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,Q=d.effects,Q===null?d.effects=[I]:Q.push(I))}else ie={eventTime:ie,lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},K===null?(B=K=ie,P=Y):K=K.next=ie,_|=Q;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Q=I,I=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(K===null&&(P=Y),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=K,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);ji|=_,t.lanes=_,t.memoizedState=Y}}function Mf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var Yo={},Hn=br(Yo),Xo=br(Yo),Jo=br(Yo);function Mi(t){if(t===Yo)throw Error(n(174));return t}function kc(t,r){switch(qe(Jo,r),qe(Xo,t),qe(Hn,Yo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:dt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=dt(r,t)}Ge(Hn),qe(Hn,r)}function bs(){Ge(Hn),Ge(Xo),Ge(Jo)}function bf(t){Mi(Jo.current);var r=Mi(Hn.current),o=dt(r,t.type);r!==o&&(qe(Xo,t),qe(Hn,o))}function Nc(t){Xo.current===t&&(Ge(Hn),Ge(Xo))}var Xe=br(0);function Sl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vc=[];function Dc(){for(var t=0;t<Vc.length;t++)Vc[t]._workInProgressVersionPrimary=null;Vc.length=0}var Al=de.ReactCurrentDispatcher,Oc=de.ReactCurrentBatchConfig,bi=0,Je=null,pt=null,Et=null,Cl=!1,Zo=!1,ea=0,t_=0;function Ot(){throw Error(n(321))}function Lc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Pn(t[o],r[o]))return!1;return!0}function Mc(t,r,o,u,d,p){if(bi=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Al.current=t===null||t.memoizedState===null?s_:o_,t=o(u,d),Zo){p=0;do{if(Zo=!1,ea=0,25<=p)throw Error(n(301));p+=1,Et=pt=null,r.updateQueue=null,Al.current=a_,t=o(u,d)}while(Zo)}if(Al.current=Pl,r=pt!==null&&pt.next!==null,bi=0,Et=pt=Je=null,Cl=!1,r)throw Error(n(300));return t}function bc(){var t=ea!==0;return ea=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=t:Et=Et.next=t,Et}function gn(){if(pt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=Et===null?Je.memoizedState:Et.next;if(r!==null)Et=r,pt=t;else{if(t===null)throw Error(n(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Je.memoizedState=Et=t:Et=Et.next=t}return Et}function ta(t,r){return typeof r=="function"?r(t):r}function jc(t){var r=gn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=pt,d=u.baseQueue,p=o.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}u.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,u=u.baseState;var I=_=null,P=null,B=p;do{var K=B.lane;if((bi&K)===K)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var Y={lane:K,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(I=P=Y,_=u):P=P.next=Y,Je.lanes|=K,ji|=K}B=B.next}while(B!==null&&B!==p);P===null?_=u:P.next=I,Pn(u,r.memoizedState)||(Qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do p=d.lane,Je.lanes|=p,ji|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Fc(t){var r=gn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=t(p,_.action),_=_.next;while(_!==d);Pn(p,r.memoizedState)||(Qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function jf(){}function Ff(t,r){var o=Je,u=gn(),d=r(),p=!Pn(u.memoizedState,d);if(p&&(u.memoizedState=d,Qt=!0),u=u.queue,Uc(zf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,na(9,Bf.bind(null,o,u,d,r),void 0,null),wt===null)throw Error(n(349));(bi&30)!==0||Uf(o,r,d)}return d}function Uf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Bf(t,r,o,u){r.value=o,r.getSnapshot=u,$f(r)&&qf(t)}function zf(t,r,o){return o(function(){$f(r)&&qf(t)})}function $f(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Pn(t,o)}catch{return!0}}function qf(t){var r=gr(t,1);r!==null&&On(r,t,1,-1)}function Hf(t){var r=Wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},r.queue=t,t=t.dispatch=i_.bind(null,Je,t),[r.memoizedState,t]}function na(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Wf(){return gn().memoizedState}function xl(t,r,o,u){var d=Wn();Je.flags|=t,d.memoizedState=na(1|r,o,void 0,u===void 0?null:u)}function Rl(t,r,o,u){var d=gn();u=u===void 0?null:u;var p=void 0;if(pt!==null){var _=pt.memoizedState;if(p=_.destroy,u!==null&&Lc(u,_.deps)){d.memoizedState=na(r,o,p,u);return}}Je.flags|=t,d.memoizedState=na(1|r,o,p,u)}function Gf(t,r){return xl(8390656,8,t,r)}function Uc(t,r){return Rl(2048,8,t,r)}function Qf(t,r){return Rl(4,2,t,r)}function Kf(t,r){return Rl(4,4,t,r)}function Yf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Xf(t,r,o){return o=o!=null?o.concat([t]):null,Rl(4,4,Yf.bind(null,r,t),o)}function Bc(){}function Jf(t,r){var o=gn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Lc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Zf(t,r){var o=gn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Lc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function ep(t,r,o){return(bi&21)===0?(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=o):(Pn(o,r)||(o=Ci(),Je.lanes|=o,ji|=o,t.baseState=!0),r)}function n_(t,r){var o=Re;Re=o!==0&&4>o?o:4,t(!0);var u=Oc.transition;Oc.transition={};try{t(!1),r()}finally{Re=o,Oc.transition=u}}function tp(){return gn().memoizedState}function r_(t,r,o){var u=Hr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},np(t))rp(r,o);else if(o=Df(t,r,o,u),o!==null){var d=$t();On(o,t,u,d),ip(o,r,u)}}function i_(t,r,o){var u=Hr(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(np(t))rp(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,I=p(_,o);if(d.hasEagerState=!0,d.eagerState=I,Pn(I,_)){var P=r.interleaved;P===null?(d.next=d,Rc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}o=Df(t,r,d,u),o!==null&&(d=$t(),On(o,t,u,d),ip(o,r,u))}}function np(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function rp(t,r){Zo=Cl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ip(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,kr(t,o)}}var Pl={readContext:mn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},s_={readContext:mn,useCallback:function(t,r){return Wn().memoizedState=[t,r===void 0?null:r],t},useContext:mn,useEffect:Gf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,xl(4194308,4,Yf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return xl(4194308,4,t,r)},useInsertionEffect:function(t,r){return xl(4,2,t,r)},useMemo:function(t,r){var o=Wn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Wn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=r_.bind(null,Je,t),[u.memoizedState,t]},useRef:function(t){var r=Wn();return t={current:t},r.memoizedState=t},useState:Hf,useDebugValue:Bc,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Hf(!1),r=t[0];return t=n_.bind(null,t[1]),Wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Je,d=Wn();if(Ye){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),wt===null)throw Error(n(349));(bi&30)!==0||Uf(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Gf(zf.bind(null,u,p,t),[t]),u.flags|=2048,na(9,Bf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Wn(),r=wt.identifierPrefix;if(Ye){var o=mr,u=pr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ea++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=t_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},o_={readContext:mn,useCallback:Jf,useContext:mn,useEffect:Uc,useImperativeHandle:Xf,useInsertionEffect:Qf,useLayoutEffect:Kf,useMemo:Zf,useReducer:jc,useRef:Wf,useState:function(){return jc(ta)},useDebugValue:Bc,useDeferredValue:function(t){var r=gn();return ep(r,pt.memoizedState,t)},useTransition:function(){var t=jc(ta)[0],r=gn().memoizedState;return[t,r]},useMutableSource:jf,useSyncExternalStore:Ff,useId:tp,unstable_isNewReconciler:!1},a_={readContext:mn,useCallback:Jf,useContext:mn,useEffect:Uc,useImperativeHandle:Xf,useInsertionEffect:Qf,useLayoutEffect:Kf,useMemo:Zf,useReducer:Fc,useRef:Wf,useState:function(){return Fc(ta)},useDebugValue:Bc,useDeferredValue:function(t){var r=gn();return pt===null?r.memoizedState=t:ep(r,pt.memoizedState,t)},useTransition:function(){var t=Fc(ta)[0],r=gn().memoizedState;return[t,r]},useMutableSource:jf,useSyncExternalStore:Ff,useId:tp,unstable_isNewReconciler:!1};function Nn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function zc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var kl={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=$t(),d=Hr(t),p=yr(u,d);p.payload=r,o!=null&&(p.callback=o),r=Br(t,p,d),r!==null&&(On(r,t,d,u),Tl(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=$t(),d=Hr(t),p=yr(u,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Br(t,p,d),r!==null&&(On(r,t,d,u),Tl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=$t(),u=Hr(t),d=yr(o,u);d.tag=2,r!=null&&(d.callback=r),r=Br(t,d,u),r!==null&&(On(r,t,u,o),Tl(r,t,u))}};function sp(t,r,o,u,d,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!zo(o,u)||!zo(d,p):!0}function op(t,r,o){var u=!1,d=jr,p=r.contextType;return typeof p=="object"&&p!==null?p=mn(p):(d=Gt(r)?Vi:Dt.current,u=r.contextTypes,p=(u=u!=null)?ks(t,d):jr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=kl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function ap(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&kl.enqueueReplaceState(r,r.state,null)}function $c(t,r,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},Pc(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=mn(p):(p=Gt(r)?Vi:Dt.current,d.context=ks(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(zc(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&kl.enqueueReplaceState(d,d.state,null),Il(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function js(t,r){try{var o="",u=r;do o+=Ie(u),u=u.return;while(u);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function qc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Hc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var l_=typeof WeakMap=="function"?WeakMap:Map;function lp(t,r,o){o=yr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){bl||(bl=!0,oh=u),Hc(t,r)},o}function up(t,r,o){o=yr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){Hc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Hc(t,r),typeof u!="function"&&($r===null?$r=new Set([this]):$r.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function cp(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new l_;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),t=T_.bind(null,t,r,o),r.then(t,t))}function hp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function dp(t,r,o,u,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=yr(-1,1),r.tag=2,Br(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var u_=de.ReactCurrentOwner,Qt=!1;function zt(t,r,o,u){r.child=t===null?Vf(r,null,o,u):Os(r,t.child,o,u)}function fp(t,r,o,u,d){o=o.render;var p=r.ref;return Ms(r,d),u=Mc(t,r,o,u,p,d),o=bc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,vr(t,r,d)):(Ye&&o&&_c(r),r.flags|=1,zt(t,r,u,d),r.child)}function pp(t,r,o,u,d){if(t===null){var p=o.type;return typeof p=="function"&&!fh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,mp(t,r,p,u,d)):(t=$l(o.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&d)===0){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:zo,o(_,u)&&t.ref===r.ref)return vr(t,r,d)}return r.flags|=1,t=Gr(p,u),t.ref=r.ref,t.return=r,r.child=t}function mp(t,r,o,u,d){if(t!==null){var p=t.memoizedProps;if(zo(p,u)&&t.ref===r.ref)if(Qt=!1,r.pendingProps=u=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(Qt=!0);else return r.lanes=t.lanes,vr(t,r,d)}return Wc(t,r,o,u,d)}function gp(t,r,o){var u=r.pendingProps,d=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Us,an),an|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Us,an),an|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,qe(Us,an),an|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,qe(Us,an),an|=u;return zt(t,r,d,o),r.child}function yp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Wc(t,r,o,u,d){var p=Gt(o)?Vi:Dt.current;return p=ks(r,p),Ms(r,d),o=Mc(t,r,o,u,p,d),u=bc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,vr(t,r,d)):(Ye&&u&&_c(r),r.flags|=1,zt(t,r,o,d),r.child)}function vp(t,r,o,u,d){if(Gt(o)){var p=!0;pl(r)}else p=!1;if(Ms(r,d),r.stateNode===null)Vl(t,r),op(r,o,u),$c(r,o,u,d),u=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var P=_.context,B=o.contextType;typeof B=="object"&&B!==null?B=mn(B):(B=Gt(o)?Vi:Dt.current,B=ks(r,B));var K=o.getDerivedStateFromProps,Y=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==u||P!==B)&&ap(r,_,u,B),Ur=!1;var Q=r.memoizedState;_.state=Q,Il(r,u,_,d),P=r.memoizedState,I!==u||Q!==P||Wt.current||Ur?(typeof K=="function"&&(zc(r,o,K,u),P=r.memoizedState),(I=Ur||sp(r,o,I,u,Q,P,B))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),_.props=u,_.state=P,_.context=B,u=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Of(t,r),I=r.memoizedProps,B=r.type===r.elementType?I:Nn(r.type,I),_.props=B,Y=r.pendingProps,Q=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=mn(P):(P=Gt(o)?Vi:Dt.current,P=ks(r,P));var ie=o.getDerivedStateFromProps;(K=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Y||Q!==P)&&ap(r,_,u,P),Ur=!1,Q=r.memoizedState,_.state=Q,Il(r,u,_,d);var ue=r.memoizedState;I!==Y||Q!==ue||Wt.current||Ur?(typeof ie=="function"&&(zc(r,o,ie,u),ue=r.memoizedState),(B=Ur||sp(r,o,B,u,Q,ue,P)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ue,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ue,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ue),_.props=u,_.state=ue,_.context=P,u=B):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),u=!1)}return Gc(t,r,o,u,p,d)}function Gc(t,r,o,u,d,p){yp(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return d&&If(r,o,!1),vr(t,r,p);u=r.stateNode,u_.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Os(r,t.child,null,p),r.child=Os(r,null,I,p)):zt(t,r,I,p),r.memoizedState=u.state,d&&If(r,o,!0),r.child}function _p(t){var r=t.stateNode;r.pendingContext?wf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&wf(t,r.context,!1),kc(t,r.containerInfo)}function Ep(t,r,o,u,d){return Ds(),Ic(d),r.flags|=256,zt(t,r,o,u),r.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Kc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wp(t,r,o){var u=r.pendingProps,d=Xe.current,p=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(d&2)!==0),I?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),qe(Xe,d&1),t===null)return Tc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=ql(_,u,0,null),t=zi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Kc(o),r.memoizedState=Qc,t):Yc(r,_));if(d=t.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return c_(t,r,_,u,I,d,o);if(p){p=u.fallback,_=r.mode,d=t.child,I=d.sibling;var P={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Gr(d,P),u.subtreeFlags=d.subtreeFlags&14680064),I!==null?p=Gr(I,p):(p=zi(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?Kc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Qc,u}return p=t.child,t=p.sibling,u=Gr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Yc(t,r){return r=ql({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Nl(t,r,o,u){return u!==null&&Ic(u),Os(r,t.child,null,o),t=Yc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function c_(t,r,o,u,d,p,_){if(o)return r.flags&256?(r.flags&=-257,u=qc(Error(n(422))),Nl(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,d=r.mode,u=ql({mode:"visible",children:u.children},d,0,null),p=zi(p,d,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&Os(r,t.child,null,_),r.child.memoizedState=Kc(_),r.memoizedState=Qc,p);if((r.mode&1)===0)return Nl(t,r,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var I=u.dgst;return u=I,p=Error(n(419)),u=qc(p,u,void 0),Nl(t,r,_,u)}if(I=(_&t.childLanes)!==0,Qt||I){if(u=wt,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|_))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,gr(t,d),On(u,t,d,-1))}return dh(),u=qc(Error(n(421))),Nl(t,r,_,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=I_.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,on=Mr(d.nextSibling),sn=r,Ye=!0,kn=null,t!==null&&(fn[pn++]=pr,fn[pn++]=mr,fn[pn++]=Di,pr=t.id,mr=t.overflow,Di=r),r=Yc(r,u.children),r.flags|=4096,r)}function Tp(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),xc(t.return,r,o)}function Xc(t,r,o,u,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function Ip(t,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(zt(t,r,u.children,o),u=Xe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tp(t,o,r);else if(t.tag===19)Tp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Xe,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&Sl(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Xc(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Sl(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Xc(r,!0,o,null,p);break;case"together":Xc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Vl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function vr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ji|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Gr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Gr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function h_(t,r,o){switch(r.tag){case 3:_p(r),Ds();break;case 5:bf(r);break;case 1:Gt(r.type)&&pl(r);break;case 4:kc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;qe(El,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Xe,Xe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?wp(t,r,o):(qe(Xe,Xe.current&1),t=vr(t,r,o),t!==null?t.sibling:null);qe(Xe,Xe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Ip(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,gp(t,r,o)}return vr(t,r,o)}var Sp,Jc,Ap,Cp;Sp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Jc=function(){},Ap=function(t,r,o,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,Mi(Hn.current);var p=null;switch(o){case"input":d=mi(t,d),u=mi(t,u),p=[];break;case"select":d=se({},d,{value:void 0}),u=se({},u,{value:void 0}),p=[];break;case"textarea":d=yo(t,d),u=yo(t,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=hl)}Io(o,u);var _;o=null;for(B in d)if(!u.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var I=d[B];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in u){var P=u[B];if(I=d?.[B],u.hasOwnProperty(B)&&P!==I&&(P!=null||I!=null))if(B==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&I[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(B,o)),o=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(p=p||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&We("scroll",t),p||I===P||(p=[])):(p=p||[]).push(B,P))}o&&(p=p||[]).push("style",o);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},Cp=function(t,r,o,u){o!==u&&(r.flags|=4)};function ra(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function d_(t,r,o){var u=r.pendingProps;switch(Ec(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Gt(r.type)&&fl(),Lt(r),null;case 3:return u=r.stateNode,bs(),Ge(Wt),Ge(Dt),Dc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(vl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kn!==null&&(uh(kn),kn=null))),Jc(t,r),Lt(r),null;case 5:Nc(r);var d=Mi(Jo.current);if(o=r.type,t!==null&&r.stateNode!=null)Ap(t,r,o,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Lt(r),null}if(t=Mi(Hn.current),vl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[qn]=r,u[Go]=p,t=(r.mode&1)!==0,o){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(d=0;d<qo.length;d++)We(qo[d],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":Ji(u,p),We("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},We("invalid",u);break;case"textarea":es(u,p),We("invalid",u)}Io(o,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var I=p[_];_==="children"?typeof I=="string"?u.textContent!==I&&(p.suppressHydrationWarning!==!0&&cl(u.textContent,I,t),d=["children",I]):typeof I=="number"&&u.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&cl(u.textContent,I,t),d=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&We("scroll",u)}switch(o){case"input":nr(u),Ma(u,p,!0);break;case"textarea":nr(u),vo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=hl)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[qn]=r,t[Go]=u,Sp(t,r,!1,!1),r.stateNode=t;e:{switch(_=So(o,u),o){case"dialog":We("cancel",t),We("close",t),d=u;break;case"iframe":case"object":case"embed":We("load",t),d=u;break;case"video":case"audio":for(d=0;d<qo.length;d++)We(qo[d],t);d=u;break;case"source":We("error",t),d=u;break;case"img":case"image":case"link":We("error",t),We("load",t),d=u;break;case"details":We("toggle",t),d=u;break;case"input":Ji(t,u),d=mi(t,u),We("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=se({},u,{value:void 0}),We("invalid",t);break;case"textarea":es(t,u),d=yo(t,u),We("invalid",t);break;default:d=u}Io(o,d),I=d;for(p in I)if(I.hasOwnProperty(p)){var P=I[p];p==="style"?wo(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&_o(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Ar(t,P):typeof P=="number"&&Ar(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&We("scroll",t):P!=null&&ne(t,p,P,_))}switch(o){case"input":nr(t),Ma(t,u,!1);break;case"textarea":nr(t),vo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+be(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?ir(t,!!u.multiple,p,!1):u.defaultValue!=null&&ir(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=hl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(t&&r.stateNode!=null)Cp(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Mi(Jo.current),Mi(Hn.current),vl(r)){if(u=r.stateNode,o=r.memoizedProps,u[qn]=r,(p=u.nodeValue!==o)&&(t=sn,t!==null))switch(t.tag){case 3:cl(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cl(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[qn]=r,r.stateNode=u}return Lt(r),null;case 13:if(Ge(Xe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&on!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Pf(),Ds(),r.flags|=98560,p=!1;else if(p=vl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[qn]=r}else Ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Lt(r),p=!1}else kn!==null&&(uh(kn),kn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Xe.current&1)!==0?mt===0&&(mt=3):dh())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return bs(),Jc(t,r),t===null&&Ho(r.stateNode.containerInfo),Lt(r),null;case 10:return Cc(r.type._context),Lt(r),null;case 17:return Gt(r.type)&&fl(),Lt(r),null;case 19:if(Ge(Xe),p=r.memoizedState,p===null)return Lt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)ra(p,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=Sl(t),_!==null){for(r.flags|=128,ra(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Xe,Xe.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Bs&&(r.flags|=128,u=!0,ra(p,!1),r.lanes=4194304)}else{if(!u)if(t=Sl(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ra(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ye)return Lt(r),null}else 2*$e()-p.renderingStartTime>Bs&&o!==1073741824&&(r.flags|=128,u=!0,ra(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Xe.current,qe(Xe,u?o&1|2:o&1),r):(Lt(r),null);case 22:case 23:return hh(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(an&1073741824)!==0&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function f_(t,r){switch(Ec(r),r.tag){case 1:return Gt(r.type)&&fl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return bs(),Ge(Wt),Ge(Dt),Dc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Nc(r),null;case 13:if(Ge(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ds()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ge(Xe),null;case 4:return bs(),null;case 10:return Cc(r.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var Dl=!1,Mt=!1,p_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Fs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){et(t,r,u)}else o.current=null}function Zc(t,r,o){try{o()}catch(u){et(t,r,u)}}var xp=!1;function m_(t,r){if(hc=Dr,t=sf(),rc(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,I=-1,P=-1,B=0,K=0,Y=t,Q=null;t:for(;;){for(var ie;Y!==o||d!==0&&Y.nodeType!==3||(I=_+d),Y!==p||u!==0&&Y.nodeType!==3||(P=_+u),Y.nodeType===3&&(_+=Y.nodeValue.length),(ie=Y.firstChild)!==null;)Q=Y,Y=ie;for(;;){if(Y===t)break t;if(Q===o&&++B===d&&(I=_),Q===p&&++K===u&&(P=_),(ie=Y.nextSibling)!==null)break;Y=Q,Q=Y.parentNode}Y=ie}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(dc={focusedElem:t,selectionRange:o},Dr=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,it=ue.memoizedState,b=r.stateNode,N=b.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Nn(r.type,ce),it);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){et(r,r.return,X)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return ue=xp,xp=!1,ue}function ia(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Zc(r,o,p)}d=d.next}while(d!==u)}}function Ol(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function eh(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Rp(t){var r=t.alternate;r!==null&&(t.alternate=null,Rp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[qn],delete r[Go],delete r[gc],delete r[Xv],delete r[Jv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pp(t){return t.tag===5||t.tag===3||t.tag===4}function kp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function th(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=hl));else if(u!==4&&(t=t.child,t!==null))for(th(t,r,o),t=t.sibling;t!==null;)th(t,r,o),t=t.sibling}function nh(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(nh(t,r,o),t=t.sibling;t!==null;)nh(t,r,o),t=t.sibling}var Ct=null,Vn=!1;function zr(t,r,o){for(o=o.child;o!==null;)Np(t,r,o),o=o.sibling}function Np(t,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Si,o)}catch{}switch(o.tag){case 5:Mt||Fs(o,r);case 6:var u=Ct,d=Vn;Ct=null,zr(t,r,o),Ct=u,Vn=d,Ct!==null&&(Vn?(t=Ct,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ct.removeChild(o.stateNode));break;case 18:Ct!==null&&(Vn?(t=Ct,o=o.stateNode,t.nodeType===8?mc(t.parentNode,o):t.nodeType===1&&mc(t,o),xn(t)):mc(Ct,o.stateNode));break;case 4:u=Ct,d=Vn,Ct=o.stateNode.containerInfo,Vn=!0,zr(t,r,o),Ct=u,Vn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&Zc(o,r,_),d=d.next}while(d!==u)}zr(t,r,o);break;case 1:if(!Mt&&(Fs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(I){et(o,r,I)}zr(t,r,o);break;case 21:zr(t,r,o);break;case 22:o.mode&1?(Mt=(u=Mt)||o.memoizedState!==null,zr(t,r,o),Mt=u):zr(t,r,o);break;default:zr(t,r,o)}}function Vp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new p_),r.forEach(function(u){var d=S_.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function Dn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var p=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:Ct=I.stateNode,Vn=!1;break e;case 3:Ct=I.stateNode.containerInfo,Vn=!0;break e;case 4:Ct=I.stateNode.containerInfo,Vn=!0;break e}I=I.return}if(Ct===null)throw Error(n(160));Np(p,_,d),Ct=null,Vn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){et(d,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Dp(r,t),r=r.sibling}function Dp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(r,t),Gn(t),u&4){try{ia(3,t,t.return),Ol(3,t)}catch(ce){et(t,t.return,ce)}try{ia(5,t,t.return)}catch(ce){et(t,t.return,ce)}}break;case 1:Dn(r,t),Gn(t),u&512&&o!==null&&Fs(o,o.return);break;case 5:if(Dn(r,t),Gn(t),u&512&&o!==null&&Fs(o,o.return),t.flags&32){var d=t.stateNode;try{Ar(d,"")}catch(ce){et(t,t.return,ce)}}if(u&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,I=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&mo(d,p),So(I,_);var B=So(I,p);for(_=0;_<P.length;_+=2){var K=P[_],Y=P[_+1];K==="style"?wo(d,Y):K==="dangerouslySetInnerHTML"?_o(d,Y):K==="children"?Ar(d,Y):ne(d,K,Y,B)}switch(I){case"input":go(d,p);break;case"textarea":ts(d,p);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?ir(d,!!p.multiple,ie,!1):Q!==!!p.multiple&&(p.defaultValue!=null?ir(d,!!p.multiple,p.defaultValue,!0):ir(d,!!p.multiple,p.multiple?[]:"",!1))}d[Go]=p}catch(ce){et(t,t.return,ce)}}break;case 6:if(Dn(r,t),Gn(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(ce){et(t,t.return,ce)}}break;case 3:if(Dn(r,t),Gn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xn(r.containerInfo)}catch(ce){et(t,t.return,ce)}break;case 4:Dn(r,t),Gn(t);break;case 13:Dn(r,t),Gn(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(sh=$e())),u&4&&Vp(t);break;case 22:if(K=o!==null&&o.memoizedState!==null,t.mode&1?(Mt=(B=Mt)||K,Dn(r,t),Mt=B):Dn(r,t),Gn(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!K&&(t.mode&1)!==0)for(ae=t,K=t.child;K!==null;){for(Y=ae=K;ae!==null;){switch(Q=ae,ie=Q.child,Q.tag){case 0:case 11:case 14:case 15:ia(4,Q,Q.return);break;case 1:Fs(Q,Q.return);var ue=Q.stateNode;if(typeof ue.componentWillUnmount=="function"){u=Q,o=Q.return;try{r=u,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){et(u,o,ce)}}break;case 5:Fs(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Mp(Y);continue}}ie!==null?(ie.return=Q,ae=ie):Mp(Y)}K=K.sibling}e:for(K=null,Y=t;;){if(Y.tag===5){if(K===null){K=Y;try{d=Y.stateNode,B?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Y.stateNode,P=Y.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=Eo("display",_))}catch(ce){et(t,t.return,ce)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(ce){et(t,t.return,ce)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Dn(r,t),Gn(t),u&4&&Vp(t);break;case 21:break;default:Dn(r,t),Gn(t)}}function Gn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Pp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Ar(d,""),u.flags&=-33);var p=kp(t);nh(t,p,d);break;case 3:case 4:var _=u.stateNode.containerInfo,I=kp(t);th(t,I,_);break;default:throw Error(n(161))}}catch(P){et(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function g_(t,r,o){ae=t,Op(t)}function Op(t,r,o){for(var u=(t.mode&1)!==0;ae!==null;){var d=ae,p=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||Dl;if(!_){var I=d.alternate,P=I!==null&&I.memoizedState!==null||Mt;I=Dl;var B=Mt;if(Dl=_,(Mt=P)&&!B)for(ae=d;ae!==null;)_=ae,P=_.child,_.tag===22&&_.memoizedState!==null?bp(d):P!==null?(P.return=_,ae=P):bp(d);for(;p!==null;)ae=p,Op(p),p=p.sibling;ae=d,Dl=I,Mt=B}Lp(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ae=p):Lp(t)}}function Lp(t){for(;ae!==null;){var r=ae;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Mt||Ol(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Mt)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:Nn(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Mf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Mf(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var K=B.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&xn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&eh(r)}catch(Q){et(r,r.return,Q)}}if(r===t){ae=null;break}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}}function Mp(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ae=o;break}ae=r.return}}function bp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Ol(4,r)}catch(P){et(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(P){et(r,d,P)}}var p=r.return;try{eh(r)}catch(P){et(r,p,P)}break;case 5:var _=r.return;try{eh(r)}catch(P){et(r,_,P)}}}catch(P){et(r,r.return,P)}if(r===t){ae=null;break}var I=r.sibling;if(I!==null){I.return=r.return,ae=I;break}ae=r.return}}var y_=Math.ceil,Ll=de.ReactCurrentDispatcher,rh=de.ReactCurrentOwner,yn=de.ReactCurrentBatchConfig,De=0,wt=null,at=null,xt=0,an=0,Us=br(0),mt=0,sa=null,ji=0,Ml=0,ih=0,oa=null,Kt=null,sh=0,Bs=1/0,_r=null,bl=!1,oh=null,$r=null,jl=!1,qr=null,Fl=0,aa=0,ah=null,Ul=-1,Bl=0;function $t(){return(De&6)!==0?$e():Ul!==-1?Ul:Ul=$e()}function Hr(t){return(t.mode&1)===0?1:(De&2)!==0&&xt!==0?xt&-xt:e_.transition!==null?(Bl===0&&(Bl=Ci()),Bl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Lo(t.type)),t)}function On(t,r,o,u){if(50<aa)throw aa=0,ah=null,Error(n(185));Pr(t,o,u),((De&2)===0||t!==wt)&&(t===wt&&((De&2)===0&&(Ml|=o),mt===4&&Wr(t,xt)),Yt(t,u),o===1&&De===0&&(r.mode&1)===0&&(Bs=$e()+500,ml&&Fr()))}function Yt(t,r){var o=t.callbackNode;ar(t,r);var u=Ai(t,t===wt?xt:0);if(u===0)o!==null&&ko(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ko(o),r===1)t.tag===0?Zv(Fp.bind(null,t)):Sf(Fp.bind(null,t)),Kv(function(){(De&6)===0&&Fr()}),o=null;else{switch(Nr(u)){case 1:o=Ii;break;case 4:o=Cr;break;case 16:o=cn;break;case 536870912:o=Ba;break;default:o=cn}o=Gp(o,jp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function jp(t,r){if(Ul=-1,Bl=0,(De&6)!==0)throw Error(n(327));var o=t.callbackNode;if(zs()&&t.callbackNode!==o)return null;var u=Ai(t,t===wt?xt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=zl(t,u);else{r=u;var d=De;De|=2;var p=Bp();(wt!==t||xt!==r)&&(_r=null,Bs=$e()+500,Ui(t,r));do try{E_();break}catch(I){Up(t,I)}while(!0);Ac(),Ll.current=p,De=d,at!==null?r=0:(wt=null,xt=0,r=mt)}if(r!==0){if(r===2&&(d=tn(t),d!==0&&(u=d,r=lh(t,d))),r===1)throw o=sa,Ui(t,0),Wr(t,u),Yt(t,$e()),o;if(r===6)Wr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!v_(d)&&(r=zl(t,u),r===2&&(p=tn(t),p!==0&&(u=p,r=lh(t,p))),r===1))throw o=sa,Ui(t,0),Wr(t,u),Yt(t,$e()),o;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Bi(t,Kt,_r);break;case 3:if(Wr(t,u),(u&130023424)===u&&(r=sh+500-$e(),10<r)){if(Ai(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){$t(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=pc(Bi.bind(null,t,Kt,_r),r);break}Bi(t,Kt,_r);break;case 4:if(Wr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var _=31-Ut(u);p=1<<_,_=r[_],_>d&&(d=_),u&=~p}if(u=d,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*y_(u/1960))-u,10<u){t.timeoutHandle=pc(Bi.bind(null,t,Kt,_r),u);break}Bi(t,Kt,_r);break;case 5:Bi(t,Kt,_r);break;default:throw Error(n(329))}}}return Yt(t,$e()),t.callbackNode===o?jp.bind(null,t):null}function lh(t,r){var o=oa;return t.current.memoizedState.isDehydrated&&(Ui(t,r).flags|=256),t=zl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&uh(r)),t}function uh(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function v_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Pn(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(t,r){for(r&=~ih,r&=~Ml,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function Fp(t){if((De&6)!==0)throw Error(n(327));zs();var r=Ai(t,0);if((r&1)===0)return Yt(t,$e()),null;var o=zl(t,r);if(t.tag!==0&&o===2){var u=tn(t);u!==0&&(r=u,o=lh(t,u))}if(o===1)throw o=sa,Ui(t,0),Wr(t,r),Yt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Bi(t,Kt,_r),Yt(t,$e()),null}function ch(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Bs=$e()+500,ml&&Fr())}}function Fi(t){qr!==null&&qr.tag===0&&(De&6)===0&&zs();var r=De;De|=1;var o=yn.transition,u=Re;try{if(yn.transition=null,Re=1,t)return t()}finally{Re=u,yn.transition=o,De=r,(De&6)===0&&Fr()}}function hh(){an=Us.current,Ge(Us)}function Ui(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Qv(o)),at!==null)for(o=at.return;o!==null;){var u=o;switch(Ec(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&fl();break;case 3:bs(),Ge(Wt),Ge(Dt),Dc();break;case 5:Nc(u);break;case 4:bs();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:Cc(u.type._context);break;case 22:case 23:hh()}o=o.return}if(wt=t,at=t=Gr(t.current,null),xt=an=r,mt=0,sa=null,ih=Ml=ji=0,Kt=oa=null,Li!==null){for(r=0;r<Li.length;r++)if(o=Li[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=d,u.next=_}o.pending=u}Li=null}return t}function Up(t,r){do{var o=at;try{if(Ac(),Al.current=Pl,Cl){for(var u=Je.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Cl=!1}if(bi=0,Et=pt=Je=null,Zo=!1,ea=0,rh.current=null,o===null||o.return===null){mt=1,sa=r,at=null;break}e:{var p=t,_=o.return,I=o,P=r;if(r=xt,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,K=I,Y=K.tag;if((K.mode&1)===0&&(Y===0||Y===11||Y===15)){var Q=K.alternate;Q?(K.updateQueue=Q.updateQueue,K.memoizedState=Q.memoizedState,K.lanes=Q.lanes):(K.updateQueue=null,K.memoizedState=null)}var ie=hp(_);if(ie!==null){ie.flags&=-257,dp(ie,_,I,p,r),ie.mode&1&&cp(p,B,r),r=ie,P=B;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(P),r.updateQueue=ce}else ue.add(P);break e}else{if((r&1)===0){cp(p,B,r),dh();break e}P=Error(n(426))}}else if(Ye&&I.mode&1){var it=hp(_);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),dp(it,_,I,p,r),Ic(js(P,I));break e}}p=P=js(P,I),mt!==4&&(mt=2),oa===null?oa=[p]:oa.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var b=lp(p,P,r);Lf(p,b);break e;case 1:I=P;var N=p.type,j=p.stateNode;if((p.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&($r===null||!$r.has(j)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=up(p,I,r);Lf(p,X);break e}}p=p.return}while(p!==null)}$p(o)}catch(he){r=he,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function Bp(){var t=Ll.current;return Ll.current=Pl,t===null?Pl:t}function dh(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||(ji&268435455)===0&&(Ml&268435455)===0||Wr(wt,xt)}function zl(t,r){var o=De;De|=2;var u=Bp();(wt!==t||xt!==r)&&(_r=null,Ui(t,r));do try{__();break}catch(d){Up(t,d)}while(!0);if(Ac(),De=o,Ll.current=u,at!==null)throw Error(n(261));return wt=null,xt=0,mt}function __(){for(;at!==null;)zp(at)}function E_(){for(;at!==null&&!Fa();)zp(at)}function zp(t){var r=Wp(t.alternate,t,an);t.memoizedProps=t.pendingProps,r===null?$p(t):at=r,rh.current=null}function $p(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=d_(o,r,an),o!==null){at=o;return}}else{if(o=f_(o,r),o!==null){o.flags&=32767,at=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);mt===0&&(mt=5)}function Bi(t,r,o){var u=Re,d=yn.transition;try{yn.transition=null,Re=1,w_(t,r,o,u)}finally{yn.transition=d,Re=u}return null}function w_(t,r,o,u){do zs();while(qr!==null);if((De&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Be(t,p),t===wt&&(at=wt=null,xt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||jl||(jl=!0,Gp(cn,function(){return zs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=yn.transition,yn.transition=null;var _=Re;Re=1;var I=De;De|=4,rh.current=null,m_(t,o),Dp(o,t),Bv(dc),Dr=!!hc,dc=hc=null,t.current=o,g_(o),Ku(),De=I,Re=_,yn.transition=p}else t.current=o;if(jl&&(jl=!1,qr=t,Fl=d),p=t.pendingLanes,p===0&&($r=null),za(o.stateNode),Yt(t,$e()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(bl)throw bl=!1,t=oh,oh=null,t;return(Fl&1)!==0&&t.tag!==0&&zs(),p=t.pendingLanes,(p&1)!==0?t===ah?aa++:(aa=0,ah=t):aa=0,Fr(),null}function zs(){if(qr!==null){var t=Nr(Fl),r=yn.transition,o=Re;try{if(yn.transition=null,Re=16>t?16:t,qr===null)var u=!1;else{if(t=qr,qr=null,Fl=0,(De&6)!==0)throw Error(n(331));var d=De;for(De|=4,ae=t.current;ae!==null;){var p=ae,_=p.child;if((ae.flags&16)!==0){var I=p.deletions;if(I!==null){for(var P=0;P<I.length;P++){var B=I[P];for(ae=B;ae!==null;){var K=ae;switch(K.tag){case 0:case 11:case 15:ia(8,K,p)}var Y=K.child;if(Y!==null)Y.return=K,ae=Y;else for(;ae!==null;){K=ae;var Q=K.sibling,ie=K.return;if(Rp(K),K===B){ae=null;break}if(Q!==null){Q.return=ie,ae=Q;break}ae=ie}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var it=ce.sibling;ce.sibling=null,ce=it}while(ce!==null)}}ae=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,ae=_;else e:for(;ae!==null;){if(p=ae,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ia(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,ae=b;break e}ae=p.return}}var N=t.current;for(ae=N;ae!==null;){_=ae;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,ae=j;else e:for(_=N;ae!==null;){if(I=ae,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Ol(9,I)}}catch(he){et(I,I.return,he)}if(I===_){ae=null;break e}var X=I.sibling;if(X!==null){X.return=I.return,ae=X;break e}ae=I.return}}if(De=d,Fr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Si,t)}catch{}u=!0}return u}finally{Re=o,yn.transition=r}}return!1}function qp(t,r,o){r=js(o,r),r=lp(t,r,1),t=Br(t,r,1),r=$t(),t!==null&&(Pr(t,1,r),Yt(t,r))}function et(t,r,o){if(t.tag===3)qp(t,t,o);else for(;r!==null;){if(r.tag===3){qp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($r===null||!$r.has(u))){t=js(o,t),t=up(r,t,1),r=Br(r,t,1),t=$t(),r!==null&&(Pr(r,1,t),Yt(r,t));break}}r=r.return}}function T_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&o,wt===t&&(xt&o)===o&&(mt===4||mt===3&&(xt&130023424)===xt&&500>$e()-sh?Ui(t,0):ih|=o),Yt(t,r)}function Hp(t,r){r===0&&((t.mode&1)===0?r=1:(r=hs,hs<<=1,(hs&130023424)===0&&(hs=4194304)));var o=$t();t=gr(t,r),t!==null&&(Pr(t,r,o),Yt(t,o))}function I_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Hp(t,o)}function S_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Hp(t,o)}var Wp;Wp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Wt.current)Qt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Qt=!1,h_(t,r,o);Qt=(t.flags&131072)!==0}else Qt=!1,Ye&&(r.flags&1048576)!==0&&Af(r,yl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Vl(t,r),t=r.pendingProps;var d=ks(r,Dt.current);Ms(r,o),d=Mc(null,r,u,t,d,o);var p=bc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Gt(u)?(p=!0,pl(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Pc(r),d.updater=kl,r.stateNode=d,d._reactInternals=r,$c(r,u,t,o),r=Gc(null,r,u,!0,p,o)):(r.tag=0,Ye&&p&&_c(r),zt(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Vl(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=C_(u),t=Nn(u,t),d){case 0:r=Wc(null,r,u,t,o);break e;case 1:r=vp(null,r,u,t,o);break e;case 11:r=fp(null,r,u,t,o);break e;case 14:r=pp(null,r,u,Nn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Nn(u,d),Wc(t,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Nn(u,d),vp(t,r,u,d,o);case 3:e:{if(_p(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,d=p.element,Of(t,r),Il(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=js(Error(n(423)),r),r=Ep(t,r,u,o,d);break e}else if(u!==d){d=js(Error(n(424)),r),r=Ep(t,r,u,o,d);break e}else for(on=Mr(r.stateNode.containerInfo.firstChild),sn=r,Ye=!0,kn=null,o=Vf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ds(),u===d){r=vr(t,r,o);break e}zt(t,r,u,o)}r=r.child}return r;case 5:return bf(r),t===null&&Tc(r),u=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,_=d.children,fc(u,d)?_=null:p!==null&&fc(u,p)&&(r.flags|=32),yp(t,r),zt(t,r,_,o),r.child;case 6:return t===null&&Tc(r),null;case 13:return wp(t,r,o);case 4:return kc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Os(r,null,u,o):zt(t,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Nn(u,d),fp(t,r,u,d,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,qe(El,u._currentValue),u._currentValue=_,p!==null)if(Pn(p.value,_)){if(p.children===d.children&&!Wt.current){r=vr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){_=p.child;for(var P=I.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=yr(-1,o&-o),P.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var K=B.pending;K===null?P.next=P:(P.next=K.next,K.next=P),B.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),xc(p.return,o,r),I.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),xc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}zt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,Ms(r,o),d=mn(d),u=u(d),r.flags|=1,zt(t,r,u,o),r.child;case 14:return u=r.type,d=Nn(u,r.pendingProps),d=Nn(u.type,d),pp(t,r,u,d,o);case 15:return mp(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Nn(u,d),Vl(t,r),r.tag=1,Gt(u)?(t=!0,pl(r)):t=!1,Ms(r,o),op(r,u,d),$c(r,u,d,o),Gc(null,r,u,!0,t,o);case 19:return Ip(t,r,o);case 22:return gp(t,r,o)}throw Error(n(156,r.tag))};function Gp(t,r){return us(t,r)}function A_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,o,u){return new A_(t,r,o,u)}function fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C_(t){if(typeof t=="function")return fh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===Nt)return 14}return 2}function Gr(t,r){var o=t.alternate;return o===null?(o=vn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function $l(t,r,o,u,d,p){var _=2;if(u=t,typeof t=="function")fh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return zi(o.children,d,p,r);case S:_=8,d|=8;break;case R:return t=vn(12,o,r,d|2),t.elementType=R,t.lanes=p,t;case x:return t=vn(13,o,r,d),t.elementType=x,t.lanes=p,t;case nt:return t=vn(19,o,r,d),t.elementType=nt,t.lanes=p,t;case Ue:return ql(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case D:_=9;break e;case L:_=11;break e;case Nt:_=14;break e;case Vt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=vn(_,o,r,d),r.elementType=t,r.type=u,r.lanes=p,r}function zi(t,r,o,u){return t=vn(7,t,u,r),t.lanes=o,t}function ql(t,r,o,u){return t=vn(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function ph(t,r,o){return t=vn(6,t,null,r),t.lanes=o,t}function mh(t,r,o){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function x_(t,r,o,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function gh(t,r,o,u,d,p,_,I,P){return t=new x_(t,r,o,I,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=vn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(p),t}function R_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Qp(t){if(!t)return jr;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Gt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Gt(o))return Tf(t,o,r)}return r}function Kp(t,r,o,u,d,p,_,I,P){return t=gh(o,u,!0,t,d,p,_,I,P),t.context=Qp(null),o=t.current,u=$t(),d=Hr(o),p=yr(u,d),p.callback=r??null,Br(o,p,d),t.current.lanes=d,Pr(t,d,u),Yt(t,u),t}function Hl(t,r,o,u){var d=r.current,p=$t(),_=Hr(d);return o=Qp(o),r.context===null?r.context=o:r.pendingContext=o,r=yr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Br(d,r,_),t!==null&&(On(t,d,_,p),Tl(t,d,_)),_}function Wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function yh(t,r){Yp(t,r),(t=t.alternate)&&Yp(t,r)}function P_(){return null}var Xp=typeof reportError=="function"?reportError:function(t){console.error(t)};function vh(t){this._internalRoot=t}Gl.prototype.render=vh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Hl(t,r,null,null)},Gl.prototype.unmount=vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Fi(function(){Hl(null,t,null,null)}),r[dr]=null}};function Gl(t){this._internalRoot=t}Gl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ga();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Un.length&&r!==0&&r<Un[o].priority;o++);Un.splice(o,0,t),o===0&&Ya(t)}};function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jp(){}function k_(t,r,o,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var B=Wl(_);p.call(B)}}var _=Kp(r,u,t,0,null,!1,!1,"",Jp);return t._reactRootContainer=_,t[dr]=_.current,Ho(t.nodeType===8?t.parentNode:t),Fi(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var I=u;u=function(){var B=Wl(P);I.call(B)}}var P=gh(t,0,!1,null,null,!1,!1,"",Jp);return t._reactRootContainer=P,t[dr]=P.current,Ho(t.nodeType===8?t.parentNode:t),Fi(function(){Hl(r,P,o,u)}),P}function Kl(t,r,o,u,d){var p=o._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var I=d;d=function(){var P=Wl(_);I.call(P)}}Hl(r,_,t,d)}else _=k_(o,r,t,d,u);return Wl(_)}Ha=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=xr(r.pendingLanes);o!==0&&(kr(r,o|1),Yt(r,$e()),(De&6)===0&&(Bs=$e()+500,Fr()))}break;case 13:Fi(function(){var u=gr(t,1);if(u!==null){var d=$t();On(u,t,1,d)}}),yh(t,1)}},ds=function(t){if(t.tag===13){var r=gr(t,134217728);if(r!==null){var o=$t();On(r,t,134217728,o)}yh(t,134217728)}},Wa=function(t){if(t.tag===13){var r=Hr(t),o=gr(t,r);if(o!==null){var u=$t();On(o,t,r,u)}yh(t,r)}},Ga=function(){return Re},Qa=function(t,r){var o=Re;try{return Re=t,r()}finally{Re=o}},rs=function(t,r,o){switch(r){case"input":if(go(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var d=dl(u);if(!d)throw Error(n(90));Xi(u),go(u,d)}}}break;case"textarea":ts(t,o);break;case"select":r=o.value,r!=null&&ir(t,!!o.multiple,r,!1)}},_i=ch,Co=Fi;var N_={usingClientEntryPoint:!1,Events:[Qo,Rs,dl,jn,Ao,ch]},la={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V_={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Po(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||P_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Si=Yl.inject(V_),en=Yl}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_,Xt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(r))throw Error(n(200));return R_(t,r,null,o)},Xt.createRoot=function(t,r){if(!_h(t))throw Error(n(299));var o=!1,u="",d=Xp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=gh(t,1,!1,null,null,o,!1,u,d),t[dr]=r.current,Ho(t.nodeType===8?t.parentNode:t),new vh(r)},Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Po(r),t=t===null?null:t.stateNode,t},Xt.flushSync=function(t){return Fi(t)},Xt.hydrate=function(t,r,o){if(!Ql(r))throw Error(n(200));return Kl(null,t,r,!0,o)},Xt.hydrateRoot=function(t,r,o){if(!_h(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,d=!1,p="",_=Xp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Kp(r,null,t,1,o??null,d,!1,p,_),t[dr]=r.current,Ho(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Gl(r)},Xt.render=function(t,r,o){if(!Ql(r))throw Error(n(200));return Kl(null,t,r,!1,o)},Xt.unmountComponentAtNode=function(t){if(!Ql(t))throw Error(n(40));return t._reactRootContainer?(Fi(function(){Kl(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1},Xt.unstable_batchedUpdates=ch,Xt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Ql(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Kl(t,r,o,!1,u)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var om;function Pg(){if(om)return Th.exports;om=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Th.exports=$_(),Th.exports}var am;function q_(){if(am)return Xl;am=1;var i=Pg();return Xl.createRoot=i.createRoot,Xl.hydrateRoot=i.hydrateRoot,Xl}var H_=q_();Pg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},va.apply(this,arguments)}var Xr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Xr||(Xr={}));const lm="popstate";function W_(i){i===void 0&&(i={});function e(s,a){let{pathname:c,search:h,hash:m}=s.location;return Mh("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:hu(a)}return Q_(e,n,null,i)}function tt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function kg(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G_(){return Math.random().toString(36).substr(2,8)}function um(i,e){return{usr:i.state,key:i.key,idx:e}}function Mh(i,e,n,s){return n===void 0&&(n=null),va({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:n,key:e&&e.key||s||G_()})}function hu(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function oo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function Q_(i,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m=Xr.Pop,y=null,v=w();v==null&&(v=0,h.replaceState(va({},h.state,{idx:v}),""));function w(){return(h.state||{idx:null}).idx}function T(){m=Xr.Pop;let U=w(),le=U==null?null:U-v;v=U,y&&y({action:m,location:q.location,delta:le})}function A(U,le){m=Xr.Push;let te=Mh(q.location,U,le);v=w()+1;let ne=um(te,v),de=q.createHref(te);try{h.pushState(ne,"",de)}catch(Le){if(Le instanceof DOMException&&Le.name==="DataCloneError")throw Le;a.location.assign(de)}c&&y&&y({action:m,location:q.location,delta:1})}function F(U,le){m=Xr.Replace;let te=Mh(q.location,U,le);v=w();let ne=um(te,v),de=q.createHref(te);h.replaceState(ne,"",de),c&&y&&y({action:m,location:q.location,delta:0})}function $(U){let le=a.location.origin!=="null"?a.location.origin:a.location.href,te=typeof U=="string"?U:hu(U);return te=te.replace(/ $/,"%20"),tt(le,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,le)}let q={get action(){return m},get location(){return i(a,h)},listen(U){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(lm,T),y=U,()=>{a.removeEventListener(lm,T),y=null}},createHref(U){return e(a,U)},createURL:$,encodeLocation(U){let le=$(U);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:A,replace:F,go(U){return h.go(U)}};return q}var cm;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(cm||(cm={}));function K_(i,e,n){return n===void 0&&(n="/"),Y_(i,e,n)}function Y_(i,e,n,s){let a=typeof e=="string"?oo(e):e,c=Xs(a.pathname||"/",n);if(c==null)return null;let h=Ng(i);X_(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let v=lE(c);m=oE(h[y],v)}return m}function Ng(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(c,h,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};y.relativePath.startsWith("/")&&(tt(y.relativePath.startsWith(s),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(s.length));let v=Zr([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(tt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Ng(c.children,e,w,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:iE(v,c.index),routesMeta:w})};return i.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,h);else for(let y of Vg(c.path))a(c,h,y)}),e}function Vg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=Vg(s.join("/")),m=[];return m.push(...h.map(y=>y===""?c:[c,y].join("/"))),a&&m.push(...h),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function X_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:sE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const J_=/^:[\w-]+$/,Z_=3,eE=2,tE=1,nE=10,rE=-2,hm=i=>i==="*";function iE(i,e){let n=i.split("/"),s=n.length;return n.some(hm)&&(s+=rE),e&&(s+=eE),n.filter(a=>!hm(a)).reduce((a,c)=>a+(J_.test(c)?Z_:c===""?tE:nE),s)}function sE(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function oE(i,e,n){let{routesMeta:s}=i,a={},c="/",h=[];for(let m=0;m<s.length;++m){let y=s[m],v=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",T=bh({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},w),A=y.route;if(!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:Zr([c,T.pathname]),pathnameBase:dE(Zr([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=Zr([c,T.pathnameBase]))}return h}function bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=aE(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,w,T)=>{let{paramName:A,isOptional:F}=w;if(A==="*"){let q=m[T]||"";h=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const $=m[T];return F&&!$?v[A]=void 0:v[A]=($||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:i}}function aE(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kg(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function lE(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kg(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Xs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function uE(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?oo(i):i;return{pathname:n?n.startsWith("/")?n:cE(n,e):e,search:fE(s),hash:pE(a)}}function cE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ah(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hE(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dg(i,e){let n=hE(i);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Og(i,e,n,s){s===void 0&&(s=!1);let a;typeof i=="string"?a=oo(i):(a=va({},i),tt(!a.pathname||!a.pathname.includes("?"),Ah("?","pathname","search",a)),tt(!a.pathname||!a.pathname.includes("#"),Ah("#","pathname","hash",a)),tt(!a.search||!a.search.includes("#"),Ah("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}m=T>=0?e[T]:"/"}let y=uE(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(v||w)&&(y.pathname+="/"),y}const Zr=i=>i.join("/").replace(/\/\/+/g,"/"),dE=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),fE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function mE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Lg=["post","put","patch","delete"];new Set(Lg);const gE=["get",...Lg];new Set(gE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},_a.apply(this,arguments)}const xu=J.createContext(null),Mg=J.createContext(null),hi=J.createContext(null),Ru=J.createContext(null),di=J.createContext({outlet:null,matches:[],isDataRoute:!1}),bg=J.createContext(null);function yE(i,e){let{relative:n}=e===void 0?{}:e;Pa()||tt(!1);let{basename:s,navigator:a}=J.useContext(hi),{hash:c,pathname:h,search:m}=Pu(i,{relative:n}),y=h;return s!=="/"&&(y=h==="/"?s:Zr([s,h])),a.createHref({pathname:y,search:m,hash:c})}function Pa(){return J.useContext(Ru)!=null}function ka(){return Pa()||tt(!1),J.useContext(Ru).location}function jg(i){J.useContext(hi).static||J.useLayoutEffect(i)}function vE(){let{isDataRoute:i}=J.useContext(di);return i?DE():_E()}function _E(){Pa()||tt(!1);let i=J.useContext(xu),{basename:e,future:n,navigator:s}=J.useContext(hi),{matches:a}=J.useContext(di),{pathname:c}=ka(),h=JSON.stringify(Dg(a,n.v7_relativeSplatPath)),m=J.useRef(!1);return jg(()=>{m.current=!0}),J.useCallback(function(v,w){if(w===void 0&&(w={}),!m.current)return;if(typeof v=="number"){s.go(v);return}let T=Og(v,JSON.parse(h),c,w.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Zr([e,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[e,s,h,c,i])}const EE=J.createContext(null);function wE(i){let e=J.useContext(di).outlet;return e&&J.createElement(EE.Provider,{value:i},e)}function Pu(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=J.useContext(hi),{matches:a}=J.useContext(di),{pathname:c}=ka(),h=JSON.stringify(Dg(a,s.v7_relativeSplatPath));return J.useMemo(()=>Og(i,JSON.parse(h),c,n==="path"),[i,h,c,n])}function TE(i,e){return IE(i,e)}function IE(i,e,n,s){Pa()||tt(!1);let{navigator:a}=J.useContext(hi),{matches:c}=J.useContext(di),h=c[c.length-1],m=h?h.params:{};h&&h.pathname;let y=h?h.pathnameBase:"/";h&&h.route;let v=ka(),w;if(e){var T;let U=typeof e=="string"?oo(e):e;y==="/"||(T=U.pathname)!=null&&T.startsWith(y)||tt(!1),w=U}else w=v;let A=w.pathname||"/",F=A;if(y!=="/"){let U=y.replace(/^\//,"").split("/");F="/"+A.replace(/^\//,"").split("/").slice(U.length).join("/")}let $=K_(i,{pathname:F}),q=RE($&&$.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:Zr([y,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Zr([y,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),c,n,s);return e&&q?J.createElement(Ru.Provider,{value:{location:_a({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Xr.Pop}},q):q}function SE(){let i=VE(),e=mE(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:a},n):null,null)}const AE=J.createElement(SE,null);class CE extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(di.Provider,{value:this.props.routeContext},J.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xE(i){let{routeContext:e,match:n,children:s}=i,a=J.useContext(xu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(di.Provider,{value:e},s)}function RE(i,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var c;if(!n)return null;if(n.errors)i=n.matches;else if((c=s)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let h=i,m=(a=n)==null?void 0:a.errors;if(m!=null){let w=h.findIndex(T=>T.route.id&&m?.[T.route.id]!==void 0);w>=0||tt(!1),h=h.slice(0,Math.min(h.length,w+1))}let y=!1,v=-1;if(n&&s&&s.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=w),T.route.id){let{loaderData:A,errors:F}=n,$=T.route.loader&&A[T.route.id]===void 0&&(!F||F[T.route.id]===void 0);if(T.route.lazy||$){y=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((w,T,A)=>{let F,$=!1,q=null,U=null;n&&(F=m&&T.route.id?m[T.route.id]:void 0,q=T.route.errorElement||AE,y&&(v<0&&A===0?(OE("route-fallback"),$=!0,U=null):v===A&&($=!0,U=T.route.hydrateFallbackElement||null)));let le=e.concat(h.slice(0,A+1)),te=()=>{let ne;return F?ne=q:$?ne=U:T.route.Component?ne=J.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=w,J.createElement(xE,{match:T,routeContext:{outlet:w,matches:le,isDataRoute:n!=null},children:ne})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?J.createElement(CE,{location:n.location,revalidation:n.revalidation,component:q,error:F,children:te(),routeContext:{outlet:null,matches:le,isDataRoute:!0}}):te()},null)}var Fg=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(Fg||{}),Ug=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(Ug||{});function PE(i){let e=J.useContext(xu);return e||tt(!1),e}function kE(i){let e=J.useContext(Mg);return e||tt(!1),e}function NE(i){let e=J.useContext(di);return e||tt(!1),e}function Bg(i){let e=NE(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function VE(){var i;let e=J.useContext(bg),n=kE(),s=Bg();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function DE(){let{router:i}=PE(Fg.UseNavigateStable),e=Bg(Ug.UseNavigateStable),n=J.useRef(!1);return jg(()=>{n.current=!0}),J.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,_a({fromRouteId:e},c)))},[i,e])}const dm={};function OE(i,e,n){dm[i]||(dm[i]=!0)}function LE(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function ME(i){return wE(i.context)}function Qn(i){tt(!1)}function bE(i){let{basename:e="/",children:n=null,location:s,navigationType:a=Xr.Pop,navigator:c,static:h=!1,future:m}=i;Pa()&&tt(!1);let y=e.replace(/^\/*/,"/"),v=J.useMemo(()=>({basename:y,navigator:c,static:h,future:_a({v7_relativeSplatPath:!1},m)}),[y,m,c,h]);typeof s=="string"&&(s=oo(s));let{pathname:w="/",search:T="",hash:A="",state:F=null,key:$="default"}=s,q=J.useMemo(()=>{let U=Xs(w,y);return U==null?null:{location:{pathname:U,search:T,hash:A,state:F,key:$},navigationType:a}},[y,w,T,A,F,$,a]);return q==null?null:J.createElement(hi.Provider,{value:v},J.createElement(Ru.Provider,{children:n,value:q}))}function jE(i){let{children:e,location:n}=i;return TE(jh(e),n)}new Promise(()=>{});function jh(i,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(i,(s,a)=>{if(!J.isValidElement(s))return;let c=[...e,a];if(s.type===J.Fragment){n.push.apply(n,jh(s.props.children,c));return}s.type!==Qn&&tt(!1),!s.props.index||!s.props.children||tt(!1);let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=jh(s.props.children,c)),n.push(h)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},du.apply(this,arguments)}function zg(i,e){if(i==null)return{};var n={},s=Object.keys(i),a,c;for(c=0;c<s.length;c++)a=s[c],!(e.indexOf(a)>=0)&&(n[a]=i[a]);return n}function FE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function UE(i,e){return i.button===0&&(!e||e==="_self")&&!FE(i)}const BE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zE=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$E="6";try{window.__reactRouterVersion=$E}catch{}const qE=J.createContext({isTransitioning:!1}),HE="startTransition",fm=U_[HE];function WE(i){let{basename:e,children:n,future:s,window:a}=i,c=J.useRef();c.current==null&&(c.current=W_({window:a,v5Compat:!0}));let h=c.current,[m,y]=J.useState({action:h.action,location:h.location}),{v7_startTransition:v}=s||{},w=J.useCallback(T=>{v&&fm?fm(()=>y(T)):y(T)},[y,v]);return J.useLayoutEffect(()=>h.listen(w),[h,w]),J.useEffect(()=>LE(s),[s]),J.createElement(bE,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:h,future:s})}const GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=J.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:c,replace:h,state:m,target:y,to:v,preventScrollReset:w,viewTransition:T}=e,A=zg(e,BE),{basename:F}=J.useContext(hi),$,q=!1;if(typeof v=="string"&&QE.test(v)&&($=v,GE))try{let ne=new URL(window.location.href),de=v.startsWith("//")?new URL(ne.protocol+v):new URL(v),Le=Xs(de.pathname,F);de.origin===ne.origin&&Le!=null?v=Le+de.search+de.hash:q=!0}catch{}let U=yE(v,{relative:a}),le=YE(v,{replace:h,state:m,target:y,preventScrollReset:w,relative:a,viewTransition:T});function te(ne){s&&s(ne),ne.defaultPrevented||le(ne)}return J.createElement("a",du({},A,{href:$||U,onClick:q||c?s:te,ref:n,target:y}))}),Kr=J.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:c="",end:h=!1,style:m,to:y,viewTransition:v,children:w}=e,T=zg(e,zE),A=Pu(y,{relative:T.relative}),F=ka(),$=J.useContext(Mg),{navigator:q,basename:U}=J.useContext(hi),le=$!=null&&XE(A)&&v===!0,te=q.encodeLocation?q.encodeLocation(A).pathname:A.pathname,ne=F.pathname,de=$&&$.navigation&&$.navigation.location?$.navigation.location.pathname:null;a||(ne=ne.toLowerCase(),de=de?de.toLowerCase():null,te=te.toLowerCase()),de&&U&&(de=Xs(de,U)||de);const Le=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Ae=ne===te||!h&&ne.startsWith(te)&&ne.charAt(Le)==="/",V=de!=null&&(de===te||!h&&de.startsWith(te)&&de.charAt(te.length)==="/"),S={isActive:Ae,isPending:V,isTransitioning:le},R=Ae?s:void 0,k;typeof c=="function"?k=c(S):k=[c,Ae?"active":null,V?"pending":null,le?"transitioning":null].filter(Boolean).join(" ");let D=typeof m=="function"?m(S):m;return J.createElement(qi,du({},T,{"aria-current":R,className:k,ref:n,style:D,to:y,viewTransition:v}),typeof w=="function"?w(S):w)});var Fh;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Fh||(Fh={}));var pm;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(pm||(pm={}));function KE(i){let e=J.useContext(xu);return e||tt(!1),e}function YE(i,e){let{target:n,replace:s,state:a,preventScrollReset:c,relative:h,viewTransition:m}=e===void 0?{}:e,y=vE(),v=ka(),w=Pu(i,{relative:h});return J.useCallback(T=>{if(UE(T,n)){T.preventDefault();let A=s!==void 0?s:hu(v)===hu(w);y(i,{replace:A,state:a,preventScrollReset:c,relative:h,viewTransition:m})}},[v,y,w,s,a,n,i,c,h,m])}function XE(i,e){e===void 0&&(e={});let n=J.useContext(qE);n==null&&tt(!1);let{basename:s}=KE(Fh.useViewTransitionState),a=Pu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Xs(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Xs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(a.pathname,h)!=null||bh(a.pathname,c)!=null}const $g=J.createContext();function JE({children:i}){const[e,n]=J.useState("en"),s=()=>n(a=>a==="en"?"pa":"en");return C.jsx($g.Provider,{value:{lang:e,setLang:n,toggleLang:s},children:i})}function Mn(){return J.useContext($g)}const ZE={en:{home:"Home",courses:"Courses",about:"About",contact:"Contact",switch:""},pa:{home:" ",courses:"",about:"",contact:"",switch:"English"}},Yr=({isActive:i})=>`px-3 py-2 rounded-lg text-sm font-medium ${i?"bg-white/20":"hover:bg-white/10"}`;function e0(){const[i,e]=J.useState(!1),{lang:n,toggleLang:s}=Mn(),a=ZE[n];return C.jsxs("header",{className:"sticky top-0 z-50 bg-brand-700 text-white shadow",children:[C.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between px-4 py-3",children:[C.jsxs(qi,{to:"/",className:"flex items-center gap-2",children:[C.jsx("img",{src:"logo.svg",alt:"SkillsHub Logo",className:"h-10 w-10 rounded-lg shadow"}),C.jsx("span",{className:"text-lg sm:text-xl font-bold",children:n==="en"?"SkillsHub @ GSS Phase 1":" @   1"})]}),C.jsxs("nav",{className:"hidden sm:flex items-center gap-1",children:[C.jsx(Kr,{to:"/",className:Yr,children:a.home}),C.jsx(Kr,{to:"/courses",className:Yr,children:a.courses}),C.jsx(Kr,{to:"/about",className:Yr,children:a.about}),C.jsx(Kr,{to:"/contact",className:Yr,children:a.contact}),C.jsx("button",{className:"ml-4 px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 font-semibold",onClick:s,children:a.switch})]}),C.jsx("button",{className:"sm:hidden p-2 rounded-lg hover:bg-white/10","aria-label":"Open menu",onClick:()=>e(c=>!c),children:C.jsx("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2",children:C.jsx("path",{d:"M6 9h16M6 15h16"})})})]}),i&&C.jsxs("nav",{className:"sm:hidden bg-brand-700 px-4 pb-3 flex flex-col gap-1",children:[C.jsx(Kr,{to:"/",className:Yr,onClick:()=>e(!1),children:a.home}),C.jsx(Kr,{to:"/courses",className:Yr,onClick:()=>e(!1),children:a.courses}),C.jsx(Kr,{to:"/about",className:Yr,onClick:()=>e(!1),children:a.about}),C.jsx(Kr,{to:"/contact",className:Yr,onClick:()=>e(!1),children:a.contact}),C.jsx("button",{className:"mt-2 px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 font-semibold",onClick:()=>{s(),e(!1)},children:a.switch})]})]})}function t0(){const{lang:i}=Mn();return C.jsx("footer",{className:"bg-brand-700 text-gray-300 py-6 mt-12",children:C.jsx("div",{className:"max-w-6xl mx-auto px-4 text-center text-sm",children:i==="en"?" 2025 SkillsHub @ Gurudwara Singh Sabha, Phase 1. All rights reserved.":" 2025 SkillsHub @   ,  1.    "})})}function n0(){const{lang:i}=Mn();return C.jsxs("div",{children:[C.jsx("section",{className:"relative h-[60vh] sm:h-[70vh] flex items-center justify-center bg-brand-700",children:C.jsxs("div",{className:"relative text-center text-white px-4",children:[C.jsx("h1",{className:"text-3xl sm:text-5xl font-extrabold drop-shadow text-accent-orange",children:i==="en"?"Education for All":"  "}),C.jsx("p",{className:"mt-4 text-base sm:text-lg max-w-2xl mx-auto",children:i==="en"?"Computer & Digital Skills for Youth and Seniors at Gurudwara Singh Sabha, Phase 1 (Mohali)":"        ,   ,  1 ()"}),C.jsx("a",{href:"/courses",className:"inline-block mt-6 bg-accent-orange text-white font-semibold px-6 py-3 rounded-xl shadow hover:bg-brand-600",children:i==="en"?"Explore Courses":" "})]})}),C.jsx("section",{className:"max-w-6xl mx-auto px-4 py-12 grid md:grid-cols-3 gap-6",children:[{title:i==="en"?"Free & Community-Driven":"  ",text:i==="en"?"Volunteer-led classes at the Gurudwara Sahib.":"     "},{title:i==="en"?"Beginner Friendly":"  ",text:i==="en"?"No prior experience required. Simple syllabus.":"      "},{title:i==="en"?"Job-Ready Skills":"  ",text:i==="en"?"MS Office, Internet Safety, Digital Payments & more.":"MS Office,  ,   "}].map(e=>C.jsxs("div",{className:"bg-white rounded-2xl shadow p-6",children:[C.jsx("h3",{className:"text-lg font-semibold text-brand-700",children:e.title}),C.jsx("p",{className:"mt-2 text-gray-600",children:e.text})]},e.title))})]})}const r0={en:{title:"Courses Offered",basic:"Basic Computer Education",fraud:"Digital Fraud Awareness",genai:"Introduction to GenAI & AgenticAI",registerBasic:"Register for Basic Computer Education",registerFraud:"Register for Digital Fraud Session",registerGenai:"Register for GenAI & AgenticAI Course",meetTutor:"Meet the Tutor",basicDesc:"Learn the fundamentals of computers, internet, and digital skills for everyday life.",basicList:["Introduction to computers and hardware","Basic Windows & file management","Internet browsing & email","MS Office basics (Word, Excel, PowerPoint)","Safe internet practices"],fraudDesc:"Learn how to protect yourself from online scams, phishing, and digital fraud.",fraudList:["Recognize common online scams","Protect your passwords and personal info","Safe digital payments","Reporting fraud and getting help"],genaiDesc:"This course is designed for computer graduates and working professionals who use computers daily and want to learn about Generative AI and Agentic AI.",genaiList:["Overview of Generative AI (GenAI) and Agentic AI","Applications in the workplace and job search","Hands-on with popular GenAI tools (ChatGPT, Copilot, etc.)","Ethics, safety, and responsible use of AI","How Agentic AI can automate tasks and workflows"]},pa:{title:"  ",basic:"  ",fraud:"  ",genai:"GenAI  AgenticAI  ",registerBasic:"     ",registerFraud:"     ",registerGenai:"GenAI & AgenticAI    ",meetTutor:"  ",basicDesc:",        ",basicList:["    ","Windows   ","   ","MS Office (Word, Excel, PowerPoint)   ","  "],fraudDesc:" ,         ",fraudList:["    ","      ","  ","     "],genaiDesc:"            GenAI  AgenticAI    ",genaiList:["GenAI  AgenticAI  ","       ","GenAI  (ChatGPT, Copilot )  - ","AI  ,    ","AgenticAI      "]}};function i0(){const[i,e]=J.useState("basic"),{lang:n}=Mn(),s=r0[n];return C.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-12",children:[C.jsx("h2",{className:"text-3xl font-bold text-brand-700 mb-8",children:s.title}),C.jsxs("div",{className:"flex gap-2 mb-6",children:[C.jsx("button",{className:`px-4 py-2 rounded-t-lg font-semibold ${i==="basic"?"bg-brand-700 text-white":"bg-gray-200 text-brand-700"}`,onClick:()=>e("basic"),children:s.basic}),C.jsx("button",{className:`px-4 py-2 rounded-t-lg font-semibold ${i==="fraud"?"bg-brand-700 text-white":"bg-gray-200 text-brand-700"}`,onClick:()=>e("fraud"),children:s.fraud}),C.jsx("button",{className:`px-4 py-2 rounded-t-lg font-semibold ${i==="genai"?"bg-brand-700 text-white":"bg-gray-200 text-brand-700"}`,onClick:()=>e("genai"),children:s.genai})]}),C.jsxs("div",{className:"bg-white rounded-b-xl shadow p-6",children:[i==="basic"&&C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-semibold text-brand-700",children:s.basic}),C.jsx("p",{className:"mt-2 text-gray-700",children:s.basicDesc}),C.jsx("ul",{className:"mt-4 list-disc list-inside text-gray-700 space-y-1",children:s.basicList.map((a,c)=>C.jsx("li",{children:a},c))}),C.jsx("div",{className:"mt-6",children:C.jsx("a",{href:"YOUR_GOOGLE_FORM_LINK_FOR_BASIC_COMPUTER",target:"_blank",rel:"noreferrer",className:"inline-block bg-brand-700 text-white px-6 py-3 rounded-xl font-semibold shadow hover:shadow-lg",children:s.registerBasic})})]}),i==="fraud"&&C.jsxs("div",{children:[C.jsxs("h3",{className:"text-xl font-semibold text-brand-700",children:[" ",s.fraud]}),C.jsx("p",{className:"mt-2 text-gray-700",children:s.fraudDesc}),C.jsx("ul",{className:"mt-4 list-disc list-inside text-gray-700 space-y-1",children:s.fraudList.map((a,c)=>C.jsx("li",{children:a},c))}),C.jsx("div",{className:"mt-6",children:C.jsx("a",{href:"https://forms.gle/vzDwRuzdM12dz1Wo7",target:"_blank",rel:"noreferrer",className:"inline-block bg-brand-700 text-white px-6 py-3 rounded-xl font-semibold shadow hover:shadow-lg",children:s.registerFraud})}),C.jsx("div",{className:"mt-4",children:C.jsx(qi,{to:"/courses/digital-fraud-tutor",className:"underline text-brand-700 font-medium",children:s.meetTutor})})]}),i==="genai"&&C.jsxs("div",{children:[C.jsxs("h3",{className:"text-xl font-semibold text-brand-700",children:[" ",s.genai]}),C.jsx("p",{className:"mt-2 text-gray-700",children:s.genaiDesc}),C.jsx("ul",{className:"mt-4 list-disc list-inside text-gray-700 space-y-1",children:s.genaiList.map((a,c)=>C.jsx("li",{children:a},c))}),C.jsx("div",{className:"mt-6",children:C.jsx("a",{href:"https://forms.gle/4S22csQBU5fRjbhi7",target:"_blank",rel:"noreferrer",className:"inline-block bg-brand-700 text-white px-6 py-3 rounded-xl font-semibold shadow hover:shadow-lg",children:s.registerGenai})})]})]})]})}const s0={en:{title:"About Us",desc:"SkillsHub is a community initiative at Gurudwara Singh Sabha, Phase 1, Mohali. Our goal is to empower youth and seniors with digital literacy and job-ready computer skills, free of cost.",points:["Volunteer-run classes","Focus on practical skills","Inclusive for all ages","Special sessions for job seekers"]},pa:{title:" ",desc:"SkillsHub   ,  1,                 -    ",points:["   ","   ","   ","     "]}};function o0(){const{lang:i}=Mn(),e=s0[i];return C.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-12",children:[C.jsx("h2",{className:"text-3xl font-bold text-brand-700 mb-4",children:e.title}),C.jsx("p",{className:"mb-6 text-gray-700",children:e.desc}),C.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:e.points.map((n,s)=>C.jsx("li",{children:n},s))})]})}const a0={en:{title:"Contact Us",desc:"For queries, suggestions, or volunteering, reach out to us:",email:"Email",phone:"Phone",address:"Address",addressText:"Gurudwara Singh Sabha, Phase 1, Mohali, Punjab"},pa:{title:" ",desc:",        :",email:"",phone:"",address:"",addressText:"  ,  1, , "}};function l0(){const{lang:i}=Mn(),e=a0[i];return C.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-12",children:[C.jsx("h2",{className:"text-3xl font-bold text-brand-700 mb-4",children:e.title}),C.jsx("p",{className:"mb-6 text-gray-700",children:e.desc}),C.jsxs("ul",{className:"space-y-2 text-gray-700",children:[C.jsxs("li",{children:[C.jsxs("strong",{children:[e.email,":"]})," ",C.jsx("a",{href:"mailto:info@skillshub.co.in",className:"underline text-brand-700",children:"info@skillshub.co.in"})]}),C.jsxs("li",{children:[C.jsxs("strong",{children:[e.phone,":"]})," ",C.jsx("a",{href:"tel:+919876543210",className:"underline text-brand-700",children:"+91-9876543210"})]}),C.jsxs("li",{children:[C.jsxs("strong",{children:[e.address,":"]})," ",e.addressText]})]})]})}const u0={en:{title:"Digital Fraud Session Tutor",name:"Mr. Amanpreet Singh",desc:`Cybersecurity Enthusiast & Volunteer
5+ years experience in digital safety education`,contact:"Reach out for queries"},pa:{title:"   ",name:"  ",desc:`  & 
5+       `,contact:"   "}};function c0(){const{lang:i}=Mn(),e=u0[i];return C.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-12",children:[C.jsx("h2",{className:"text-3xl font-bold text-brand-700",children:e.title}),C.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 mt-6",children:[C.jsx("h3",{className:"text-xl font-semibold text-brand-700",children:e.name}),C.jsx("p",{className:"mt-3 text-gray-700",style:{whiteSpace:"pre-line"},children:e.desc}),C.jsxs("p",{className:"mt-4 text-gray-600",children:[e.contact,": ",C.jsx("a",{href:"mailto:info@skillshub.co.in",className:"underline text-brand-700",children:"info@skillshub.co.in"})]})]})]})}const h0={en:{title:"Admin Dashboard",assets:"Assets",finance:"Financial Details",community:"Community Thread",other:"Other"},pa:{title:" ",assets:"  ",finance:" ",community:" ",other:""}};function d0(){const{lang:i}=Mn(),e=h0[i];return C.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-12",children:[C.jsx("h2",{className:"text-3xl font-bold text-brand-700 mb-6",children:e.title}),C.jsxs("nav",{className:"mb-8 flex gap-4",children:[C.jsx(qi,{to:"assets",className:"px-4 py-2 bg-brand-700 text-white rounded-lg",children:e.assets}),C.jsx(qi,{to:"finance",className:"px-4 py-2 bg-brand-700 text-white rounded-lg",children:e.finance}),C.jsx(qi,{to:"community",className:"px-4 py-2 bg-brand-700 text-white rounded-lg",children:e.community}),C.jsx(qi,{to:"placeholder",className:"px-4 py-2 bg-brand-700 text-white rounded-lg",children:e.other})]}),C.jsx(ME,{})]})}const f0={en:{title:"Center Assets",add:"Add Asset",assetName:"Asset Name",assetId:"Unique Asset ID",model:"Model / Serial Number",type:"Asset Type",typeOptions:["Computer","Furniture","Audio-Visual","Office Equipment"],owner:"Owner / Donor Name",purchaseDate:"Purchase / Donation Date",price:"Purchase Price (if applicable)",condition:"Current Condition",conditionOptions:["Good","Fair","Damaged"],warranty:"Warranty Expiry Date (if any)",insurance:"Insurance Info (if any)",maintenanceRequired:"Monthly/Annual Maintenance Required",lastMaintenance:"Last Maintenance Date",nextMaintenance:"Next Maintenance Due",notes:"Notes / Remarks",yes:"Yes",no:"No",actions:"Actions",delete:"Delete",desc:"List and manage all assets of the center here."},pa:{title:"  ",add:"  ",assetName:"  ",assetId:"  ID",model:" /  ",type:" ",typeOptions:["","","-"," "],owner:" /   ",purchaseDate:" /   ",price:"  (  )",condition:" ",conditionOptions:["","-",""],warranty:"     ( )",insurance:"  ( )",maintenanceRequired:"/ - ",lastMaintenance:" -  ",nextMaintenance:" -  ",notes:" / ",yes:"",no:"",actions:"",delete:"",desc:"        "}},mm={assetName:"",assetId:"",model:"",type:"",owner:"",purchaseDate:"",price:"",condition:"",warranty:"",insurance:"",maintenanceRequired:!1,lastMaintenance:"",nextMaintenance:"",notes:""};function p0(){const{lang:i}=Mn(),e=f0[i],[n,s]=J.useState(mm),[a,c]=J.useState([]),h=v=>{const{name:w,value:T,type:A,checked:F}=v.target;s($=>({...$,[w]:A==="checkbox"?F:T}))},m=v=>{v.preventDefault(),!(!n.assetName||!n.assetId)&&(c([...a,n]),s(mm))},y=v=>{c(a.filter((w,T)=>T!==v))};return C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-semibold text-brand-700 mb-4",children:e.title}),C.jsx("p",{className:"mb-6",children:e.desc}),C.jsxs("form",{className:"bg-gray-50 p-4 rounded-xl mb-8 grid grid-cols-1 md:grid-cols-2 gap-4",onSubmit:m,children:[C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.assetName}),C.jsx("input",{name:"assetName",value:n.assetName,onChange:h,required:!0,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.assetId}),C.jsx("input",{name:"assetId",value:n.assetId,onChange:h,required:!0,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.model}),C.jsx("input",{name:"model",value:n.model,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.type}),C.jsxs("select",{name:"type",value:n.type,onChange:h,className:"w-full border px-2 py-1 rounded",children:[C.jsx("option",{value:"",children:i==="en"?"Select Type":" "}),e.typeOptions.map(v=>C.jsx("option",{value:v,children:v},v))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.owner}),C.jsx("input",{name:"owner",value:n.owner,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.purchaseDate}),C.jsx("input",{type:"date",name:"purchaseDate",value:n.purchaseDate,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.price}),C.jsx("input",{type:"number",name:"price",value:n.price,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.condition}),C.jsxs("select",{name:"condition",value:n.condition,onChange:h,className:"w-full border px-2 py-1 rounded",children:[C.jsx("option",{value:"",children:i==="en"?"Select Condition":" "}),e.conditionOptions.map(v=>C.jsx("option",{value:v,children:v},v))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.warranty}),C.jsx("input",{type:"date",name:"warranty",value:n.warranty,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.insurance}),C.jsx("input",{name:"insurance",value:n.insurance,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.maintenanceRequired}),C.jsx("div",{children:C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",name:"maintenanceRequired",checked:n.maintenanceRequired,onChange:h}),C.jsx("span",{className:"ml-2",children:n.maintenanceRequired?e.yes:e.no})]})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.lastMaintenance}),C.jsx("input",{type:"date",name:"lastMaintenance",value:n.lastMaintenance,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium",children:e.nextMaintenance}),C.jsx("input",{type:"date",name:"nextMaintenance",value:n.nextMaintenance,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsxs("div",{className:"md:col-span-2",children:[C.jsx("label",{className:"block font-medium",children:e.notes}),C.jsx("textarea",{name:"notes",value:n.notes,onChange:h,className:"w-full border px-2 py-1 rounded"})]}),C.jsx("div",{className:"md:col-span-2 text-right",children:C.jsx("button",{type:"submit",className:"bg-brand-700 text-white px-6 py-2 rounded-lg",children:e.add})})]}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full border text-sm",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"bg-brand-700 text-white",children:[C.jsx("th",{children:e.assetName}),C.jsx("th",{children:e.assetId}),C.jsx("th",{children:e.model}),C.jsx("th",{children:e.type}),C.jsx("th",{children:e.owner}),C.jsx("th",{children:e.purchaseDate}),C.jsx("th",{children:e.price}),C.jsx("th",{children:e.condition}),C.jsx("th",{children:e.warranty}),C.jsx("th",{children:e.insurance}),C.jsx("th",{children:e.maintenanceRequired}),C.jsx("th",{children:e.lastMaintenance}),C.jsx("th",{children:e.nextMaintenance}),C.jsx("th",{children:e.notes}),C.jsx("th",{children:e.actions})]})}),C.jsxs("tbody",{children:[a.map((v,w)=>C.jsxs("tr",{className:"border-t",children:[C.jsx("td",{children:v.assetName}),C.jsx("td",{children:v.assetId}),C.jsx("td",{children:v.model}),C.jsx("td",{children:v.type}),C.jsx("td",{children:v.owner}),C.jsx("td",{children:v.purchaseDate}),C.jsx("td",{children:v.price}),C.jsx("td",{children:v.condition}),C.jsx("td",{children:v.warranty}),C.jsx("td",{children:v.insurance}),C.jsx("td",{children:v.maintenanceRequired?e.yes:e.no}),C.jsx("td",{children:v.lastMaintenance}),C.jsx("td",{children:v.nextMaintenance}),C.jsx("td",{children:v.notes}),C.jsx("td",{children:C.jsx("button",{onClick:()=>y(w),className:"text-red-600 underline",children:e.delete})})]},w)),a.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:15,className:"text-center py-4 text-gray-400",children:i==="en"?"No assets added yet.":"     "})})]})]})})]})}const m0={en:{title:"Financial Details",desc:"View and update financial records here."},pa:{title:" ",desc:"      "}};function g0(){const{lang:i}=Mn(),e=m0[i];return C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-semibold text-brand-700 mb-4",children:e.title}),C.jsx("p",{children:e.desc})]})}const y0=()=>{};var gm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},v0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|v>>6,F=v&63;y||(F=64,h||(A=64)),s.push(n[w],n[T],n[A],n[F])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):v0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const T=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||T==null)throw new _0;const A=c<<2|m>>4;if(s.push(A),v!==64){const F=m<<4&240|v>>2;if(s.push(F),T!==64){const $=v<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E0=function(i){const e=qg(i);return Hg.encodeByteArray(e,!0)},fu=function(i){return E0(i).replace(/\./g,"")},w0=function(i){try{return Hg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=()=>T0().__FIREBASE_DEFAULTS__,S0=()=>{if(typeof process>"u"||typeof gm>"u")return;const i=gm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},A0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&w0(i[1]);return e&&JSON.parse(e)},cd=()=>{try{return y0()||I0()||S0()||A0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},C0=i=>cd()?.emulatorHosts?.[i],x0=i=>{const e=C0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Wg=()=>cd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[fu(JSON.stringify(n)),fu(JSON.stringify(h)),""].join(".")}const fa={};function N0(){const i={prod:[],emulator:[]};for(const e of Object.keys(fa))fa[e]?i.emulator.push(e):i.prod.push(e);return i}function V0(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let ym=!1;function D0(i,e){if(typeof window>"u"||typeof document>"u"||!hd(window.location.host)||fa[i]===e||fa[i]||ym)return;fa[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=N0().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,F){A.setAttribute("width","24"),A.setAttribute("id",F),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{ym=!0,h()},A}function w(A,F){A.setAttribute("id",F),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=V0(s),F=n("text"),$=document.getElementById(F)||document.createElement("span"),q=n("learnmore"),U=document.getElementById(q)||document.createElement("a"),le=n("preprendIcon"),te=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;m(ne),w(U,q);const de=v();y(te,le),ne.append(te,$,U,de),document.body.appendChild(ne)}c?($.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L0(){const i=cd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M0(){return!L0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b0(){try{return typeof indexedDB=="object"}catch{return!1}}function j0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="FirebaseError";class ao extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=F0,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gg.prototype.create)}}class Gg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?U0(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new ao(a,m,s)}}function U0(i,e){return i.replace(B0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const B0=/\{\$([^}]+)}/g;function Ea(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if(vm(c)&&vm(h)){if(!Ea(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function vm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(i){return i&&i._delegate?i._delegate:i}class wa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new R0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q0(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $0(i){return i===$i?void 0:i}function q0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const W0={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},G0=Ve.INFO,Q0={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},K0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Q0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qg{constructor(e){this.name=e,this._logLevel=G0,this._logHandler=K0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Y0=(i,e)=>e.some(n=>i instanceof n);let _m,Em;function X0(){return _m||(_m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J0(){return Em||(Em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kg=new WeakMap,Uh=new WeakMap,Yg=new WeakMap,Ch=new WeakMap,dd=new WeakMap;function Z0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(ei(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Kg.set(n,i)}).catch(()=>{}),dd.set(e,i),e}function ew(i){if(Uh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Uh.set(i,e)}let Bh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Uh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Yg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function tw(i){Bh=i(Bh)}function nw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(xh(this),e,...n);return Yg.set(s,e.sort?e.sort():[e]),ei(s)}:J0().includes(i)?function(...e){return i.apply(xh(this),e),ei(Kg.get(this))}:function(...e){return ei(i.apply(xh(this),e))}}function rw(i){return typeof i=="function"?nw(i):(i instanceof IDBTransaction&&ew(i),Y0(i,X0())?new Proxy(i,Bh):i)}function ei(i){if(i instanceof IDBRequest)return Z0(i);if(Ch.has(i))return Ch.get(i);const e=rw(i);return e!==i&&(Ch.set(i,e),dd.set(e,i)),e}const xh=i=>dd.get(i);function iw(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=ei(h);return s&&h.addEventListener("upgradeneeded",y=>{s(ei(h.result),y.oldVersion,y.newVersion,ei(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const sw=["get","getKey","getAll","getAllKeys","count"],ow=["put","add","delete","clear"],Rh=new Map;function wm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rh.get(e))return Rh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ow.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||sw.includes(n)))return;const c=async function(h,...m){const y=this.transaction(h,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return Rh.set(e,c),c}tw(i=>({...i,get:(e,n,s)=>wm(e,n)||i.get(e,n,s),has:(e,n)=>!!wm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lw(i){return i.getComponent()?.type==="VERSION"}const zh="@firebase/app",Tm="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Qg("@firebase/app"),uw="@firebase/app-compat",cw="@firebase/analytics-compat",hw="@firebase/analytics",dw="@firebase/app-check-compat",fw="@firebase/app-check",pw="@firebase/auth",mw="@firebase/auth-compat",gw="@firebase/database",yw="@firebase/data-connect",vw="@firebase/database-compat",_w="@firebase/functions",Ew="@firebase/functions-compat",ww="@firebase/installations",Tw="@firebase/installations-compat",Iw="@firebase/messaging",Sw="@firebase/messaging-compat",Aw="@firebase/performance",Cw="@firebase/performance-compat",xw="@firebase/remote-config",Rw="@firebase/remote-config-compat",Pw="@firebase/storage",kw="@firebase/storage-compat",Nw="@firebase/firestore",Vw="@firebase/ai",Dw="@firebase/firestore-compat",Ow="firebase",Lw="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="[DEFAULT]",Mw={[zh]:"fire-core",[uw]:"fire-core-compat",[hw]:"fire-analytics",[cw]:"fire-analytics-compat",[fw]:"fire-app-check",[dw]:"fire-app-check-compat",[pw]:"fire-auth",[mw]:"fire-auth-compat",[gw]:"fire-rtdb",[yw]:"fire-data-connect",[vw]:"fire-rtdb-compat",[_w]:"fire-fn",[Ew]:"fire-fn-compat",[ww]:"fire-iid",[Tw]:"fire-iid-compat",[Iw]:"fire-fcm",[Sw]:"fire-fcm-compat",[Aw]:"fire-perf",[Cw]:"fire-perf-compat",[xw]:"fire-rc",[Rw]:"fire-rc-compat",[Pw]:"fire-gcs",[kw]:"fire-gcs-compat",[Nw]:"fire-fst",[Dw]:"fire-fst-compat",[Vw]:"fire-vertex","fire-js":"fire-js",[Ow]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,bw=new Map,qh=new Map;function Im(i,e){try{i.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function mu(i){const e=i.name;if(qh.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,i);for(const n of pu.values())Im(n,i);for(const n of bw.values())Im(n,i);return!0}function jw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Fw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new Gg("app","Firebase",Uw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=Lw;function Xg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:$h,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ti.create("bad-app-name",{appName:String(a)});if(n||(n=Wg()),!n)throw ti.create("no-options");const c=pu.get(a);if(c){if(Ea(n,c.options)&&Ea(s,c.config))return c;throw ti.create("duplicate-app",{appName:a})}const h=new H0(a);for(const y of qh.values())h.addComponent(y);const m=new Bw(n,s,h);return pu.set(a,m),m}function $w(i=$h){const e=pu.get(i);if(!e&&i===$h&&Wg())return Xg();if(!e)throw ti.create("no-app",{appName:i});return e}function Gs(i,e,n){let s=Mw[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(h.join(" "));return}mu(new wa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firebase-heartbeat-database",Hw=1,Ta="firebase-heartbeat-store";let Ph=null;function Jg(){return Ph||(Ph=iw(qw,Hw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(i=>{throw ti.create("idb-open",{originalErrorMessage:i.message})})),Ph}async function Ww(i){try{const n=(await Jg()).transaction(Ta),s=await n.objectStore(Ta).get(Zg(i));return await n.done,s}catch(e){if(e instanceof ao)wr.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e?.message});wr.warn(n.message)}}}async function Sm(i,e){try{const s=(await Jg()).transaction(Ta,"readwrite");await s.objectStore(Ta).put(e,Zg(i)),await s.done}catch(n){if(n instanceof ao)wr.warn(n.message);else{const s=ti.create("idb-set",{originalErrorMessage:n?.message});wr.warn(s.message)}}}function Zg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=1024,Qw=30;class Kw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Am();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Qw){const a=Jw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Am(),{heartbeatsToSend:n,unsentEntries:s}=Yw(this._heartbeatsCache.heartbeats),a=fu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return wr.warn(e),""}}}function Am(){return new Date().toISOString().substring(0,10)}function Yw(i,e=Gw){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),Cm(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Cm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Xw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b0()?j0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ww(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Cm(i){return fu(JSON.stringify({version:2,heartbeats:i})).length}function Jw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i){mu(new wa("platform-logger",e=>new aw(e),"PRIVATE")),mu(new wa("heartbeat",e=>new Kw(e),"PRIVATE")),Gs(zh,Tm,i),Gs(zh,Tm,"esm2020"),Gs("fire-js","")}Zw("");var e1="firebase",t1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(e1,t1,"app");var xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,ey;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(k,D,L){for(var x=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)x[nt-2]=arguments[nt];return S.prototype[D].apply(k,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,S,R){R||(R=0);var k=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)k[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;16>D;++D)k[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],D=V.g[2];var L=V.g[3],x=S+(L^R&(D^L))+k[0]+3614090360&4294967295;S=R+(x<<7&4294967295|x>>>25),x=L+(D^S&(R^D))+k[1]+3905402710&4294967295,L=S+(x<<12&4294967295|x>>>20),x=D+(R^L&(S^R))+k[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=R+(S^D&(L^S))+k[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(L^R&(D^L))+k[4]+4118548399&4294967295,S=R+(x<<7&4294967295|x>>>25),x=L+(D^S&(R^D))+k[5]+1200080426&4294967295,L=S+(x<<12&4294967295|x>>>20),x=D+(R^L&(S^R))+k[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=R+(S^D&(L^S))+k[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(L^R&(D^L))+k[8]+1770035416&4294967295,S=R+(x<<7&4294967295|x>>>25),x=L+(D^S&(R^D))+k[9]+2336552879&4294967295,L=S+(x<<12&4294967295|x>>>20),x=D+(R^L&(S^R))+k[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=R+(S^D&(L^S))+k[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(L^R&(D^L))+k[12]+1804603682&4294967295,S=R+(x<<7&4294967295|x>>>25),x=L+(D^S&(R^D))+k[13]+4254626195&4294967295,L=S+(x<<12&4294967295|x>>>20),x=D+(R^L&(S^R))+k[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=R+(S^D&(L^S))+k[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(D^L&(R^D))+k[1]+4129170786&4294967295,S=R+(x<<5&4294967295|x>>>27),x=L+(R^D&(S^R))+k[6]+3225465664&4294967295,L=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(L^S))+k[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=R+(L^S&(D^L))+k[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(D^L&(R^D))+k[5]+3593408605&4294967295,S=R+(x<<5&4294967295|x>>>27),x=L+(R^D&(S^R))+k[10]+38016083&4294967295,L=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(L^S))+k[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=R+(L^S&(D^L))+k[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(D^L&(R^D))+k[9]+568446438&4294967295,S=R+(x<<5&4294967295|x>>>27),x=L+(R^D&(S^R))+k[14]+3275163606&4294967295,L=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(L^S))+k[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=R+(L^S&(D^L))+k[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(D^L&(R^D))+k[13]+2850285829&4294967295,S=R+(x<<5&4294967295|x>>>27),x=L+(R^D&(S^R))+k[2]+4243563512&4294967295,L=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(L^S))+k[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=R+(L^S&(D^L))+k[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(R^D^L)+k[5]+4294588738&4294967295,S=R+(x<<4&4294967295|x>>>28),x=L+(S^R^D)+k[8]+2272392833&4294967295,L=S+(x<<11&4294967295|x>>>21),x=D+(L^S^R)+k[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=R+(D^L^S)+k[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(R^D^L)+k[1]+2763975236&4294967295,S=R+(x<<4&4294967295|x>>>28),x=L+(S^R^D)+k[4]+1272893353&4294967295,L=S+(x<<11&4294967295|x>>>21),x=D+(L^S^R)+k[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=R+(D^L^S)+k[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(R^D^L)+k[13]+681279174&4294967295,S=R+(x<<4&4294967295|x>>>28),x=L+(S^R^D)+k[0]+3936430074&4294967295,L=S+(x<<11&4294967295|x>>>21),x=D+(L^S^R)+k[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=R+(D^L^S)+k[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(R^D^L)+k[9]+3654602809&4294967295,S=R+(x<<4&4294967295|x>>>28),x=L+(S^R^D)+k[12]+3873151461&4294967295,L=S+(x<<11&4294967295|x>>>21),x=D+(L^S^R)+k[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=R+(D^L^S)+k[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(D^(R|~L))+k[0]+4096336452&4294967295,S=R+(x<<6&4294967295|x>>>26),x=L+(R^(S|~D))+k[7]+1126891415&4294967295,L=S+(x<<10&4294967295|x>>>22),x=D+(S^(L|~R))+k[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=R+(L^(D|~S))+k[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=S+(D^(R|~L))+k[12]+1700485571&4294967295,S=R+(x<<6&4294967295|x>>>26),x=L+(R^(S|~D))+k[3]+2399980690&4294967295,L=S+(x<<10&4294967295|x>>>22),x=D+(S^(L|~R))+k[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=R+(L^(D|~S))+k[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=S+(D^(R|~L))+k[8]+1873313359&4294967295,S=R+(x<<6&4294967295|x>>>26),x=L+(R^(S|~D))+k[15]+4264355552&4294967295,L=S+(x<<10&4294967295|x>>>22),x=D+(S^(L|~R))+k[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=R+(L^(D|~S))+k[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=S+(D^(R|~L))+k[4]+4149444226&4294967295,S=R+(x<<6&4294967295|x>>>26),x=L+(R^(S|~D))+k[11]+3174756917&4294967295,L=S+(x<<10&4294967295|x>>>22),x=D+(S^(L|~R))+k[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=R+(L^(D|~S))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,k=this.B,D=this.h,L=0;L<S;){if(D==0)for(;L<=R;)a(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<S;)if(k[D++]=V.charCodeAt(L++),D==this.blockSize){a(this,k),D=0;break}}else for(;L<S;)if(k[D++]=V[L++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var k=0;32>k;k+=8)V[R++]=this.g[S]>>>k&255;return V};function c(V,S){var R=m;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function h(V,S){this.h=S;for(var R=[],k=!0,D=V.length-1;0<=D;D--){var L=V[D]|0;k&&L==S||(R[D]=L,k=!1)}this.g=R}var m={};function y(V){return-128<=V&&128>V?c(V,function(S){return new h([S|0],0>S?-1:0)}):new h([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return U(v(-V));for(var S=[],R=1,k=0;V>=R;k++)S[k]=V/R|0,R*=4294967296;return new h(S,0)}function w(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return U(w(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),k=T,D=0;D<V.length;D+=8){var L=Math.min(8,V.length-D),x=parseInt(V.substring(D,D+L),S);8>L?(L=v(Math.pow(S,L)),k=k.j(L).add(v(x))):(k=k.j(R),k=k.add(v(x)))}return k}var T=y(0),A=y(1),F=y(16777216);i=h.prototype,i.m=function(){if(q(this))return-U(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var k=this.i(R);V+=(0<=k?k:4294967296+k)*S,S*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if($(this))return"0";if(q(this))return"-"+U(this).toString(V);for(var S=v(Math.pow(V,6)),R=this,k="";;){var D=de(R,S).g;R=le(R,D.j(S));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=D,$(R))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function $(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function q(V){return V.h==-1}i.l=function(V){return V=le(this,V),q(V)?-1:$(V)?0:1};function U(V){for(var S=V.g.length,R=[],k=0;k<S;k++)R[k]=~V.g[k];return new h(R,~V.h).add(A)}i.abs=function(){return q(this)?U(this):this},i.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],k=0,D=0;D<=S;D++){var L=k+(this.i(D)&65535)+(V.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);k=x>>>16,L&=65535,x&=65535,R[D]=x<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function le(V,S){return V.add(U(S))}i.j=function(V){if($(this)||$(V))return T;if(q(this))return q(V)?U(this).j(U(V)):U(U(this).j(V));if(q(V))return U(this.j(U(V)));if(0>this.l(F)&&0>V.l(F))return v(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],k=0;k<2*S;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<V.g.length;D++){var L=this.i(k)>>>16,x=this.i(k)&65535,nt=V.i(D)>>>16,Nt=V.i(D)&65535;R[2*k+2*D]+=x*Nt,te(R,2*k+2*D),R[2*k+2*D+1]+=L*Nt,te(R,2*k+2*D+1),R[2*k+2*D+1]+=x*nt,te(R,2*k+2*D+1),R[2*k+2*D+2]+=L*nt,te(R,2*k+2*D+2)}for(k=0;k<S;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=S;k<2*S;k++)R[k]=0;return new h(R,0)};function te(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ne(V,S){this.g=V,this.h=S}function de(V,S){if($(S))throw Error("division by zero");if($(V))return new ne(T,T);if(q(V))return S=de(U(V),S),new ne(U(S.g),U(S.h));if(q(S))return S=de(V,U(S)),new ne(U(S.g),S.h);if(30<V.g.length){if(q(V)||q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,k=S;0>=k.l(V);)R=Le(R),k=Le(k);var D=Ae(R,1),L=Ae(k,1);for(k=Ae(k,2),R=Ae(R,2);!$(k);){var x=L.add(k);0>=x.l(V)&&(D=D.add(R),L=x),k=Ae(k,1),R=Ae(R,1)}return S=le(V,D.j(S)),new ne(D,S)}for(D=T;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=v(R),x=L.j(S);q(x)||0<x.l(V);)R-=k,L=v(R),x=L.j(S);$(L)&&(L=A),D=D.add(L),V=le(V,x)}return new ne(D,V)}i.A=function(V){return de(this,V).h},i.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)&V.i(k);return new h(R,this.h&V.h)},i.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)|V.i(k);return new h(R,this.h|V.h)},i.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],k=0;k<S;k++)R[k]=this.i(k)^V.i(k);return new h(R,this.h^V.h)};function Le(V){for(var S=V.g.length+1,R=[],k=0;k<S;k++)R[k]=V.i(k)<<1|V.i(k-1)>>>31;return new h(R,V.h)}function Ae(V,S){var R=S>>5;S%=32;for(var k=V.g.length-R,D=[],L=0;L<k;L++)D[L]=0<S?V.i(L+R)>>>S|V.i(L+R+1)<<32-S:V.i(L+R);return new h(D,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ey=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,ni=h}).apply(typeof xm<"u"?xm:typeof self<"u"?self:typeof window<"u"?window:{});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ty,ca,ny,su,Hh,ry,iy,sy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jl=="object"&&Jl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],f=f(E),f!=E&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var g=0,E=!1,M={next:function(){if(!E&&g<l.length){var z=g++;return{value:f(z,l[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function w(l,f,g){return l.call.apply(l.bind,arguments)}function T(l,f,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function A(l,f,g){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,A.apply(null,arguments)}function F(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function $(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,M,z){for(var Z=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Z[Fe-2]=arguments[Fe];return f.prototype[M].apply(E,Z)}}function q(l){const f=l.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=l[E];return g}return[]}function U(l,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const M=l.length||0,z=E.length||0;l.length=M+z;for(let Z=0;Z<z;Z++)l[M+Z]=E[Z]}else l.push(E)}}class le{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function te(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var Le=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ae(l,f,g){for(const E in l)f.call(g,l[E],E,l)}function V(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function S(l){const f={};for(const g in l)f[g]=l[g];return f}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,f){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let z=0;z<R.length;z++)g=R[z],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function D(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function x(){var l=me;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class nt{constructor(){this.h=this.g=null}add(f,g){const E=Nt.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Nt=new le(()=>new Vt,l=>l.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ee=!1,me=new nt,se=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(O)}};var O=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(g){L(g)}var f=Nt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l})();function Ie(l,f){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Le){e:{try{de(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}$(Ie,fe);var Pe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),be=0;function ze(l,f,g,E,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=M,this.key=++be,this.da=this.fa=!1}function vt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function nr(l){this.src=l,this.g={},this.h=0}nr.prototype.add=function(l,f,g,E,M){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var Z=Sr(l,f,E,M);return-1<Z?(f=l[Z],g||(f.fa=!1)):(f=new ze(f,this.src,z,!!E,M),f.fa=g,l.push(f)),f};function Xi(l,f){var g=f.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,f,void 0),z;(z=0<=M)&&Array.prototype.splice.call(E,M,1),z&&(vt(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Sr(l,f,g,E){for(var M=0;M<l.length;++M){var z=l[M];if(!z.da&&z.listener==f&&z.capture==!!g&&z.ha==E)return M}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),Ji={};function mo(l,f,g,E,M){if(Array.isArray(f)){for(var z=0;z<f.length;z++)mo(l,f[z],g,E,M);return null}return g=vo(g),l&&l[Me]?l.K(f,g,v(E)?!!E.capture:!1,M):go(l,f,g,!1,E,M)}function go(l,f,g,E,M,z){if(!f)throw Error("Invalid event type");var Z=v(M)?!!M.capture:!!M,Fe=es(l);if(Fe||(l[mi]=Fe=new nr(l)),g=Fe.add(f,g,E,Z,z),g.proxy)return g;if(E=Ma(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)Te||(M=Z),M===void 0&&(M=!1),l.addEventListener(f.toString(),E,M);else if(l.attachEvent)l.attachEvent(ir(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ma(){function l(g){return f.call(l.src,l.listener,g)}const f=yo;return l}function Zi(l,f,g,E,M){if(Array.isArray(f))for(var z=0;z<f.length;z++)Zi(l,f[z],g,E,M);else E=v(E)?!!E.capture:!!E,g=vo(g),l&&l[Me]?(l=l.i,f=String(f).toString(),f in l.g&&(z=l.g[f],g=Sr(z,g,E,M),-1<g&&(vt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[f],l.h--)))):l&&(l=es(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Sr(f,g,E,M)),(g=-1<l?f[l]:null)&&rr(g))}function rr(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Me])Xi(f.i,l);else{var g=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(g,E,l.capture):f.detachEvent?f.detachEvent(ir(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=es(f))?(Xi(g,l),g.h==0&&(g.src=null,f[mi]=null)):vt(l)}}}function ir(l){return l in Ji?Ji[l]:Ji[l]="on"+l}function yo(l,f){if(l.da)l=!0;else{f=new Ie(f,this);var g=l.listener,E=l.ha||l.src;l.fa&&rr(l),l=g.call(E,f)}return l}function es(l){return l=l[mi],l instanceof nr?l:null}var ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(l){return typeof l=="function"?l:(l[ts]||(l[ts]=function(f){return l.handleEvent(f)}),l[ts])}function ht(){G.call(this),this.i=new nr(this),this.M=this,this.F=null}$(ht,G),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(l,f,g,E){Zi(this,l,f,g,E)};function dt(l,f){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new fe(f,l);else if(f instanceof fe)f.target=f.target||l;else{var M=f;f=new fe(E,l),k(f,M)}if(M=!0,g)for(var z=g.length-1;0<=z;z--){var Z=f.g=g[z];M=sr(Z,E,!0,f)&&M}if(Z=f.g=l,M=sr(Z,E,!0,f)&&M,M=sr(Z,E,!1,f)&&M,g)for(z=0;z<g.length;z++)Z=f.g=g[z],M=sr(Z,E,!1,f)&&M}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],E=0;E<g.length;E++)vt(g[E]);delete l.g[f],l.h--}}this.F=null},ht.prototype.K=function(l,f,g,E){return this.i.add(String(l),f,!1,g,E)},ht.prototype.L=function(l,f,g,E){return this.i.add(String(l),f,!0,g,E)};function sr(l,f,g,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,z=0;z<f.length;++z){var Z=f[z];if(Z&&!Z.da&&Z.capture==g){var Fe=Z.listener,ft=Z.ha||Z.src;Z.fa&&Xi(l.i,Z),M=Fe.call(ft,E)!==!1&&M}}return M&&!E.defaultPrevented}function _o(l,f,g){if(typeof l=="function")g&&(l=A(l,g));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Ar(l){l.g=_o(()=>{l.g=null,l.i&&(l.i=!1,Ar(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class gi extends G{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ar(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(l){G.call(this),this.h=l,this.g={}}$(yi,G);var Eo=[];function wo(l){Ae(l.g,function(f,g){this.g.hasOwnProperty(g)&&rr(f)},l),l.g={}}yi.prototype.N=function(){yi.aa.N.call(this),wo(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var To=m.JSON.stringify,Io=m.JSON.parse,So=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function vi(){}vi.prototype.h=null;function ns(l){return l.h||(l.h=l.i())}function rs(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){fe.call(this,"d")}$(bn,fe);function is(){fe.call(this,"c")}$(is,fe);var jn={},Ao=null;function _i(){return Ao=Ao||new ht}jn.La="serverreachability";function Co(l){fe.call(this,jn.La,l)}$(Co,fe);function or(l){const f=_i();dt(f,new Co(f))}jn.STAT_EVENT="statevent";function xo(l,f){fe.call(this,jn.STAT_EVENT,l),this.stat=f}$(xo,fe);function rt(l){const f=_i();dt(f,new xo(f,l))}jn.Ma="timingevent";function ss(l,f){fe.call(this,jn.Ma,l),this.size=f}$(ss,fe);function En(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function wi(l,f,g,E,M,z){l.info(function(){if(l.g)if(z)for(var Z="",Fe=z.split("&"),ft=0;ft<Fe.length;ft++){var ke=Fe[ft].split("=");if(1<ke.length){var _t=ke[0];ke=ke[1];var ot=_t.split("_");Z=2<=ot.length&&ot[1]=="type"?Z+(_t+"="+ke+"&"):Z+(_t+"=redacted&")}}else Z=null;else Z=z;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+g+`
`+Z})}function os(l,f,g,E,M,z,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+g+`
`+z+" "+Z})}function wn(l,f,g,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Qu(l,g)+(E?" "+E:"")})}function Ro(l,f){l.info(function(){return"TIMEOUT: "+f})}Ei.prototype.info=function(){};function Qu(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var z=M[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Z=1;Z<M.length;Z++)M[Z]=""}}}}return To(g)}catch{return f}}var as={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tn;function Ti(){}$(Ti,vi),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Tn=new Ti;function In(l,f,g,E){this.j=l,this.i=f,this.l=g,this.R=E||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ja}function ja(){this.i=null,this.g="",this.h=!1}var Po={},ls={};function us(l,f,g){l.L=1,l.v=kr(tn(f)),l.m=g,l.P=!0,ko(l,null)}function ko(l,f){l.F=Date.now(),$e(l),l.A=tn(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Vr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new ja,l.g=nl(l.j,g?f:null,!l.m),0<l.O&&(l.M=new gi(A(l.Y,l,l.g),l.O)),f=l.U,g=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Eo[0]=M.toString()),M=Eo);for(var z=0;z<M.length;z++){var Z=mo(g,M[z],E||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),or(),wi(l.i,l.u,l.A,l.l,l.R,l.m)}In.prototype.ca=function(l){l=l.target;const f=this.M;f&&Ht(l)==3?f.j():this.Y(l)},In.prototype.Y=function(l){try{if(l==this.g)e:{const ot=Ht(this.g);var f=this.g.Ba();const dn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||ot!=4||f==7||(f==8||0>=dn?or(3):or(2)),Ii(this);var g=this.g.Z();this.X=g;t:if(Fa(this)){var E=Mo(this.g);l="";var M=E.length,z=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Cr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(z&&f==M-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,os(this.i,this.u,this.A,this.l,this.R,ot,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ft=this.g;if((Fe=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Fe)){var ke=Fe;break t}}ke=null}if(g=ke)wn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,g);else{this.o=!1,this.s=3,rt(12),cn(this),Cr(this);break e}}if(this.P){g=!0;let rn;for(;!this.J&&this.C<Z.length;)if(rn=Ku(this,Z),rn==ls){ot==4&&(this.s=4,rt(14),g=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Po){this.s=4,rt(15),wn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else wn(this.i,this.l,rn,null),No(this,rn);if(Fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||Z.length!=0||this.h.h||(this.s=1,rt(16),g=!1),this.o=this.o&&g,!g)wn(this.i,this.l,Z,"[Invalid Chunked Response]"),cn(this),Cr(this);else if(0<Z.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),jo(_t),_t.M=!0,rt(11))}}else wn(this.i,this.l,Z,null),No(this,Z);ot==4&&cn(this),this.o&&!this.J&&(ot==4?Es(this.j,this):(this.o=!1,$e(this)))}else ms(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),cn(this),Cr(this)}}}catch{}finally{}};function Fa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ku(l,f){var g=l.C,E=f.indexOf(`
`,g);return E==-1?ls:(g=Number(f.substring(g,E)),isNaN(g)?Po:(E+=1,E+g>f.length?ls:(f=f.slice(E,E+g),l.C=E+g,f)))}In.prototype.cancel=function(){this.J=!0,cn(this)};function $e(l){l.S=Date.now()+l.I,Ua(l,l.I)}function Ua(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=En(A(l.ba,l),f)}function Ii(l){l.B&&(m.clearTimeout(l.B),l.B=null)}In.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ro(this.i,this.A),this.L!=2&&(or(),rt(17)),cn(this),this.s=2,Cr(this)):Ua(this,this.S-l)};function Cr(l){l.j.G==0||l.J||Es(l.j,l)}function cn(l){Ii(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,wo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function No(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Ut(g.h,l))){if(!l.K&&Ut(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)_s(g),Rn(g);else break e;vs(g),rt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=En(A(g.Za,g),6e3));if(1>=za(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hr(g,11)}else if((l.K||g.g==l)&&_s(g),!te(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let ke=M[f];if(g.T=ke[0],ke=ke[1],g.G==2)if(ke[0]=="c"){g.K=ke[1],g.ia=ke[2];const _t=ke[3];_t!=null&&(g.la=_t,g.j.info("VER="+g.la));const ot=ke[4];ot!=null&&(g.Aa=ot,g.j.info("SVER="+g.Aa));const dn=ke[5];dn!=null&&typeof dn=="number"&&0<dn&&(E=1.5*dn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const rn=l.g;if(rn){const ki=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var z=E.h;z.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Vo(z,z.h),z.h=null))}if(E.D){const Ts=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ts&&(E.ya=Ts,Be(E.I,E.D,Ts))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Z=l;if(E.qa=tl(E,E.J?E.ia:null,E.W),Z.K){$a(E.h,Z);var Fe=Z,ft=E.L;ft&&(Fe.I=ft),Fe.B&&(Ii(Fe),$e(Fe)),E.g=Z}else Pi(E);0<g.i.length&&zn(g)}else ke[0]!="stop"&&ke[0]!="close"||hr(g,7);else g.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?hr(g,7):At(g):ke[0]!="noop"&&g.l&&g.l.ta(ke),g.v=0)}}or(4)}catch{}}var Ba=class{constructor(l,f){this.g=l,this.map=f}};function Si(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function za(l){return l.h?1:l.g?l.g.size:0}function Ut(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Vo(l,f){l.g?l.g.add(f):l.h=f}function $a(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Si.prototype.cancel=function(){if(this.i=qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return q(l.i)}function cs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,E=0;E<g;E++)f.push(l[E]);return f}f=[],g=0;for(E in l)f[g++]=l[E];return f}function hs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const E in l)f[g++]=E;return f}}}function xr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=hs(l),E=cs(l),M=E.length,z=0;z<M;z++)f.call(void 0,E[z],g&&g[z],l)}var Ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),M=null;if(0<=E){var z=l[g].substring(0,E);M=l[g].substring(E+1)}else z=l[g];f(z,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ar(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ar){this.h=l.h,Ci(this,l.j),this.o=l.o,this.g=l.g,Rr(this,l.s),this.l=l.l;var f=l.i,g=new Fn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Pr(this,g),this.m=l.m}else l&&(f=String(l).match(Ai))?(this.h=!1,Ci(this,f[1]||"",!0),this.o=Re(f[2]||""),this.g=Re(f[3]||"",!0),Rr(this,f[4]),this.l=Re(f[5]||"",!0),Pr(this,f[6]||"",!0),this.m=Re(f[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}ar.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Nr(f,ds,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Nr(f,ds,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Nr(g,g.charAt(0)=="/"?Ga:Wa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Nr(g,Do)),l.join("")};function tn(l){return new ar(l)}function Ci(l,f,g){l.j=g?Re(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Rr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Pr(l,f,g){f instanceof Fn?(l.i=f,Un(l.i,l.h)):(g||(f=Nr(f,Qa)),l.i=new Fn(f,l.h))}function Be(l,f,g){l.i.set(f,g)}function kr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Re(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Nr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Ha),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ha(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ds=/[#\/\?@]/g,Wa=/[#\?:]/g,Ga=/[#\?]/g,Qa=/[#\?@]/g,Do=/#/g;function Fn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function St(l){l.g||(l.g=new Map,l.h=0,l.i&&Yu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=Fn.prototype,i.add=function(l,f){St(this),this.i=null,l=hn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Sn(l,f){St(l),f=hn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function An(l,f){return St(l),f=hn(l,f),l.g.has(f)}i.forEach=function(l,f){St(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(f,M,E,this)},this)},this)},i.na=function(){St(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const M=l[E];for(let z=0;z<M.length;z++)g.push(f[E])}return g},i.V=function(l){St(this);let f=[];if(typeof l=="string")An(this,l)&&(f=f.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return St(this),this.i=null,l=hn(this,l),An(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Vr(l,f,g){Sn(l,f),0<g.length&&(l.i=null,l.g.set(hn(l,f),q(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const z=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var M=z;Z[E]!==""&&(M+="="+encodeURIComponent(String(Z[E]))),l.push(M)}}return this.i=l.join("&")};function hn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Un(l,f){f&&!l.j&&(St(l),l.i=null,l.g.forEach(function(g,E){var M=E.toLowerCase();E!=M&&(Sn(this,E),Vr(this,M,g))},l)),l.j=f}function Xu(l,f){const g=new Ei;if(m.Image){const E=new Image;E.onload=F(qt,g,"TestLoadImage: loaded",!0,f,E),E.onerror=F(qt,g,"TestLoadImage: error",!1,f,E),E.onabort=F(qt,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=F(qt,g,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Ka(l,f){const g=new Ei,E=new AbortController,M=setTimeout(()=>{E.abort(),qt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(M),z.ok?qt(g,"TestPingServer: ok",!0,f):qt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),qt(g,"TestPingServer: error",!1,f)})}function qt(l,f,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function Ju(){this.g=new So}function Ya(l,f,g){const E=g||"";try{xr(l,function(M,z){let Z=M;v(M)&&(Z=To(M)),f.push(E+z+"="+encodeURIComponent(Z))})}catch(M){throw f.push(E+"type="+encodeURIComponent("_badmap")),M}}function lr(l){this.l=l.Ub||null,this.j=l.eb||!1}$(lr,vi),lr.prototype.g=function(){return new xi(this.l,this.j)},lr.prototype.i=(function(l){return function(){return l}})({});function xi(l,f){ht.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(xi,ht),i=xi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,xn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Cn(this):xn(this),this.readyState==3&&Xa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Cn(this))},i.Qa=function(l){this.g&&(this.response=l,Cn(this))},i.ga=function(){this.g&&Cn(this)};function Cn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function xn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ur(l){let f="";return Ae(l,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function Dr(l,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=ur(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Be(l,f,g))}function Ke(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ke,ht);var Zu=/^https?$/i,Oo=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?ns(this.o):ns(Tn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(z){Ri(this,z);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())g.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Oo,f,void 0))||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of g)this.g.setRequestHeader(z,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Ri(this,z)}};function Ri(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,fs(l),nn(l)}function fs(l){l.A||(l.A=!0,dt(l,"complete"),dt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,dt(this,"complete"),dt(this,"abort"),nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},i.bb=function(){Lo(this)};function Lo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)_o(l.Ea,0,l);else if(dt(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=Z===0){var M=String(l.D).match(Ai)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Zu.test(M?M.toLowerCase():"")}g=E}if(g)dt(l,"complete"),dt(l,"success");else{l.m=6;try{var z=2<Ht(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",fs(l)}}finally{nn(l)}}}}function nn(l,f){if(l.g){ps(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||dt(l,"ready");try{g.onreadystatechange=E}catch{}}}function ps(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Io(f)}};function Mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ms(l){const f={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(te(l[E]))continue;var g=D(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=f[M]||[];f[M]=z,z.push(g)}V(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function bo(l){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bn("baseRetryDelayMs",5e3,l),this.cb=Bn("retryDelaySeedMs",1e4,l),this.Wa=Bn("forwardChannelMaxRetries",2,l),this.wa=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(l&&l.concurrentRequestLimit),this.Da=new Ju,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=bo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,E){rt(0),this.W=l,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=tl(this,null,this.W),zn(this)};function At(l){if(gs(l),l.G==3){var f=l.U++,g=tn(l.I);if(Be(g,"SID",l.K),Be(g,"RID",f),Be(g,"TYPE","terminate"),cr(l,g),f=new In(l,l.j,f),f.L=2,f.v=kr(tn(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=nl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$e(f)}el(l)}function Rn(l){l.g&&(jo(l),l.g.cancel(),l.g=null)}function gs(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),_s(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function zn(l){if(!en(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ue||se(),ee||(Ue(),ee=!0),me.add(f,l),l.B=0}}function ec(l,f){return za(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=En(A(l.Ga,l,f),Za(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new In(this,this.j,l);let z=this.o;if(this.S&&(z?(z=S(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(M.H=z,z=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Or(this,M,f),g=tn(this.I),Be(g,"RID",l),Be(g,"CVER",22),this.D&&Be(g,"X-HTTP-Session-Id",this.D),cr(this,g),z&&(this.O?f="headers="+encodeURIComponent(String(ur(z)))+"&"+f:this.m&&Dr(g,this.m,z)),Vo(this.h,M),this.Ua&&Be(g,"TYPE","init"),this.P?(Be(g,"$req",f),Be(g,"SID","null"),M.T=!0,us(M,g,null)):us(M,g,f),this.G=2}}else this.G==3&&(l?ys(this,l):this.i.length==0||en(this.h)||ys(this))};function ys(l,f){var g;f?g=f.l:g=l.U++;const E=tn(l.I);Be(E,"SID",l.K),Be(E,"RID",g),Be(E,"AID",l.T),cr(l,E),l.m&&l.o&&Dr(E,l.m,l.o),g=new In(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Or(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Vo(l.h,g),us(g,E,f)}function cr(l,f){l.H&&Ae(l.H,function(g,E){Be(f,E,g)}),l.l&&xr({},function(g,E){Be(f,E,g)})}function Or(l,f,g){g=Math.min(l.i.length,g);var E=l.l?A(l.l.Na,l.l,l):null;e:{var M=l.i;let z=-1;for(;;){const Z=["count="+g];z==-1?0<g?(z=M[0].g,Z.push("ofs="+z)):z=0:Z.push("ofs="+z);let Fe=!0;for(let ft=0;ft<g;ft++){let ke=M[ft].g;const _t=M[ft].map;if(ke-=z,0>ke)z=Math.max(0,M[ft].g-100),Fe=!1;else try{Ya(_t,Z,"req"+ke+"_")}catch{E&&E(_t)}}if(Fe){E=Z.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,E}function Pi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ue||se(),ee||(Ue(),ee=!0),me.add(f,l),l.v=0}}function vs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=En(A(l.Fa,l),Za(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ja(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=En(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Rn(this),Ja(this))};function jo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ja(l){l.g=new In(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=tn(l.qa);Be(f,"RID","rpc"),Be(f,"SID",l.K),Be(f,"AID",l.T),Be(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(f,"TO",l.ja),Be(f,"TYPE","xmlhttp"),cr(l,f),l.m&&l.o&&Dr(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=kr(tn(f)),g.m=null,g.P=!0,ko(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),vs(this),rt(19))};function _s(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Es(l,f){var g=null;if(l.g==f){_s(l),jo(l),l.g=null;var E=2}else if(Ut(l.h,f))g=f.D,$a(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;E=_i(),dt(E,new ss(E,g)),zn(l)}else Pi(l);else if(M=f.s,M==3||M==0&&0<f.X||!(E==1&&ec(l,f)||E==2&&vs(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),M){case 1:hr(l,5);break;case 4:hr(l,10);break;case 3:hr(l,6);break;default:hr(l,2)}}}function Za(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function hr(l,f){if(l.j.info("Error code "+f),f==2){var g=A(l.fb,l),E=l.Xa;const M=!E;E=new ar(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ci(E,"https"),kr(E),M?Xu(E.toString(),g):Ka(E.toString(),g)}else rt(2);l.G=0,l.l&&l.l.sa(f),el(l),gs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function el(l){if(l.G=0,l.ka=[],l.l){const f=qa(l.h);(f.length!=0||l.i.length!=0)&&(U(l.ka,f),U(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function tl(l,f,g){var E=g instanceof ar?tn(g):new ar(g);if(E.g!="")f&&(E.g=f+"."+E.g),Rr(E,E.s);else{var M=m.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var z=new ar(null);E&&Ci(z,E),f&&(z.g=f),M&&Rr(z,M),g&&(z.l=g),E=z}return g=l.D,f=l.ya,g&&f&&Be(E,g,f),Be(E,"VER",l.la),cr(l,E),E}function nl(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ke(new lr({eb:g})):new Ke(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}i=Fo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ws(){}ws.prototype.g=function(l,f){return new Bt(l,f)};function Bt(l,f){ht.call(this),this.g=new bo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!te(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!te(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new $n(this)}$(Bt,ht),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){At(this.g)},Bt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=To(l),l=g);f.i.push(new Ba(f.Ya++,l)),f.G==3&&zn(f)},Bt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,Bt.aa.N.call(this)};function rl(l){bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}$(rl,bn);function il(){is.call(this),this.status=1}$(il,is);function $n(l){this.g=l}$($n,Fo),$n.prototype.ua=function(){dt(this.g,"a")},$n.prototype.ta=function(l){dt(this.g,new rl(l))},$n.prototype.sa=function(l){dt(this.g,new il)},$n.prototype.ra=function(){dt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,sy=function(){return new ws},iy=function(){return _i()},ry=jn,Hh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,su=as,ba.COMPLETE="complete",ny=ba,rs.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ca=rs,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,ty=Ke}).apply(typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{});const Rm="@firebase/firestore",Pm="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Qg("@firebase/firestore");function $s(){return Wi.logLevel}function oe(i,...e){if(Wi.logLevel<=Ve.DEBUG){const n=e.map(fd);Wi.debug(`Firestore (${lo}): ${i}`,...n)}}function Tr(i,...e){if(Wi.logLevel<=Ve.ERROR){const n=e.map(fd);Wi.error(`Firestore (${lo}): ${i}`,...n)}}function Js(i,...e){if(Wi.logLevel<=Ve.WARN){const n=e.map(fd);Wi.warn(`Firestore (${lo}): ${i}`,...n)}}function fd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oy(i,s,n)}function oy(i,e,n){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function je(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||oy(e,a,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jt.UNAUTHENTICATED)))}shutdown(){}}class r1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class i1{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ri,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ri)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new ay(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class s1{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o1{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new s1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class km{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const s=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const a=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new km(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new km(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=l1(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Wh(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return kh(a)===kh(c)?Ce(a,c):kh(a)?1:-1}return Ce(i.length,e.length)}const u1=55296,c1=57343;function kh(i){const e=i.charCodeAt(0);return e>=u1&&e<=c1}function Zs(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="__name__";class Kn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Kn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Ce(e.length,n.length)}static compareSegments(e,n){const s=Kn.isNumericId(e),a=Kn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):Wh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}}class He extends Kn{construct(e,n,s){return new He(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new He(n)}static emptyPath(){return new He([])}}const h1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Kn{construct(e,n,s){return new Pt(e,n,s)}static isValidIdentifier(e){return h1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nm}static keyField(){return new Pt([Nm])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(He.fromString(e))}static fromName(e){return new pe(He.fromString(e).popFirst(5))}static empty(){return new pe(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(i,e,n){if(!n)throw new re(H.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function d1(i,e,n,s){if(e===!0&&s===!0)throw new re(H.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Vm(i){if(!pe.isDocumentKey(i))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Dm(i){if(pe.isDocumentKey(i))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uy(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ku(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function eo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ku(i);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function Na(i,e){if(!uy(i))throw new re(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new re(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-62135596800,Lm=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Lm);return new Qe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Om)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lm}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Na(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Om;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:ct("string",Qe._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Qe(0,0))}static max(){return new Ee(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=-1;function f1(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new Qe(n+1,0):new Qe(n,s));return new si(a,pe.empty(),e)}function p1(i){return new si(i.readTime,i.key,Ia)}class si{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new si(Ee.min(),pe.empty(),Ia)}static max(){return new si(Ee.max(),pe.empty(),Ia)}}function m1(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i){if(i.code!==H.FAILED_PRECONDITION||i.message!==g1)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let a=0,c=0,h=!1;e.forEach((m=>{++a,m.next((()=>{++c,h&&c===a&&n()}),(y=>s(y)))})),h=!0,c===a&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((a=>a?W.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,c)=>{s.push(n.call(this,a,c))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next((w=>{h[v]=w,++m,m===c&&s(h)}),(w=>a(w)))}}))}static doWhile(e,n){return new W(((s,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):s()};c()}))}}function v1(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=-1;function Vu(i){return i==null}function gu(i){return i===0&&1/i==-1/0}function _1(i){return typeof i=="number"&&Number.isInteger(i)&&!gu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="";function E1(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mm(e)),e=w1(i.get(n),e);return Mm(e)}function w1(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case cy:n+="";break;default:n+=c}}return n}function Mm(i){return i+cy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function hy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jm(this.data.getIterator())}getIteratorFrom(e){return new jm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class jm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new yt(Pt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dy("Invalid base64 string: "+c):c}})(e);return new kt(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c})(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const T1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(i){if(je(!!i,39018),typeof i=="string"){let e=0;const n=T1.exec(i);if(je(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:st(i.seconds),nanos:st(i.nanos)}}function st(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ai(i){return typeof i=="string"?kt.fromBase64String(i):kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="server_timestamp",py="__type__",my="__previous_value__",gy="__local_write_time__";function gd(i){return(i?.mapValue?.fields||{})[py]?.stringValue===fy}function Du(i){const e=i.mapValue.fields[my];return gd(e)?Du(e):e}function Sa(i){const e=oi(i.mapValue.fields[gy].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,s,a,c,h,m,y,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=w}}const yu="(default)";class Aa{constructor(e,n){this.projectId=e,this.database=n||yu}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database===yu}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="__type__",S1="__max__",eu={mapValue:{}},vy="__vector__",vu="value";function li(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gd(i)?4:C1(i)?9007199254740991:A1(i)?10:11:ve(28295,{value:i})}function tr(i,e){if(i===e)return!0;const n=li(i);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sa(i).isEqual(Sa(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=oi(a.timestampValue),m=oi(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,c){return ai(a.bytesValue).isEqual(ai(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,c){return st(a.geoPointValue.latitude)===st(c.geoPointValue.latitude)&&st(a.geoPointValue.longitude)===st(c.geoPointValue.longitude)})(i,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return st(a.integerValue)===st(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=st(a.doubleValue),m=st(c.doubleValue);return h===m?gu(h)===gu(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Zs(i.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return(function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(bm(h)!==bm(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!tr(h[y],m[y])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function Ca(i,e){return(i.values||[]).find((n=>tr(n,e)))!==void 0}function to(i,e){if(i===e)return 0;const n=li(i),s=li(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=st(c.integerValue||c.doubleValue),y=st(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return Fm(i.timestampValue,e.timestampValue);case 4:return Fm(Sa(i),Sa(e));case 5:return Wh(i.stringValue,e.stringValue);case 6:return(function(c,h){const m=ai(c),y=ai(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=Ce(m[v],y[v]);if(w!==0)return w}return Ce(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Ce(st(c.latitude),st(h.latitude));return m!==0?m:Ce(st(c.longitude),st(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Um(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},y=h.fields||{},v=m[vu]?.arrayValue,w=y[vu]?.arrayValue,T=Ce(v?.values?.length||0,w?.values?.length||0);return T!==0?T:Um(v,w)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===eu.mapValue&&h===eu.mapValue)return 0;if(c===eu.mapValue)return 1;if(h===eu.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=h.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let T=0;T<y.length&&T<w.length;++T){const A=Wh(y[T],w[T]);if(A!==0)return A;const F=to(m[y[T]],v[w[T]]);if(F!==0)return F}return Ce(y.length,w.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Fm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=oi(i),s=oi(e),a=Ce(n.seconds,s.seconds);return a!==0?a:Ce(n.nanos,s.nanos)}function Um(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=to(n[a],s[a]);if(c)return c}return Ce(n.length,s.length)}function no(i){return Gh(i)}function Gh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=oi(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ai(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Gh(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${Gh(n.fields[h])}`;return a+"}"})(i.mapValue):ve(61005,{value:i})}function ou(i){switch(li(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Du(i);return e?16+ou(e):16;case 5:return 2*i.stringValue.length;case 6:return ai(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+ou(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return fi(s.fields,((c,h)=>{a+=c.length+ou(h)})),a})(i.mapValue);default:throw ve(13486,{value:i})}}function Bm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qh(i){return!!i&&"integerValue"in i}function yd(i){return!!i&&"arrayValue"in i}function zm(i){return!!i&&"nullValue"in i}function $m(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function au(i){return!!i&&"mapValue"in i}function A1(i){return(i?.mapValue?.fields||{})[yy]?.stringValue===vy}function pa(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return fi(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pa(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pa(i.arrayValue.values[n]);return e}return{...i}}function C1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===S1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(n)}setAll(e){let n=Pt.emptyPath(),s={},a=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=pa(h):a.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];au(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){fi(n,((a,c)=>e[a]=c));for(const a of s)delete e[a]}clone(){return new Zt(pa(this.value))}}function _y(i){const e=[];return fi(i.fields,((n,s)=>{const a=new Pt([n]);if(au(s)){const c=_y(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)})),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),Zt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,Ee.min(),Ee.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Ee.min(),Ee.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.position=e,this.inclusive=n}}function qm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=to(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!tr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n="asc"){this.field=e,this.dir=n}}function x1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{}class ut extends Ey{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new P1(e,n,s):n==="array-contains"?new V1(e,s):n==="in"?new D1(e,s):n==="not-in"?new O1(e,s):n==="array-contains-any"?new L1(e,s):new ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new k1(e,s):new N1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(to(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Ey{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ln(e,n)}matches(e){return wy(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wy(i){return i.op==="and"}function Ty(i){return R1(i)&&wy(i)}function R1(i){for(const e of i.filters)if(e instanceof Ln)return!1;return!0}function Kh(i){if(i instanceof ut)return i.field.canonicalString()+i.op.toString()+no(i.value);if(Ty(i))return i.filters.map((e=>Kh(e))).join(",");{const e=i.filters.map((n=>Kh(n))).join(",");return`${i.op}(${e})`}}function Iy(i,e){return i instanceof ut?(function(s,a){return a instanceof ut&&s.op===a.op&&s.field.isEqual(a.field)&&tr(s.value,a.value)})(i,e):i instanceof Ln?(function(s,a){return a instanceof Ln&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,h,m)=>c&&Iy(h,a.filters[m])),!0):!1})(i,e):void ve(19439)}function Sy(i){return i instanceof ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`})(i):i instanceof Ln?(function(n){return n.op.toString()+" {"+n.getFilters().map(Sy).join(" ,")+"}"})(i):"Filter"}class P1 extends ut{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class k1 extends ut{constructor(e,n){super(e,"in",n),this.keys=Ay("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class N1 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=Ay("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ay(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class V1 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yd(n)&&Ca(n.arrayValue,this.value)}}class D1 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ca(this.value.arrayValue,n)}}class O1 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ca(this.value.arrayValue,n)}}class L1 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ca(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Wm(i,e=null,n=[],s=[],a=null,c=null,h=null){return new M1(i,e,n,s,a,c,h)}function vd(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Kh(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>no(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>no(s))).join(",")),e.Te=n}return e.Te}function _d(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!x1(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Iy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Hm(i.startAt,e.startAt)&&Hm(i.endAt,e.endAt)}function Yh(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function b1(i,e,n,s,a,c,h,m){return new ho(i,e,n,s,a,c,h,m)}function Cy(i){return new ho(i)}function Gm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xy(i){return i.collectionGroup!==null}function ma(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new yt(Pt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new xa(c,s))})),n.has(Pt.keyField().canonicalString())||e.Ie.push(new xa(Pt.keyField(),s))}return e.Ie}function Yn(i){const e=we(i);return e.Ee||(e.Ee=j1(e,ma(i))),e.Ee}function j1(i,e){if(i.limitType==="F")return Wm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new xa(a.field,c)}));const n=i.endAt?new _u(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new _u(i.startAt.position,i.startAt.inclusive):null;return Wm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Xh(i,e){const n=i.filters.concat([e]);return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Jh(i,e,n){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ou(i,e){return _d(Yn(i),Yn(e))&&i.limitType===e.limitType}function Ry(i){return`${vd(Yn(i))}|lt:${i.limitType}`}function qs(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Sy(a))).join(", ")}]`),Vu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>no(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>no(a))).join(",")),`Target(${s})`})(Yn(i))}; limitType=${i.limitType})`}function Lu(i,e){return e.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,a){for(const c of ma(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,m,y){const v=qm(h,m,y);return h.inclusive?v<=0:v<0})(s.startAt,ma(s),a)||s.endAt&&!(function(h,m,y){const v=qm(h,m,y);return h.inclusive?v>=0:v>0})(s.endAt,ma(s),a))})(i,e)}function F1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Py(i){return(e,n)=>{let s=!1;for(const a of ma(i)){const c=U1(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function U1(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(c,h,m){const y=h.data.field(c),v=m.data.field(c);return y!==null&&v!==null?to(y,v):ve(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,((n,s)=>{for(const[a,c]of s)e(a,c)}))}isEmpty(){return hy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Ze(pe.comparator);function Ir(){return B1}const ky=new Ze(pe.comparator);function ha(...i){let e=ky;for(const n of i)e=e.insert(n.key,n);return e}function Ny(i){let e=ky;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Hi(){return ga()}function Vy(){return ga()}function ga(){return new Qi((i=>i.toString()),((i,e)=>i.isEqual(e)))}const z1=new Ze(pe.comparator),$1=new yt(pe.comparator);function xe(...i){let e=$1;for(const n of i)e=e.add(n);return e}const q1=new yt(Ce);function H1(){return q1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function Dy(i){return{integerValue:""+i}}function W1(i,e){return _1(e)?Dy(e):Ed(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this._=void 0}}function G1(i,e,n){return i instanceof Eu?(function(a,c){const h={fields:{[py]:{stringValue:fy},[gy]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&gd(c)&&(c=Du(c)),c&&(h.fields[my]=c),{mapValue:h}})(n,e):i instanceof ro?Ly(i,e):i instanceof Ra?My(i,e):(function(a,c){const h=Oy(a,c),m=Qm(h)+Qm(a.Ae);return Qh(h)&&Qh(a.Ae)?Dy(m):Ed(a.serializer,m)})(i,e)}function Q1(i,e,n){return i instanceof ro?Ly(i,e):i instanceof Ra?My(i,e):n}function Oy(i,e){return i instanceof wu?(function(s){return Qh(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Eu extends Mu{}class ro extends Mu{constructor(e){super(),this.elements=e}}function Ly(i,e){const n=by(e);for(const s of i.elements)n.some((a=>tr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ra extends Mu{constructor(e){super(),this.elements=e}}function My(i,e){let n=by(e);for(const s of i.elements)n=n.filter((a=>!tr(a,s)));return{arrayValue:{values:n}}}class wu extends Mu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qm(i){return st(i.integerValue||i.doubleValue)}function by(i){return yd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.field=e,this.transform=n}}function Y1(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof ro&&a instanceof ro||s instanceof Ra&&a instanceof Ra?Zs(s.elements,a.elements,tr):s instanceof wu&&a instanceof wu?tr(s.Ae,a.Ae):s instanceof Eu&&a instanceof Eu})(i.transform,e.transform)}class X1{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bu{}function jy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Uy(i.key,Xn.none()):new Va(i.key,i.data,Xn.none());{const n=i.data,s=Zt.empty();let a=new yt(Pt.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new pi(i.key,s,new ln(a.toArray()),Xn.none())}}function J1(i,e,n){i instanceof Va?(function(a,c,h){const m=a.value.clone(),y=Ym(a.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof pi?(function(a,c,h){if(!lu(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Ym(a.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(Fy(a)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,n):(function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ya(i,e,n,s){return i instanceof Va?(function(c,h,m,y){if(!lu(c.precondition,h))return m;const v=c.value.clone(),w=Xm(c.fieldTransforms,y,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,n,s):i instanceof pi?(function(c,h,m,y){if(!lu(c.precondition,h))return m;const v=Xm(c.fieldTransforms,y,h),w=h.data;return w.setAll(Fy(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(c,h,m){return lu(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function Z1(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Oy(s.transform,a||null);c!=null&&(n===null&&(n=Zt.empty()),n.set(s.field,c))}return n||null}function Km(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Zs(s,a,((c,h)=>Y1(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Va extends bu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pi extends bu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fy(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Ym(i,e,n){const s=new Map;je(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,Q1(h,m,n[a]))}return s}function Xm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,G1(c,h,e))}return s}class Uy extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eT extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&J1(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ya(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ya(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Vy();return this.mutations.forEach((a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const y=jy(h,m);y!==null&&s.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xe())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,((n,s)=>Km(n,s)))&&Zs(this.baseMutations,e.baseMutations,((n,s)=>Km(n,s)))}}class wd{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return z1})();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new wd(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Ne;function iT(i){switch(i){case H.OK:return ve(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function By(i){if(i===void 0)return Tr("GRPC error has no .code"),H.UNKNOWN;switch(i){case lt.OK:return H.OK;case lt.CANCELLED:return H.CANCELLED;case lt.UNKNOWN:return H.UNKNOWN;case lt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case lt.INTERNAL:return H.INTERNAL;case lt.UNAVAILABLE:return H.UNAVAILABLE;case lt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case lt.NOT_FOUND:return H.NOT_FOUND;case lt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case lt.ABORTED:return H.ABORTED;case lt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case lt.DATA_LOSS:return H.DATA_LOSS;default:return ve(39323,{code:i})}}(Ne=lt||(lt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new ni([4294967295,4294967295],0);function Jm(i){const e=sT().encode(i),n=new ey;return n.update(e),new Uint8Array(n.digest())}function Zm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ni([n,s],0),new ni([a,c],0)]}class Td{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new da(`Invalid padding: ${n}`);if(s<0)throw new da(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new da(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new da(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ni.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ni.fromNumber(s)));return a.compare(oT)===1&&(a=new ni([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jm(e),[s,a]=Zm(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Td(c,a,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Jm(e),[s,a]=Zm(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Da.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ju(Ee.min(),a,new Ze(Ce),Ir(),xe())}}class Da{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Da(s,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class zy{constructor(e,n){this.targetId=e,this.Ce=n}}class $y{constructor(e,n,s=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class eg{constructor(){this.ve=0,this.Fe=tg(),this.Me=kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),s=xe();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve(38017,{changeType:c})}})),new Da(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tg()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aT{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ir(),this.Je=tu(),this.He=tu(),this.Ye=new Ze(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Yh(c))if(s===0){const h=new pe(c.path);this.et(n,h,Ft.newNoDocument(h,Ee.min()))}else je(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=ai(s).toUint8Array()}catch(y){if(y instanceof dy)return Js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Td(h,a,c)}catch(y){return Js(y instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Yh(m.target)){const y=new pe(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,Ft.newNoDocument(y,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let s=xe();this.He.forEach(((c,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const a=new ju(e,n,this.Ye,this.je,s);return this.je=Ir(),this.Je=tu(),this.He=tu(),this.Ye=new Ze(Ce),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yt(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yt(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tu(){return new Ze(pe.comparator)}function tg(){return new Ze(pe.comparator)}const lT={asc:"ASCENDING",desc:"DESCENDING"},uT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cT={and:"AND",or:"OR"};class hT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zh(i,e){return i.useProto3Json||Vu(e)?e:{value:e}}function Tu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function dT(i,e){return Tu(i,e.toTimestamp())}function Jn(i){return je(!!i,49232),Ee.fromTimestamp((function(n){const s=oi(n);return new Qe(s.seconds,s.nanos)})(i))}function Id(i,e){return ed(i,e).canonicalString()}function ed(i,e){const n=(function(a){return new He(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Hy(i){const e=He.fromString(i);return je(Yy(e),10190,{key:e.toString()}),e}function td(i,e){return Id(i.databaseId,e.path)}function Nh(i,e){const n=Hy(e);if(n.get(1)!==i.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(Gy(n))}function Wy(i,e){return Id(i.databaseId,e)}function fT(i){const e=Hy(i);return e.length===4?He.emptyPath():Gy(e)}function nd(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gy(i){return je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ng(i,e,n){return{name:td(i,e),fields:n.value.mapValue.fields}}function pT(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(je(w===void 0||typeof w=="string",58123),kt.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),kt.fromUint8Array(w||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const w=v.code===void 0?H.UNKNOWN:By(v.code);return new re(w,v.message||"")})(h);n=new $y(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Nh(i,s.document.name),c=Jn(s.document.updateTime),h=s.document.createTime?Jn(s.document.createTime):Ee.min(),m=new Zt({mapValue:{fields:s.document.fields}}),y=Ft.newFoundDocument(a,c,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new uu(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Nh(i,s.document),c=s.readTime?Jn(s.readTime):Ee.min(),h=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new uu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Nh(i,s.document),c=s.removedTargetIds||[];n=new uu([],c,a,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new rT(a,c),m=s.targetId;n=new zy(m,h)}}return n}function mT(i,e){let n;if(e instanceof Va)n={update:ng(i,e.key,e.value)};else if(e instanceof Uy)n={delete:td(i,e.key)};else if(e instanceof pi)n={update:ng(i,e.key,e.data),updateMask:ST(e.fieldMask)};else{if(!(e instanceof eT))return ve(16599,{Vt:e.type});n={verify:td(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ro)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ra)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:dT(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(i,e.precondition)),n}function gT(i,e){return i&&i.length>0?(je(e!==void 0,14353),i.map((n=>(function(a,c){let h=a.updateTime?Jn(a.updateTime):Jn(c);return h.isEqual(Ee.min())&&(h=Jn(c)),new X1(h,a.transformResults||[])})(n,e)))):[]}function yT(i,e){return{documents:[Wy(i,e.path)]}}function vT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Wy(i,a);const c=(function(v){if(v.length!==0)return Ky(Ln.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(v){if(v.length!==0)return v.map((w=>(function(A){return{field:Hs(A.field),direction:wT(A.dir)}})(w)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Zh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:a}}function _T(i){let e=fT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){je(s===1,65062);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=(function(T){const A=Qy(T);return A instanceof Ln&&Ty(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function($){return new xa(Ws($.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Vu(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(T){const A=!!T.before,F=T.values||[];return new _u(F,A)})(n.startAt));let v=null;return n.endAt&&(v=(function(T){const A=!T.before,F=T.values||[];return new _u(F,A)})(n.endAt)),b1(e,a,h,c,m,"F",y,v)}function ET(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qy(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ws(n.unaryFilter.field);return ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ws(n.unaryFilter.field);return ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ws(n.unaryFilter.field);return ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ws(n.unaryFilter.field);return ut.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(n){return ut.create(Ws(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ln.create(n.compositeFilter.filters.map((s=>Qy(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(i):ve(30097,{filter:i})}function wT(i){return lT[i]}function TT(i){return uT[i]}function IT(i){return cT[i]}function Hs(i){return{fieldPath:i.canonicalString()}}function Ws(i){return Pt.fromServerFormat(i.fieldPath)}function Ky(i){return i instanceof ut?(function(n){if(n.op==="=="){if($m(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(zm(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($m(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(zm(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:TT(n.op),value:n.value}}})(i):i instanceof Ln?(function(n){const s=n.getFilters().map((a=>Ky(a)));return s.length===1?s[0]:{compositeFilter:{op:IT(n.op),filters:s}}})(i):ve(54877,{filter:i})}function ST(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Yy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,a,c=Ee.min(),h=Ee.min(),m=kt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.yt=e}}function CT(i){const e=_T({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.Cn=new RT}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(si.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class RT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new yt(He.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new yt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xy=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(Xy,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LruGarbageCollector",PT=1048576;function sg([i,e],[n,s]){const a=Ce(i,n);return a===0?Ce(e,s):a}class kT{constructor(e){this.Ir=e,this.buffer=new yt(sg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(ig,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?oe(ig,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Vr(3e5)}))}}class VT{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Nu.ce);const s=new kT(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(rg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,h,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),$s()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${T} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function DT(i,e){return new VT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.changes=new Qi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&ya(s.mutation,a,ln.empty(),Qe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,xe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=xe()){const a=Hi();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((c=>{let h=ha();return c.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Hi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,xe())))}populateOverlays(e,n,s){const a=[];return s.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,a){let c=Ir();const h=ga(),m=(function(){return ga()})();return n.forEach(((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof pi)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),ya(w.mutation,v,w.mutation.getFieldMask(),Qe.now())):h.set(v.key,ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,w)=>h.set(v,w))),n.forEach(((v,w)=>m.set(v,new LT(w,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ga();let a=new Ze(((h,m)=>h-m)),c=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||ln.empty();w=m.applyToLocalView(v,w),s.set(y,w);const T=(a.get(m.batchId)||xe()).add(y);a=a.insert(m.batchId,T)}))})).next((()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,T=Vy();w.forEach((A=>{if(!c.has(A)){const F=jy(n.get(A),s.get(A));F!==null&&T.set(A,F),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return W.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Hi());let m=Ia,y=c;return h.next((v=>W.forEach(v,((w,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next((A=>{y=y.insert(w,A)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,xe()))).next((w=>({batchId:m,changes:Ny(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let a=ha();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=ha();return this.indexManager.getCollectionParents(e,c).next((m=>W.forEach(m,(y=>{const v=(function(T,A){return new ho(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((w=>{w.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a)))).next((h=>{c.forEach(((y,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))}));let m=ha();return h.forEach(((y,v)=>{const w=c.get(y);w!==void 0&&ya(w.mutation,v,ln.empty(),Qe.now()),Lu(n,v)&&(m=m.insert(y,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Jn(a.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:CT(a.bundledQuery),readTime:Jn(a.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.overlays=new Ze(pe.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hi();return W.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,c)=>{this.St(e,n,c)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Hi(),c=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ze(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Hi(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Hi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,w)=>m.set(v,w))),!(m.size()>=a)););return W.resolve(m)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new nT(n,s));let c=this.qr.get(n);c===void 0&&(c=xe(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.Qr=new yt(It.$r),this.Ur=new yt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new It(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new He([])),s=new It(n,e),a=new It(n,e+1),c=[];return this.Ur.forEachInRange([s,a],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new He([])),s=new It(n,e),a=new It(n,e+1);let c=xe();return this.Ur.forEachInRange([s,a],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new It(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yt(It.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new tT(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.Zr=this.Zr.add(new It(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?md:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new It(n,0),a=new It(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],(h=>{const m=this.Xr(h.Yr);c.push(m)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new yt(Ce);return n.forEach((a=>{const c=new It(a,0),h=new It(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const h=new It(new pe(c),0);let m=new yt(Ce);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.Yr)),!0)}),h),W.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(a=>{const c=new It(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new It(n,0),a=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.ri=e,this.docs=(function(){return new Ze(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Ir();return n.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Ir();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||m1(p1(w),s)<=0||(a.has(w.key)||Lu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ve(9500)}ii(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new zT(this)}getSize(e){return W.resolve(this.size)}}class zT extends OT{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.persistence=e,this.si=new Qi((n=>vd(n)),_d),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Sd,this.targetCount=0,this.ai=io.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),W.waitFor(c).next((()=>a))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((h=>{c.push(a.markPotentiallyOrphaned(e,h))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nu(0),this.li=!1,this.li=!0,this.hi=new FT,this.referenceDelegate=e(this),this.Pi=new $T(this),this.indexManager=new xT,this.remoteDocumentCache=(function(a){return new BT(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new AT(n),this.Ii=new bT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new UT(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new qT(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class qT extends y1{constructor(e){super(),this.currentSequenceNumber=e}}class Ad{constructor(e){this.persistence=e,this.Ri=new Sd,this.Vi=null}static mi(e){return new Ad(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const a=pe.fromPath(s);return this.gi(e,a).next((c=>{c||n.removeEntry(a,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Iu{constructor(e,n){this.persistence=e,this.pi=new Qi((s=>E1(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=DT(this,n)}static mi(e,n){return new Iu(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((s,a)=>this.br(e,s,a).next((c=>c?W.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,c.removeEntry(h,Ee.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ou(e.data.value)),n}br(e,n,s){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=xe(),a=xe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Cd(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return M0()?8:v1(O0())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,a,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new HT;return this.Ss(e,n,h).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>c.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?($s()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):($s()<=Ve.DEBUG&&oe("QueryEngine","Query:",qs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?($s()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):W.resolve())}ys(e,n){if(Gm(n))return W.resolve(null);let s=Yn(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Jh(n,null,"F"),s=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=xe(...c);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.Ds(n,m);return this.Cs(n,v,h,y.readTime)?this.ys(e,Jh(n,null,"F")):this.vs(e,v,n,y)}))))})))))}ws(e,n,s,a){return Gm(n)||a.isEqual(Ee.min())?W.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,s,a)?W.resolve(null):($s()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qs(n)),this.vs(e,h,n,f1(a,Ia)).next((m=>m)))}))}Ds(e,n){let s=new yt(Py(e));return n.forEach(((a,c)=>{Lu(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return $s()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",qs(n)),this.ps.getDocumentsMatchingQuery(e,n,si.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",GT=3e8;class QT{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ze(Ce),this.xs=new Qi((c=>vd(c)),_d),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function KT(i,e,n,s){return new QT(i,e,n,s)}async function Zy(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let y=xe();for(const v of a){h.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function YT(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,w){const T=v.batch,A=T.keys();let F=W.resolve();return A.forEach(($=>{F=F.next((()=>w.getEntry(y,$))).next((q=>{const U=v.docVersions.get($);je(U!==null,48541),q.version.compareTo(U)<0&&(T.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),w.addEntry(q)))}))})),F.next((()=>m.mutationQueue.removeMutationBatch(y,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=xe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function ev(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function XT(i,e){const n=we(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach(((w,T)=>{const A=a.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,w.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,w.addedDocuments,T))));let F=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?F=F.withResumeToken(kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,s)),a=a.insert(T,F),(function(q,U,le){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=GT?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(A,F,w)&&m.push(n.Pi.updateTargetData(c,F))}));let y=Ir(),v=xe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))})),m.push(JT(c,h,e.documentUpdates).next((w=>{y=w.ks,v=w.qs}))),!s.isEqual(Ee.min())){const w=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(w)}return W.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(n.Ms=a,c)))}function JT(i,e,n){let s=xe(),a=xe();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=Ir();return n.forEach(((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):oe(xd,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{ks:h,qs:a}}))}function ZT(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=md),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eI(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((c=>c?(a=c,W.resolve(a)):n.Pi.allocateTargetId(s).next((h=>(a=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function rd(i,e,n){const s=we(i),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!co(h))throw h;oe(xd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function og(i,e,n){const s=we(i);let a=Ee.min(),c=xe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,w){const T=we(y),A=T.xs.get(w);return A!==void 0?W.resolve(T.Ms.get(A)):T.Pi.getTargetData(v,w)})(s,h,Yn(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?a:Ee.min(),n?c:xe()))).next((m=>(tI(s,F1(e),m),{documents:m,Qs:c})))))}function tI(i,e,n){let s=i.Os.get(e)||Ee.min();n.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class ag{constructor(){this.activeTargetIds=H1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nI{constructor(){this.Mo=new ag,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ag,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="ConnectivityMonitor";class ug{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(lg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(lg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=null;function id(){return nu===null?nu=(function(){return 268435456+Math.round(2147483648*Math.random())})():nu++,"0x"+nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="RestConnection",iI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===yu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const h=id(),m=this.zo(e,n.toUriEncodedString());oe(Vh,`Sending RPC '${e}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,c);const{host:v}=new URL(m),w=hd(v);return this.Jo(e,m,y,s,w).then((T=>(oe(Vh,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Js(Vh,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,a,c,h){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),s&&s.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const s=iI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class aI extends sI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const h=id();return new Promise(((m,y)=>{const v=new ty;v.setWithCredentials(!0),v.listenOnce(ny.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case su.NO_ERROR:const T=v.getResponseJson();oe(bt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case su.TIMEOUT:oe(bt,`RPC '${e}' ${h} timed out`),y(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:const A=v.getStatus();if(oe(bt,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const q=(function(le){const te=le.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(te)>=0?te:H.UNKNOWN})($.status);y(new re(q,$.message))}else y(new re(H.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new re(H.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{oe(bt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(a);oe(bt,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",w,s,15)}))}T_(e,n,s){const a=id(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=sy(),m=iy(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");oe(bt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const T=h.createWebChannel(w,y);this.I_(T);let A=!1,F=!1;const $=new oI({Yo:U=>{F?oe(bt,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(A||(oe(bt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),oe(bt,`RPC '${e}' stream ${a} sending:`,U),T.send(U))},Zo:()=>T.close()}),q=(U,le,te)=>{U.listen(le,(ne=>{try{te(ne)}catch(de){setTimeout((()=>{throw de}),0)}}))};return q(T,ca.EventType.OPEN,(()=>{F||(oe(bt,`RPC '${e}' stream ${a} transport opened.`),$.o_())})),q(T,ca.EventType.CLOSE,(()=>{F||(F=!0,oe(bt,`RPC '${e}' stream ${a} transport closed`),$.a_(),this.E_(T))})),q(T,ca.EventType.ERROR,(U=>{F||(F=!0,Js(bt,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),$.a_(new re(H.UNAVAILABLE,"The operation could not be completed")))})),q(T,ca.EventType.MESSAGE,(U=>{if(!F){const le=U.data[0];je(!!le,16349);const te=le,ne=te?.error||te[0]?.error;if(ne){oe(bt,`RPC '${e}' stream ${a} received error:`,ne);const de=ne.status;let Le=(function(S){const R=lt[S];if(R!==void 0)return By(R)})(de),Ae=ne.message;Le===void 0&&(Le=H.INTERNAL,Ae="Unknown error status: "+de+" with message "+ne.message),F=!0,$.a_(new re(Le,Ae)),T.close()}else oe(bt,`RPC '${e}' stream ${a} received:`,le),$.u_(le)}})),q(m,ry.STAT_EVENT,(U=>{U.stat===Hh.PROXY?oe(bt,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Hh.NOPROXY&&oe(bt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(i){return new hT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="PersistentStream";class nv{constructor(e,n,s,a,c,h,m,y){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new re(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(cg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(cg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lI extends nv{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pT(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Jn(h.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=nd(this.serializer),n.addTarget=(function(c,h){let m;const y=h.target;if(m=Yh(y)?{documents:yT(c,y)}:{query:vT(c,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=qy(c,h.resumeToken);const v=Zh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Tu(c,h.snapshotVersion.toTimestamp());const v=Zh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=ET(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=nd(this.serializer),n.removeTarget=e,this.q_(n)}}class uI extends nv{constructor(e,n,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gT(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=nd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>mT(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{}class hI extends cI{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,ed(n,s),a,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(H.UNKNOWN,c.toString())}))}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,ed(n,s),a,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new re(H.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class fI{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ki(this)&&(oe(Gi,"Restarting streams for network reachability change."),await(async function(y){const v=we(y);v.Ea.add(4),await Oa(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Uu(v)})(this))}))})),this.Ra=new dI(s,a)}}async function Uu(i){if(Ki(i))for(const e of i.da)await e(!0)}async function Oa(i){for(const e of i.da)await e(!1)}function rv(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nd(n)?kd(n):fo(n).O_()&&Pd(n,e))}function Rd(i,e){const n=we(i),s=fo(n);n.Ia.delete(e),s.O_()&&iv(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ki(n)&&n.Ra.set("Unknown"))}function Pd(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fo(i).Y_(e)}function iv(i,e){i.Va.Ue(e),fo(i).Z_(e)}function kd(i){i.Va=new aT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),fo(i).start(),i.Ra.ua()}function Nd(i){return Ki(i)&&!fo(i).x_()&&i.Ia.size>0}function Ki(i){return we(i).Ea.size===0}function sv(i){i.Va=void 0}async function pI(i){i.Ra.set("Online")}async function mI(i){i.Ia.forEach(((e,n)=>{Pd(i,e)}))}async function gI(i,e){sv(i),Nd(i)?(i.Ra.ha(e),kd(i)):i.Ra.set("Unknown")}async function yI(i,e,n){if(i.Ra.set("Online"),e instanceof $y&&e.state===2&&e.cause)try{await(async function(a,c){const h=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ia.delete(m),a.Va.removeTarget(m))})(i,e)}catch(s){oe(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Su(i,s)}else if(e instanceof uu?i.Va.Ze(e):e instanceof zy?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await ev(i.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const w=c.Ia.get(y);if(!w)return;c.Ia.set(y,w.withResumeToken(kt.EMPTY_BYTE_STRING,w.snapshotVersion)),iv(c,y);const T=new Jr(w.target,y,v,w.sequenceNumber);Pd(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){oe(Gi,"Failed to raise snapshot:",s),await Su(i,s)}}async function Su(i,e,n){if(!co(e))throw e;i.Ea.add(1),await Oa(i),i.Ra.set("Offline"),n||(n=()=>ev(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe(Gi,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Uu(i)}))}function ov(i,e){return e().catch((n=>Su(i,n,e)))}async function Bu(i){const e=we(i),n=ui(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:md;for(;vI(e);)try{const a=await ZT(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,_I(e,a)}catch(a){await Su(e,a)}av(e)&&lv(e)}function vI(i){return Ki(i)&&i.Ta.length<10}function _I(i,e){i.Ta.push(e);const n=ui(i);n.O_()&&n.X_&&n.ea(e.mutations)}function av(i){return Ki(i)&&!ui(i).x_()&&i.Ta.length>0}function lv(i){ui(i).start()}async function EI(i){ui(i).ra()}async function wI(i){const e=ui(i);for(const n of i.Ta)e.ea(n.mutations)}async function TI(i,e,n){const s=i.Ta.shift(),a=wd.from(s,e,n);await ov(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await Bu(i)}async function II(i,e){e&&ui(i).X_&&await(async function(s,a){if((function(h){return iT(h)&&h!==H.ABORTED})(a.code)){const c=s.Ta.shift();ui(s).B_(),await ov(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Bu(s)}})(i,e),av(i)&&lv(i)}async function hg(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe(Gi,"RemoteStore received new credentials");const s=Ki(n);n.Ea.add(3),await Oa(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uu(n)}async function SI(i,e){const n=we(i);e?(n.Ea.delete(2),await Uu(n)):e||(n.Ea.add(2),await Oa(n),n.Ra.set("Unknown"))}function fo(i){return i.ma||(i.ma=(function(n,s,a){const c=we(n);return c.sa(),new lI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:pI.bind(null,i),t_:mI.bind(null,i),r_:gI.bind(null,i),H_:yI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Nd(i)?kd(i):i.Ra.set("Unknown")):(await i.ma.stop(),sv(i))}))),i.ma}function ui(i){return i.fa||(i.fa=(function(n,s,a){const c=we(n);return c.sa(),new uI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:EI.bind(null,i),r_:II.bind(null,i),ta:wI.bind(null,i),na:TI.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Bu(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(Gi,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new Vd(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),co(i))return new re(H.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static emptySet(e){return new Qs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=ha(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.ga=new Ze(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class so{constructor(e,n,s,a,c,h,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new so(e,n,Qs.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CI{constructor(){this.queries=fg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=we(n),c=a.queries;a.queries=fg(),c.forEach(((h,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new re(H.ABORTED,"Firestore shutting down"))}}function fg(){return new Qi((i=>Ry(i)),Ou)}async function xI(i,e){const n=we(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new AI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=Dd(h,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Od(n)}async function RI(i,e){const n=we(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PI(i,e){const n=we(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.Sa)m.Fa(a)&&(s=!0);h.wa=a}}s&&Od(n)}function kI(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function Od(i){i.Ca.forEach((e=>{e.next()}))}var sd,pg;(pg=sd||(sd={})).Ma="default",pg.Cache="cache";class NI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class VI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=Py(e),this.tu=new Qs(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new dg,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((w,T)=>{const A=a.get(w),F=Lu(this.query,T)?T:null,$=!!A&&this.mutatedKeys.has(A.key),q=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let U=!1;A&&F?A.data.isEqual(F.data)?$!==q&&(s.track({type:3,doc:F}),U=!0):this.su(A,F)||(s.track({type:2,doc:F}),U=!0,(y&&this.eu(F,y)>0||v&&this.eu(F,v)<0)&&(m=!0)):!A&&F?(s.track({type:0,doc:F}),U=!0):A&&!F&&(s.track({type:1,doc:A}),U=!0,(y||v)&&(m=!0)),U&&(F?(h=h.add(F),c=q?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,T)=>(function(F,$){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:U})}};return q(F)-q($)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(s),a=a??!1;const m=n&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new so(this.query,e.tu,c,h,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new cv(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new uv(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ld="SyncEngine";class DI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OI{constructor(e){this.key=e,this.hu=!1}}class LI{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Qi((m=>Ry(m)),Ou),this.Iu=new Map,this.Eu=new Set,this.du=new Ze(pe.comparator),this.Au=new Map,this.Ru=new Sd,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MI(i,e,n=!0){const s=gv(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await hv(s,e,n,!0),a}async function bI(i,e){const n=gv(i);await hv(n,e,!0,!1)}async function hv(i,e,n,s){const a=await eI(i.localStore,Yn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await jI(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&rv(i.remoteStore,a),m}async function jI(i,e,n,s,a){i.pu=(T,A,F)=>(async function(q,U,le,te){let ne=U.view.ru(le);ne.Cs&&(ne=await og(q.localStore,U.query,!1).then((({documents:V})=>U.view.ru(V,ne))));const de=te&&te.targetChanges.get(U.targetId),Le=te&&te.targetMismatches.get(U.targetId)!=null,Ae=U.view.applyChanges(ne,q.isPrimaryClient,de,Le);return gg(q,U.targetId,Ae.au),Ae.snapshot})(i,T,A,F);const c=await og(i.localStore,e,!0),h=new VI(e,c.Qs),m=h.ru(c.documents),y=Da.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,y);gg(i,n,v.au);const w=new DI(e,n,h);return i.Tu.set(e,w),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function FI(i,e,n){const s=we(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter((h=>!Ou(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await rd(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Rd(s.remoteStore,a.targetId),od(s,a.targetId)})).catch(uo)):(od(s,a.targetId),await rd(s.localStore,a.targetId,!0))}async function UI(i,e){const n=we(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Rd(n.remoteStore,s.targetId))}async function BI(i,e,n){const s=QI(i);try{const a=await(function(h,m){const y=we(h),v=Qe.now(),w=m.reduce(((F,$)=>F.add($.key)),xe());let T,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=Ir(),q=xe();return y.Ns.getEntries(F,w).next((U=>{$=U,$.forEach(((le,te)=>{te.isValidDocument()||(q=q.add(le))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,$))).next((U=>{T=U;const le=[];for(const te of m){const ne=Z1(te,T.get(te.key).overlayedDocument);ne!=null&&le.push(new pi(te.key,ne,_y(ne.value.mapValue),Xn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,v,le,m)})).next((U=>{A=U;const le=U.applyToLocalDocumentSet(T,q);return y.documentOverlayCache.saveOverlays(F,U.batchId,le)}))})).then((()=>({batchId:A.batchId,changes:Ny(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,m,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new Ze(Ce)),v=v.insert(m,y),h.Vu[h.currentUser.toKey()]=v})(s,a.batchId,n),await La(s,a.changes),await Bu(s.remoteStore)}catch(a){const c=Dd(a,"Failed to persist write");n.reject(c)}}async function dv(i,e){const n=we(i);try{const s=await XT(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const h=n.Au.get(c);h&&(je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?je(h.hu,14607):a.removedDocuments.size>0&&(je(h.hu,42227),h.hu=!1))})),await La(n,s,e)}catch(s){await uo(s)}}function mg(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(h,m){const y=we(h);y.onlineState=m;let v=!1;y.queries.forEach(((w,T)=>{for(const A of T.Sa)A.va(m)&&(v=!0)})),v&&Od(y)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zI(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let h=new Ze(pe.comparator);h=h.insert(c,Ft.newNoDocument(c,Ee.min()));const m=xe().add(c),y=new ju(Ee.min(),new Map,new Ze(Ce),h,m);await dv(s,y),s.du=s.du.remove(c),s.Au.delete(e),Md(s)}else await rd(s.localStore,e,!1).then((()=>od(s,e,n))).catch(uo)}async function $I(i,e){const n=we(i),s=e.batch.batchId;try{const a=await YT(n.localStore,e);pv(n,s,null),fv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await La(n,a)}catch(a){await uo(a)}}async function qI(i,e,n){const s=we(i);try{const a=await(function(h,m){const y=we(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next((T=>(je(T!==null,37113),w=T.keys(),y.mutationQueue.removeMutationBatch(v,T)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>y.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);pv(s,e,n),fv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await La(s,a)}catch(a){await uo(a)}}function fv(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function pv(i,e,n){const s=we(i);let a=s.Vu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function od(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||mv(i,s)}))}function mv(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Rd(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Md(i))}function gg(i,e,n){for(const s of n)s instanceof uv?(i.Ru.addReference(s.key,e),HI(i,s)):s instanceof cv?(oe(Ld,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||mv(i,s.key)):ve(19791,{wu:s})}function HI(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(oe(Ld,"New document in limbo: "+n),i.Eu.add(s),Md(i))}function Md(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(He.fromString(e)),s=i.fu.next();i.Au.set(s,new OI(n)),i.du=i.du.insert(n,s),rv(i.remoteStore,new Jr(Yn(Cy(n.path)),s,"TargetPurposeLimboResolution",Nu.ce))}}async function La(i,e,n){const s=we(i),a=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{h.push(s.pu(y,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const w=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(v){a.push(v);const w=Cd.As(y.targetId,v);c.push(w)}})))})),await Promise.all(h),s.Pu.H_(a),await(async function(y,v){const w=we(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>W.forEach(v,(A=>W.forEach(A.Es,(F=>w.persistence.referenceDelegate.addReference(T,A.targetId,F))).next((()=>W.forEach(A.ds,(F=>w.persistence.referenceDelegate.removeReference(T,A.targetId,F)))))))))}catch(T){if(!co(T))throw T;oe(xd,"Failed to update sequence numbers: "+T)}for(const T of v){const A=T.targetId;if(!T.fromCache){const F=w.Ms.get(A),$=F.snapshotVersion,q=F.withLastLimboFreeSnapshotVersion($);w.Ms=w.Ms.insert(A,q)}}})(s.localStore,c))}async function WI(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe(Ld,"User change. New user:",e.toKey());const s=await Zy(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new re(H.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await La(n,s.Ls)}}function GI(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return xe().add(s.key);{let a=xe();const c=n.Iu.get(e);if(!c)return a;for(const h of c){const m=n.Tu.get(h);a=a.unionWith(m.view.nu)}return a}}function gv(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=dv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zI.bind(null,e),e.Pu.H_=PI.bind(null,e.eventManager),e.Pu.yu=kI.bind(null,e.eventManager),e}function QI(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qI.bind(null,e),e}class Au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KT(this.persistence,new WT,e.initialUser,this.serializer)}Cu(e){return new Jy(Ad.mi,this.serializer)}Du(e){return new nI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Au.provider={build:()=>new Au};class KI extends Au{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof Iu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NT(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Jy((s=>Iu.mi(s,n)),this.serializer)}}class ad{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WI.bind(null,this.syncEngine),await SI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CI})()}createDatastore(e){const n=Fu(e.databaseInfo.databaseId),s=(function(c){return new aI(c)})(e.databaseInfo);return(function(c,h,m,y){return new hI(c,h,m,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,c,h,m){return new fI(s,a,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mg(this.syncEngine,n,0)),(function(){return ug.v()?new ug:new rI})())}createSyncEngine(e,n){return(function(a,c,h,m,y,v,w){const T=new LI(a,c,h,m,y,v);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);oe(Gi,"RemoteStore shutting down."),s.Ea.add(5),await Oa(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="FirestoreClient";class XI{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=jt.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{oe(ci,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(oe(ci,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Dd(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Oh(i,e){i.asyncQueue.verifyOperationInProgress(),oe(ci,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Zy(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function yg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await JI(i);oe(ci,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>hg(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>hg(e.remoteStore,a))),i._onlineComponents=e}async function JI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(ci,"Using user provided OfflineComponentProvider");try{await Oh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===H.FAILED_PRECONDITION||a.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await Oh(i,new Au)}}else oe(ci,"Using default OfflineComponentProvider"),await Oh(i,new KI(void 0));return i._offlineComponents}async function yv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(ci,"Using user provided OnlineComponentProvider"),await yg(i,i._uninitializedComponentsProvider._online)):(oe(ci,"Using default OnlineComponentProvider"),await yg(i,new ad))),i._onlineComponents}function ZI(i){return yv(i).then((e=>e.syncEngine))}async function eS(i){const e=await yv(i),n=e.eventManager;return n.onListen=MI.bind(null,e.syncEngine),n.onUnlisten=FI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UI.bind(null,e.syncEngine),n}function tS(i,e,n={}){const s=new ri;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,y,v){const w=new YI({next:A=>{w.Nu(),h.enqueueAndForget((()=>RI(c,T))),A.fromCache&&y.source==="server"?v.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),T=new NI(m,w,{includeMetadataChanges:!0,qa:!0});return xI(c,T)})(await eS(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="firestore.googleapis.com",_g=!0;class Eg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_v,this.ssl=_g}else this.host=e.host,this.ssl=e.ssl??_g;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PT)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new n1;switch(s.type){case"firstParty":return new o1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vg.get(n);s&&(oe("ComponentProvider","Removing Datastore"),vg.delete(n),s.terminate())})(this),Promise.resolve()}}function nS(i,e,n,s={}){i=eo(i,zu);const a=hd(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;a&&(P0(`https://${m}`),D0("Firestore",!0)),c.host!==_v&&c.host!==m&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:a,emulatorOptions:s};if(!Ea(y,h)&&(i._setSettings(y),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=jt.MOCK_USER;else{v=k0(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new jt(T)}i._authCredentials=new r1(new ay(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Na(n,gt._jsonSchema))return new gt(e,s||null,new pe(He.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:ct("string",gt._jsonSchemaVersion),referencePath:ct("string")};class ii extends Yi{constructor(e,n,s){super(e,n,Cy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new pe(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Lh(i,e,...n){if(i=Er(i),ly("collection","path",e),i instanceof zu){const s=He.fromString(e,...n);return Dm(s),new ii(i,null,s)}{if(!(i instanceof gt||i instanceof ii))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return Dm(s),new ii(i.firestore,null,s)}}function Ev(i,e,...n){if(i=Er(i),arguments.length===1&&(e=pd.newId()),ly("doc","path",e),i instanceof zu){const s=He.fromString(e,...n);return Vm(s),new gt(i,null,new pe(s))}{if(!(i instanceof gt||i instanceof ii))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return Vm(s),new gt(i.firestore,i instanceof ii?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="AsyncQueue";class Tg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tv(this,"async_queue_retry"),this._c=()=>{const s=Dh();s&&oe(wg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;oe(wg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",Ig(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Vd.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&ve(47125,{Pc:Ig(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ig(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class $u extends zu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Tg,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tg(e),this._firestoreClient=void 0,await e}}}function rS(i,e){const n=typeof i=="object"?i:$w(),s=typeof i=="string"?i:yu,a=jw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=x0("firestore");c&&nS(a,...c)}return a}function wv(i){if(i._terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||iS(i),i._firestoreClient}function iS(i){const e=i._freezeSettings(),n=(function(a,c,h,m){return new I1(a,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vv(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new XI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(kt.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _n(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Na(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:ct("string",_n._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zn._jsonSchemaVersion}}static fromJSON(e){if(Na(e,Zn._jsonSchema))return new Zn(e.latitude,e.longitude)}}Zn._jsonSchemaVersion="firestore/geoPoint/1.0",Zn._jsonSchema={type:ct("string",Zn._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Na(e,er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new er(e.vectorValues);throw new re(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:ct("string",er._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=/^__.*__$/;class oS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Va(e,this.data,n,this.fieldTransforms)}}class Tv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Iv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class Wu{constructor(e,n,s,a,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wu({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Iv(this.Ac)&&sS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fu(e)}Cc(e,n,s,a=!1){return new Wu({Ac:e,methodName:n,Dc:s,path:Pt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bd(i){const e=i._freezeSettings(),n=Fu(i._databaseId);return new aS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function lS(i,e,n,s,a,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,n,a);Fd("Data must be an object, but it was:",h,s);const m=Sv(s,h);let y,v;if(c.merge)y=new ln(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const T of c.mergeFields){const A=ld(e,T,n);if(!h.contains(A))throw new re(H.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Cv(w,A)||w.push(A)}y=new ln(w),v=h.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,v=h.fieldTransforms;return new oS(new Zt(m),y,v)}class Gu extends Hu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gu}}function uS(i,e,n){return new Wu({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jd extends Hu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=uS(this,e,!0),s=this.vc.map((c=>po(c,n))),a=new ro(s);return new K1(e.path,a)}isEqual(e){return e instanceof jd&&Ea(this.vc,e.vc)}}function cS(i,e,n,s){const a=i.Cc(1,e,n);Fd("Data must be an object, but it was:",a,s);const c=[],h=Zt.empty();fi(s,((y,v)=>{const w=Ud(e,y,n);v=Er(v);const T=a.yc(w);if(v instanceof Gu)c.push(w);else{const A=po(v,T);A!=null&&(c.push(w),h.set(w,A))}}));const m=new ln(c);return new Tv(h,m,a.fieldTransforms)}function hS(i,e,n,s,a,c){const h=i.Cc(1,e,n),m=[ld(e,s,n)],y=[a];if(c.length%2!=0)throw new re(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(ld(e,c[A])),y.push(c[A+1]);const v=[],w=Zt.empty();for(let A=m.length-1;A>=0;--A)if(!Cv(v,m[A])){const F=m[A];let $=y[A];$=Er($);const q=h.yc(F);if($ instanceof Gu)v.push(F);else{const U=po($,q);U!=null&&(v.push(F),w.set(F,U))}}const T=new ln(v);return new Tv(w,T,h.fieldTransforms)}function dS(i,e,n,s=!1){return po(n,i.Cc(s?4:3,e))}function po(i,e){if(Av(i=Er(i)))return Fd("Unsupported field value:",e,i),Sv(i,e);if(i instanceof Hu)return(function(s,a){if(!Iv(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const c=[];let h=0;for(const m of s){let y=po(m,a.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,a){if((s=Er(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return W1(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Qe.fromDate(s);return{timestampValue:Tu(a.serializer,c)}}if(s instanceof Qe){const c=new Qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tu(a.serializer,c)}}if(s instanceof Zn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _n)return{bytesValue:qy(a.serializer,s._byteString)};if(s instanceof gt){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Id(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof er)return(function(h,m){return{mapValue:{fields:{[yy]:{stringValue:vy},[vu]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ed(m.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${ku(s)}`)})(i,e)}function Sv(i,e){const n={};return hy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(i,((s,a)=>{const c=po(a,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Av(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qe||i instanceof Zn||i instanceof _n||i instanceof gt||i instanceof Hu||i instanceof er)}function Fd(i,e,n){if(!Av(n)||!uy(n)){const s=ku(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ld(i,e,n){if((e=Er(e))instanceof qu)return e._internalPath;if(typeof e=="string")return Ud(i,e);throw Cu("Field path arguments must be of type string or ",i,!1,void 0,n)}const fS=new RegExp("[~\\*/\\[\\]]");function Ud(i,e,n){if(e.search(fS)>=0)throw Cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new qu(...e.split("."))._internalPath}catch{throw Cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Cu(i,e,n,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${s}`),h&&(y+=` in document ${a}`),y+=")"),new re(H.INVALID_ARGUMENT,m+i+y)}function Cv(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pS extends xv{data(){return super.data()}}function Bd(i,e){return typeof e=="string"?Ud(i,e):e instanceof qu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zd{}class Rv extends zd{}function Sg(i,e,...n){let s=[];e instanceof zd&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((y=>y instanceof qd)).length,m=c.filter((y=>y instanceof $d)).length;if(h>1||h>0&&m>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)i=a._apply(i);return i}class $d extends Rv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new $d(e,n,s)}_apply(e){const n=this._parse(e);return Pv(e._query,n),new Yi(e.firestore,e.converter,Xh(e._query,n))}_parse(e){const n=bd(e.firestore);return(function(c,h,m,y,v,w,T){let A;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){xg(T,w);const $=[];for(const q of T)$.push(Cg(y,c,q));A={arrayValue:{values:$}}}else A=Cg(y,c,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||xg(T,w),A=dS(m,h,T,w==="in"||w==="not-in");return ut.create(v,w,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qd extends zd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qd(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let h=a;const m=c.getFlattenedFilters();for(const y of m)Pv(h,y),h=Xh(h,y)})(e._query,n),new Yi(e.firestore,e.converter,Xh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hd extends Rv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hd(e,n)}_apply(e){const n=(function(a,c,h){if(a.startAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xa(c,h)})(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,(function(a,c){const h=a.explicitOrderBy.concat([c]);return new ho(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ag(i,e="asc"){const n=e,s=Bd("orderBy",i);return Hd._create(s,n)}function Cg(i,e,n){if(typeof(n=Er(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xy(e)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(He.fromString(n));if(!pe.isDocumentKey(s))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bm(i,new pe(s))}if(n instanceof gt)return Bm(i,n._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ku(n)}.`)}function xg(i,e){if(!Array.isArray(i)||i.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pv(i,e){const n=(function(a,c){for(const h of a)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gS{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fi(e,((a,c)=>{s[a]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[vu].arrayValue?.values?.map((s=>st(s.doubleValue)));return new er(n)}convertGeoPoint(e){return new Zn(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Du(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Sa(e));default:return null}}convertTimestamp(e){const n=oi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=He.fromString(e);je(Yy(s),9688,{name:e});const a=new Aa(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return a.isEqual(n)||Tr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends xv{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Bd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:ct("string",Ks._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class cu extends Ks{data(e={}){return super.data(e)}}class Ys{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ru(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new cu(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((m=>{const y=new cu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ru(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new cu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ru(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:vS(m.type),doc:y,oldIndex:v,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:ct("string",Ys._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class _S extends gS{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Rg(i){i=eo(i,Yi);const e=eo(i.firestore,$u),n=wv(e),s=new _S(e);return mS(i._query),tS(n,i._query).then((a=>new Ys(e,s,i,a)))}function ES(i,e,n,...s){i=eo(i,gt);const a=eo(i.firestore,$u),c=bd(a);let h;return h=typeof(e=Er(e))=="string"||e instanceof qu?hS(c,"updateDoc",i._key,e,n,s):cS(c,"updateDoc",i._key,e),kv(a,[h.toMutation(i._key,Xn.exists(!0))])}function wS(i,e){const n=eo(i.firestore,$u),s=Ev(i),a=yS(i.converter,e);return kv(n,[lS(bd(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function kv(i,e){return(function(s,a){const c=new ri;return s.asyncQueue.enqueueAndForget((async()=>BI(await ZI(s),a,c))),c.promise})(wv(i),e)}function TS(...i){return new jd("arrayUnion",i)}(function(e,n=!0){(function(a){lo=a})(zw),mu(new wa("firestore",((s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new $u(new i1(s.getProvider("auth-internal")),new a1(h,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(v.options.projectId,w)})(h,a),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Gs(Rm,Pm,e),Gs(Rm,Pm,"esm2020")})();const IS={apiKey:"AIzaSyAiwr16ONESvCiq88OCoKvtJ2wrVY71OYw",authDomain:"skillhub-58e7c.firebaseapp.com",databaseURL:"https://skillhub-58e7c-default-rtdb.firebaseio.com",projectId:"skillhub-58e7c",storageBucket:"skillhub-58e7c.firebasestorage.app",messagingSenderId:"851826398170",appId:"1:851826398170:web:3ea895e4037f85f50c66e3",measurementId:"G-GJR211RYCQ"},SS=Xg(IS),iu=rS(SS),AS={en:{title:"Community Forum",newThread:"Create New Thread",threadHeading:"Thread Heading",addThread:"Add Thread",comment:"Add Comment",name:"Your Name",phone:"Phone (optional)",text:"Comment",submit:"Submit",noThreads:"No threads yet.",comments:"Comments",required:"* Required"},pa:{title:" ",newThread:"  ",threadHeading:" ",addThread:"  ",comment:"  ",name:" ",phone:" ()",text:"",submit:"",noThreads:"   ",comments:"",required:"* "}};function CS(){const{lang:i}=Mn(),e=AS[i],[n,s]=J.useState([]),[a,c]=J.useState(""),[h,m]=J.useState({name:"",phone:"",text:"",threadId:null}),[y,v]=J.useState(!1);J.useEffect(()=>{async function A(){v(!0);const F=Sg(Lh(iu,"threads"),Ag("created","asc")),$=await Rg(F);s($.docs.map(q=>({id:q.id,...q.data()}))),v(!1)}A()},[]);const w=async A=>{if(A.preventDefault(),!a.trim())return;const F=await wS(Lh(iu,"threads"),{heading:a,comments:[],created:new Date().toISOString()});s([...n,{id:F.id,heading:a,comments:[],created:new Date().toISOString()}]),c("")},T=async(A,F)=>{A.preventDefault();const{name:$,phone:q,text:U}=h;if(!$.trim()||!U.trim())return;const le=Ev(iu,"threads",F);await ES(le,{comments:TS({name:$,phone:q,text:U,date:new Date().toISOString()})});const te=Sg(Lh(iu,"threads"),Ag("created","asc")),ne=await Rg(te);s(ne.docs.map(de=>({id:de.id,...de.data()}))),m({name:"",phone:"",text:"",threadId:null})};return C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-semibold text-brand-700 mb-4",children:e.title}),C.jsxs("form",{className:"mb-8 flex gap-2",onSubmit:w,children:[C.jsx("input",{type:"text",value:a,onChange:A=>c(A.target.value),placeholder:e.threadHeading,required:!0,className:"border px-3 py-2 rounded-lg flex-1"}),C.jsx("button",{type:"submit",className:"bg-brand-700 text-white px-4 py-2 rounded-lg",children:e.addThread})]}),y&&C.jsx("div",{className:"text-gray-400 mb-8",children:"Loading..."}),n.length===0&&!y&&C.jsx("div",{className:"text-gray-400 mb-8",children:e.noThreads}),n.map(A=>C.jsxs("div",{className:"mb-8 border rounded-xl p-4 bg-gray-50",children:[C.jsx("div",{className:"font-bold text-brand-700 mb-2",children:A.heading}),C.jsxs("div",{className:"mb-2 text-sm text-gray-700",children:[e.comments,":"]}),C.jsx("ul",{className:"mb-2",children:A.comments&&A.comments.map((F,$)=>C.jsxs("li",{className:"mb-2 border-b pb-2",children:[C.jsxs("div",{className:"font-semibold",children:[F.name," ",F.phone&&C.jsxs("span",{className:"text-xs text-gray-500",children:["(",F.phone,")"]})]}),C.jsx("div",{children:F.text}),C.jsx("div",{className:"text-xs text-gray-400",children:new Date(F.date).toLocaleString()})]},$))}),C.jsxs("form",{className:"mt-2 flex flex-col gap-2",onSubmit:F=>T(F,A.id),children:[C.jsx("input",{type:"text",value:h.threadId===A.id?h.name:"",onChange:F=>m($=>({...$,name:F.target.value,threadId:A.id})),placeholder:`${e.name} ${e.required}`,required:!0,className:"border px-2 py-1 rounded"}),C.jsx("input",{type:"text",value:h.threadId===A.id?h.phone:"",onChange:F=>m($=>({...$,phone:F.target.value,threadId:A.id})),placeholder:e.phone,className:"border px-2 py-1 rounded"}),C.jsx("textarea",{value:h.threadId===A.id?h.text:"",onChange:F=>m($=>({...$,text:F.target.value,threadId:A.id})),placeholder:`${e.text} ${e.required}`,required:!0,className:"border px-2 py-1 rounded"}),C.jsx("button",{type:"submit",className:"bg-brand-700 text-white px-4 py-2 rounded-lg",children:e.submit})]})]},A.id))]})}function xS(){return C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(e0,{}),C.jsx("main",{className:"flex-1",children:C.jsxs(jE,{children:[C.jsx(Qn,{path:"/",element:C.jsx(n0,{})}),C.jsx(Qn,{path:"/courses",element:C.jsx(i0,{})}),C.jsx(Qn,{path:"/courses/digital-fraud-tutor",element:C.jsx(c0,{})}),C.jsx(Qn,{path:"/about",element:C.jsx(o0,{})}),C.jsx(Qn,{path:"/contact",element:C.jsx(l0,{})}),C.jsxs(Qn,{path:"/admin",element:C.jsx(d0,{}),children:[C.jsx(Qn,{path:"assets",element:C.jsx(p0,{})}),C.jsx(Qn,{path:"finance",element:C.jsx(g0,{})}),C.jsx(Qn,{path:"community",element:C.jsx(CS,{})})]})]})}),C.jsx(t0,{})]})}H_.createRoot(document.getElementById("root")).render(C.jsx(JE,{children:C.jsx(WE,{children:C.jsx(xS,{})})}));
